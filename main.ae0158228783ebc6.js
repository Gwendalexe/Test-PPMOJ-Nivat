"use strict";(self.webpackChunkgame=self.webpackChunkgame||[]).push([[792],{274:(ht,xe,D)=>{D.d(xe,{H:()=>S});var v=D(1397),e=D(8071);function S(N,ne){return(0,e.T)(ne)?(0,v.Z)(N,ne,1):(0,v.Z)(N,1)}},345:(ht,xe,D)=>{D.d(xe,{hE:()=>ne,up:()=>He});var v=D(9361),e=D(1360);let ne=(()=>{class yt{_doc;constructor(lt){this._doc=lt}getTitle(){return this._doc.title}setTitle(lt){this._doc.title=lt||""}static \u0275fac=function(Ot){return new(Ot||yt)(e.KVO(v.q))};static \u0275prov=e.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),He=(()=>{class yt{static \u0275fac=function(Ot){return new(Ot||yt)};static \u0275prov=e.jDH({token:yt,factory:function(Ot){let un=null;return un=Ot?new(Ot||yt):e.KVO(tt),un},providedIn:"root"})}return yt})(),tt=(()=>{class yt extends He{_doc;constructor(lt){super(),this._doc=lt}sanitize(lt,Ot){if(null==Ot)return null;switch(lt){case e.WPN.NONE:return Ot;case e.WPN.HTML:return(0,e.ZF7)(Ot,"HTML")?(0,e.rcV)(Ot):(0,e.h9k)(this._doc,String(Ot)).toString();case e.WPN.STYLE:return(0,e.ZF7)(Ot,"Style")?(0,e.rcV)(Ot):Ot;case e.WPN.SCRIPT:if((0,e.ZF7)(Ot,"Script"))return(0,e.rcV)(Ot);throw new e.wOt(5200,!1);case e.WPN.URL:return(0,e.ZF7)(Ot,"URL")?(0,e.rcV)(Ot):(0,e.$MX)(String(Ot));case e.WPN.RESOURCE_URL:if((0,e.ZF7)(Ot,"ResourceURL"))return(0,e.rcV)(Ot);throw new e.wOt(5201,!1);default:throw new e.wOt(5202,!1)}}bypassSecurityTrustHtml(lt){return(0,e.Kcf)(lt)}bypassSecurityTrustStyle(lt){return(0,e.cWb)(lt)}bypassSecurityTrustScript(lt){return(0,e.UyX)(lt)}bypassSecurityTrustUrl(lt){return(0,e.osQ)(lt)}bypassSecurityTrustResourceUrl(lt){return(0,e.e5t)(lt)}static \u0275fac=function(Ot){return new(Ot||yt)(e.KVO(v.q))};static \u0275prov=e.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})()},467:(ht,xe,D)=>{function v(S,N,ne,R,q,ce,te){try{var le=S[ce](te),me=le.value}catch(ke){return void ne(ke)}le.done?N(me):Promise.resolve(me).then(R,q)}function e(S){return function(){var N=this,ne=arguments;return new Promise(function(R,q){var ce=S.apply(N,ne);function te(me){v(ce,R,q,te,le,"next",me)}function le(me){v(ce,R,q,te,le,"throw",me)}te(void 0)})}}D.d(xe,{A:()=>e})},536:(ht,xe,D)=>{D.d(xe,{X:()=>q});var v=D(6780),e=D(8359);const S={schedule(te){let le=requestAnimationFrame,me=cancelAnimationFrame;const{delegate:ke}=S;ke&&(le=ke.requestAnimationFrame,me=ke.cancelAnimationFrame);const Me=le(Ie=>{me=void 0,te(Ie)});return new e.yU(()=>me?.(Me))},requestAnimationFrame(...te){const{delegate:le}=S;return(le?.requestAnimationFrame||requestAnimationFrame)(...te)},cancelAnimationFrame(...te){const{delegate:le}=S;return(le?.cancelAnimationFrame||cancelAnimationFrame)(...te)},delegate:void 0};var ne=D(9687);const q=new class R extends ne.q{flush(le){let me;this._active=!0,le?me=le.id:(me=this._scheduled,this._scheduled=void 0);const{actions:ke}=this;let Me;le=le||ke.shift();do{if(Me=le.execute(le.state,le.delay))break}while((le=ke[0])&&le.id===me&&ke.shift());if(this._active=!1,Me){for(;(le=ke[0])&&le.id===me&&ke.shift();)le.unsubscribe();throw Me}}}(class N extends v.R{constructor(le,me){super(le,me),this.scheduler=le,this.work=me}requestAsyncId(le,me,ke=0){return null!==ke&&ke>0?super.requestAsyncId(le,me,ke):(le.actions.push(this),le._scheduled||(le._scheduled=S.requestAnimationFrame(()=>le.flush(void 0))))}recycleAsyncId(le,me,ke=0){var Me;if(null!=ke?ke>0:this.delay>0)return super.recycleAsyncId(le,me,ke);const{actions:Ie}=le;null!=me&&me===le._scheduled&&(null===(Me=Ie[Ie.length-1])||void 0===Me?void 0:Me.id)!==me&&(S.cancelAnimationFrame(me),le._scheduled=void 0)}})},591:(ht,xe,D)=>{function v(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(xe,{L:()=>v})},969:(ht,xe,D)=>{D.d(xe,{FX:()=>rt,If:()=>v,K2:()=>R,MA:()=>ke,Os:()=>ne,P:()=>Ie,PZ:()=>Le,hZ:()=>S,i0:()=>N,iF:()=>q,kY:()=>le,kp:()=>e,sf:()=>ze,wk:()=>ce});var v=function(We){return We[We.State=0]="State",We[We.Transition=1]="Transition",We[We.Sequence=2]="Sequence",We[We.Group=3]="Group",We[We.Animate=4]="Animate",We[We.Keyframes=5]="Keyframes",We[We.Style=6]="Style",We[We.Trigger=7]="Trigger",We[We.Reference=8]="Reference",We[We.AnimateChild=9]="AnimateChild",We[We.AnimateRef=10]="AnimateRef",We[We.Query=11]="Query",We[We.Stagger=12]="Stagger",We}(v||{});const e="*";function S(We,He){return{type:v.Trigger,name:We,definitions:He,options:{}}}function N(We,He=null){return{type:v.Animate,styles:He,timings:We}}function ne(We,He=null){return{type:v.Group,steps:We,options:He}}function R(We,He=null){return{type:v.Sequence,steps:We,options:He}}function q(We){return{type:v.Style,styles:We,offset:null}}function ce(We,He,tt){return{type:v.State,name:We,styles:He,options:tt}}function le(We,He,tt=null){return{type:v.Transition,expr:We,animation:He,options:tt}}function ke(We=null){return{type:v.AnimateChild,options:We}}function Ie(We,He,tt=null){return{type:v.Query,selector:We,animation:He,options:tt}}class ze{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(He=0,tt=0){this.totalTime=He+tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(He=>He()),this._onDoneFns=[])}onStart(He){this._originalOnStartFns.push(He),this._onStartFns.push(He)}onDone(He){this._originalOnDoneFns.push(He),this._onDoneFns.push(He)}onDestroy(He){this._onDestroyFns.push(He)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(He=>He()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(He=>He()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(He){this._position=this.totalTime?He*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(He){const tt="start"==He?this._onStartFns:this._onDoneFns;tt.forEach(_e=>_e()),tt.length=0}}class Le{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(He){this.players=He;let tt=0,_e=0,Ce=0;const be=this.players.length;0==be?queueMicrotask(()=>this._onFinish()):this.players.forEach(we=>{we.onDone(()=>{++tt==be&&this._onFinish()}),we.onDestroy(()=>{++_e==be&&this._onDestroy()}),we.onStart(()=>{++Ce==be&&this._onStart()})}),this.totalTime=this.players.reduce((we,Ve)=>Math.max(we,Ve.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(He=>He()),this._onDoneFns=[])}init(){this.players.forEach(He=>He.init())}onStart(He){this._onStartFns.push(He)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(He=>He()),this._onStartFns=[])}onDone(He){this._onDoneFns.push(He)}onDestroy(He){this._onDestroyFns.push(He)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(He=>He.play())}pause(){this.players.forEach(He=>He.pause())}restart(){this.players.forEach(He=>He.restart())}finish(){this._onFinish(),this.players.forEach(He=>He.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(He=>He.destroy()),this._onDestroyFns.forEach(He=>He()),this._onDestroyFns=[])}reset(){this.players.forEach(He=>He.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(He){const tt=He*this.totalTime;this.players.forEach(_e=>{const Ce=_e.totalTime?Math.min(1,tt/_e.totalTime):1;_e.setPosition(Ce)})}getPosition(){const He=this.players.reduce((tt,_e)=>null===tt||_e.totalTime>tt.totalTime?_e:tt,null);return null!=He?He.getPosition():0}beforeDestroy(){this.players.forEach(He=>{He.beforeDestroy&&He.beforeDestroy()})}triggerCallback(He){const tt="start"==He?this._onStartFns:this._onDoneFns;tt.forEach(_e=>_e()),tt.length=0}}const rt="!"},980:(ht,xe,D)=>{D.d(xe,{j:()=>e});var v=D(9974);function e(S){return(0,v.N)((N,ne)=>{try{N.subscribe(ne)}finally{ne.add(S)}})}},983:(ht,xe,D)=>{D.d(xe,{w:()=>e});const e=new(D(1985).c)(ne=>ne.complete())},1026:(ht,xe,D)=>{D.d(xe,{$:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(ht,xe,D)=>{D.d(xe,{F:()=>e,m:()=>S});var v=D(3669);function e(...N){return S(N)}function S(N){return 0===N.length?v.D:1===N.length?N[0]:function(R){return N.reduce((q,ce)=>ce(q),R)}}},1360:(ht,xe,D)=>{function e(t,i){return Object.is(t,i)}D.d(xe,{bc$:()=>co,iLQ:()=>Gf,sZ2:()=>Ws,Hbi:()=>ZP,o8S:()=>Ao,BIS:()=>Xs,gRc:()=>zx,Ql9:()=>CP,OM3:()=>Af,Ocv:()=>IP,abz:()=>_s,Z63:()=>ir,aKT:()=>rd,uvJ:()=>Ur,zcH:()=>bs,bkB:()=>vs,$GK:()=>Gt,nKC:()=>Et,zZn:()=>hr,_q3:()=>vC,MKu:()=>bC,xe9:()=>mC,Co$:()=>M1,Vns:()=>Mc,SKi:()=>yi,Xx1:()=>os,Agw:()=>ep,PLl:()=>Zl,rOR:()=>vv,sFG:()=>OM,_9s:()=>Kb,czy:()=>Ud,WPN:()=>ba,kdw:()=>pr,C4Q:()=>bc,NYb:()=>$I,giA:()=>tw,RxE:()=>Ax,c1b:()=>Kg,gXe:()=>Ko,mal:()=>Eh,Tzd:()=>Ch,L39:()=>CF,EWP:()=>im,sbv:()=>mS,a0P:()=>GF,Ol2:()=>hy,w6W:()=>wS,QZP:()=>CC,Rfq:()=>Oe,oKB:()=>Sl,WQX:()=>Tt,hFB:()=>eE,Hps:()=>Gm,QuC:()=>so,EmA:()=>Vr,Udg:()=>EF,phd:()=>zI,HJs:()=>HF,N4e:()=>Do,vPA:()=>ql,O8t:()=>Is,H3F:()=>Cy,H8p:()=>Eo,KH2:()=>mu,Ua0:()=>za,wOt:()=>Z,WHO:()=>J1,e01:()=>ew,Lf2:()=>Cs,lNU:()=>re,h9k:()=>Up,$MX:()=>uc,ZF7:()=>_a,Kcf:()=>Pd,e5t:()=>_0,UyX:()=>p0,cWb:()=>Fd,osQ:()=>g0,H5H:()=>Xy,Zy3:()=>de,mq5:()=>Xw,JZv:()=>qn,TL3:()=>JP,LfX:()=>kn,plB:()=>xc,jNT:()=>My,zjR:()=>iw,ngT:()=>Wr,TL$:()=>fa,Tbb:()=>Nn,rcV:()=>Yo,nM4:()=>R1,Vt3:()=>my,OA$:()=>Uc,Jv_:()=>ix,R7$:()=>uf,BMQ:()=>Ty,x72:()=>Py,HbH:()=>Tw,ZvI:()=>Lw,AVh:()=>By,vxM:()=>$w,wni:()=>ID,C6U:()=>PD,VBU:()=>I1,FsC:()=>k1,jDH:()=>ve,G2t:()=>wt,$C:()=>fy,EJ8:()=>O1,rXU:()=>Zd,nrm:()=>Hy,eu8:()=>zy,bVm:()=>l_,qex:()=>a_,k0s:()=>s_,j41:()=>o_,RV6:()=>zw,xGo:()=>J_,Mr5:()=>Wy,KVO:()=>vi,kS0:()=>ed,QTQ:()=>XE,bIt:()=>Yy,lsd:()=>TD,qSk:()=>Dm,XpG:()=>_D,nI1:()=>mx,bMT:()=>px,i5U:()=>gx,SdG:()=>bD,NAR:()=>vD,Y8G:()=>Ny,Mz_:()=>f_,FCK:()=>Zy,lJ4:()=>ox,eq3:()=>sx,l_i:()=>ax,sMw:()=>lx,NyB:()=>FD,mGM:()=>OD,sdS:()=>RD,Njj:()=>pm,tSv:()=>Xp,eBV:()=>Tu,npT:()=>Qh,f$h:()=>ef,$dS:()=>Zh,B4B:()=>Jh,n$t:()=>$p,xc7:()=>Ly,DNE:()=>vy,C5r:()=>_x,EFF:()=>HD,JRh:()=>Jy,SpI:()=>m_,Lme:()=>eC,DH7:()=>JD,mxI:()=>nC,R50:()=>tC,GBs:()=>kD}),D(467);let S=null,N=!1,ne=1;const R=Symbol("SIGNAL");function q(t){const i=S;return S=t,i}const me={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ke(t){if(N)throw new Error("");if(null===S)return;S.consumerOnSignalRead(t);const i=S.nextProducerIndex++;Ve(S),i<S.producerNode.length&&S.producerNode[i]!==t&&we(S)&&be(S.producerNode[i],S.producerIndexOfThis[i]),S.producerNode[i]!==t&&(S.producerNode[i]=t,S.producerIndexOfThis[i]=we(S)?Ce(t,S,i):0),S.producerLastReadVersion[i]=t.version}function Ie(t){if((!we(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==ne)){if(!t.producerMustRecompute(t)&&!tt(t))return void rt(t);t.producerRecomputeValue(t),rt(t)}}function Ne(t){if(void 0===t.liveConsumerNode)return;const i=N;N=!0;try{for(const o of t.liveConsumerNode)o.dirty||Le(o)}finally{N=i}}function ze(){return!1!==S?.consumerAllowSignalWrites}function Le(t){t.dirty=!0,Ne(t),t.consumerMarkedDirty?.(t)}function rt(t){t.dirty=!1,t.lastCleanEpoch=ne}function We(t){return t&&(t.nextProducerIndex=0),q(t)}function He(t,i){if(q(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(we(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)be(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tt(t){Ve(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],s=t.producerLastReadVersion[i];if(s!==o.version||(Ie(o),s!==o.version))return!0}return!1}function _e(t){if(Ve(t),we(t))for(let i=0;i<t.producerNode.length;i++)be(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ce(t,i,o){if(pt(t),0===t.liveConsumerNode.length&&jt(t))for(let s=0;s<t.producerNode.length;s++)t.producerIndexOfThis[s]=Ce(t.producerNode[s],t,s);return t.liveConsumerIndexOfThis.push(o),t.liveConsumerNode.push(i)-1}function be(t,i){if(pt(t),1===t.liveConsumerNode.length&&jt(t))for(let s=0;s<t.producerNode.length;s++)be(t.producerNode[s],t.producerIndexOfThis[s]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[i],d=t.liveConsumerNode[i];Ve(d),d.producerIndexOfThis[s]=i}}function we(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ve(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pt(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function jt(t){return void 0!==t.producerNode}function it(t,i){const o=Object.create(Lt);o.computation=t,void 0!==i&&(o.equal=i);const s=()=>{if(Ie(o),ke(o),o.value===yt)throw o.error;return o.value};return s[R]=o,s}const At=Symbol("UNSET"),dn=Symbol("COMPUTING"),yt=Symbol("ERRORED"),Lt={...me,value:At,dirty:!0,error:null,equal:e,kind:"computed",producerMustRecompute:t=>t.value===At||t.value===dn,producerRecomputeValue(t){if(t.value===dn)throw new Error("Detected cycle in computations.");const i=t.value;t.value=dn;const o=We(t);let s,d=!1;try{s=t.computation(),q(null),d=i!==At&&i!==yt&&s!==yt&&t.equal(i,s)}catch(u){s=yt,t.error=u}finally{He(t,o)}d?t.value=i:(t.value=s,t.version++)}};let Ot=function lt(){throw new Error};function un(t){Ot(t)}let Se=null;function Be(t,i){ze()||un(t),t.equal(t.value,i)||(t.value=i,function Pt(t){t.version++,function Me(){ne++}(),Ne(t),Se?.()}(t))}const Dt={...me,equal:e,value:void 0,kind:"signal"};let bn;function tn(){return bn}function fn(t){const i=bn;return bn=t,i}const Pn=Symbol("NotFound");Error;var Mi=D(4412),ti=D(1413),Si=D(8359),Xe=D(6354);const re="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Z extends Error{code;constructor(i,o){super(de(i,o)),this.code=i}}function de(t,i){return`${function Ue(t){return`NG0${Math.abs(t)}`}(t)}${i?": "+i:""}`}const Ke=Symbol("InputSignalNode#UNSET"),X={...Dt,transformFn:void 0,applyValueToInputSignal(t,i){Be(t,i)}};function $(t,i){const o=Object.create(X);function s(){if(ke(o),o.value===Ke)throw new Z(-950,null);return o.value}return o.value=t,o.transformFn=i?.transform,s[R]=o,s}function he(t){return{toString:t}.toString()}const qe="__parameters__";function ln(t,i,o){return he(()=>{const s=function Ht(t){return function(...o){if(t){const s=t(...o);for(const d in s)this[d]=s[d]}}}(i);function d(...u){if(this instanceof d)return s.apply(this,u),this;const f=new d(...u);return m.annotation=f,m;function m(g,x,O){const V=g.hasOwnProperty(qe)?g[qe]:Object.defineProperty(g,qe,{value:[]})[qe];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(f),g}}return d.prototype.ngMetadataName=t,d.annotationCls=d,d})}const qn=globalThis;function sn(t){for(let i in t)if(t[i]===sn)return i;throw Error("Could not find renamed property on target object.")}function Hi(t,i){for(const o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}function Nn(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(Nn).join(", ")}]`;if(null==t)return""+t;const i=t.overriddenName||t.name;if(i)return`${i}`;const o=t.toString();if(null==o)return""+o;const s=o.indexOf("\n");return s>=0?o.slice(0,s):o}function zi(t,i){return t?i?`${t} ${i}`:t:i||""}const Ye=sn({__forward_ref__:sn});function Oe(t){return t.__forward_ref__=Oe,t.toString=function(){return Nn(this())},t}function ee(t){return Te(t)?t():t}function Te(t){return"function"==typeof t&&t.hasOwnProperty(Ye)&&t.__forward_ref__===Oe}function ve(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wt(t){return{providers:t.providers||[],imports:t.imports||[]}}function en(t){return Cn(t,On)||Cn(t,Yn)}function kn(t){return null!==en(t)}function Cn(t,i){return t.hasOwnProperty(i)?t[i]:null}function zn(t){return t&&(t.hasOwnProperty(En)||t.hasOwnProperty(Li))?t[En]:null}const On=sn({\u0275prov:sn}),En=sn({\u0275inj:sn}),Yn=sn({ngInjectableDef:sn}),Li=sn({ngInjectorDef:sn});class Et{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(i,o){this._desc=i,this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=ve({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ar(t){return t&&!!t.\u0275providers}const Jr=sn({\u0275cmp:sn}),Os=sn({\u0275dir:sn}),po=sn({\u0275pipe:sn}),k=sn({\u0275mod:sn}),oe=sn({\u0275fac:sn}),A=sn({__NG_ELEMENT_ID__:sn}),G=sn({__NG_ENV_ID__:sn});function ue(t){return"string"==typeof t?t:null==t?"":String(t)}function Wn(t,i){throw new Z(-200,t)}function mn(t,i){throw new Z(-201,!1)}var Gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Gt||{});let Kn;function _i(){return Kn}function Ln(t){const i=Kn;return Kn=t,i}function nr(t,i,o){const s=en(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:o&Gt.Optional?null:void 0!==i?i:void mn()}const Wi={},Dr="__NG_DI_FLAG__";class xr{injector;constructor(i){this.injector=i}retrieve(i,o){return this.injector.get(i,o.optional?Pn:Wi,o)}}const No="ngTempTokenPath",Ts=/\n/gm,vo="__source";function Fs(t,i=Gt.Default){if(void 0===tn())throw new Z(-203,!1);if(null===tn())return nr(t,void 0,i);{const o=tn();let s;return s=o instanceof xr?o.injector:o,s.get(t,i&Gt.Optional?null:void 0,i)}}function vi(t,i=Gt.Default){return(_i()||Fs)(ee(t),i)}function Tt(t,i=Gt.Default){return vi(t,bo(i))}function bo(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yo(t){const i=[];for(let o=0;o<t.length;o++){const s=ee(t[o]);if(Array.isArray(s)){if(0===s.length)throw new Z(900,!1);let d,u=Gt.Default;for(let f=0;f<s.length;f++){const m=s[f],g=Rs(m);"number"==typeof g?-1===g?d=m.token:u|=g:d=m}i.push(vi(d,u))}else i.push(vi(s))}return i}function rs(t,i){return t[Dr]=i,t.prototype[Dr]=i,t}function Rs(t){return t[Dr]}const os=rs(ln("Optional"),8),pr=rs(ln("SkipSelf"),4);function Pr(t,i){return t.hasOwnProperty(oe)?t[oe]:null}function Co(t,i){t.forEach(o=>Array.isArray(o)?Co(o,i):i(o))}function Ac(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function Lo(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Mr(t,i,o){let s=Br(t,i);return s>=0?t[1|s]=o:(s=~s,function Vo(t,i,o,s){let d=t.length;if(d==i)t.push(o,s);else if(1===d)t.push(s,t[0]),t[0]=o;else{for(d--,t.push(t[d-1],t[d]);d>i;)t[d]=t[d-2],d--;t[i]=o,t[i+1]=s}}(t,s,i,o)),s}function ss(t,i){const o=Br(t,i);if(o>=0)return t[1|o]}function Br(t,i){return function Uo(t,i,o){let s=0,d=t.length>>o;for(;d!==s;){const u=s+(d-s>>1),f=t[u<<o];if(i===f)return u<<o;f>i?d=u:s=u+1}return~(d<<o)}(t,i,1)}const Fr={},Fn=[],ir=new Et(""),as=new Et("",-1),Oa=new Et("");class ls{get(i,o=Wi){if(o===Wi){const s=new Error(`NullInjectorError: No provider for ${Nn(i)}!`);throw s.name="NullInjectorError",s}return o}}function lr(t,i){const o=t[k]||null;if(!o&&!0===i)throw new Error(`Type ${Nn(t)} does not have '\u0275mod' property.`);return o}function wn(t){return t[Jr]||null}function Ki(t){return t[Os]||null}function cr(t){return t[po]||null}function so(t){const i=wn(t)||Ki(t)||cr(t);return null!==i&&i.standalone}function Vr(t){return{\u0275providers:t}}function Sl(...t){return{\u0275providers:ra(0,t),\u0275fromNgModule:!0}}function ra(t,...i){const o=[],s=new Set;let d;const u=f=>{o.push(f)};return Co(i,f=>{const m=f;I(m,u,[],s)&&(d||=[],d.push(m))}),void 0!==d&&Ta(d,u),o}function Ta(t,i){for(let o=0;o<t.length;o++){const{ngModule:s,providers:d}=t[o];E(d,u=>{i(u,s)})}}function I(t,i,o,s){if(!(t=ee(t)))return!1;let d=null,u=zn(t);const f=!u&&wn(t);if(u||f){if(f&&!f.standalone)return!1;d=t}else{const g=t.ngModule;if(u=zn(g),!u)return!1;d=g}const m=s.has(d);if(f){if(m)return!1;if(s.add(d),f.dependencies){const g="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const x of g)I(x,i,o,s)}}else{if(!u)return!1;{if(null!=u.imports&&!m){let x;s.add(d);try{Co(u.imports,O=>{I(O,i,o,s)&&(x||=[],x.push(O))})}finally{}void 0!==x&&Ta(x,i)}if(!m){const x=Pr(d)||(()=>new d);i({provide:d,useFactory:x,deps:Fn},d),i({provide:Oa,useValue:d,multi:!0},d),i({provide:ir,useValue:()=>vi(d),multi:!0},d)}const g=u.providers;if(null!=g&&!m){const x=t;E(g,O=>{i(O,x)})}}}return d!==t&&void 0!==t.providers}function E(t,i){for(let o of t)ar(o)&&(o=o.\u0275providers),Array.isArray(o)?E(o,i):i(o)}const B=sn({provide:String,useValue:sn});function fe(t){return null!==t&&"object"==typeof t&&B in t}function qi(t){return"function"==typeof t}const Eo=new Et(""),Ls={},cs={};let Il;function Pa(){return void 0===Il&&(Il=new ls),Il}class Ur{}class wo extends Ur{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(i,o,s,d){super(),this.parent=o,this.source=s,this.scopes=d,Tl(i,f=>this.processProvider(f)),this.records.set(as,Yi(void 0,this)),d.has("environment")&&this.records.set(Ur,Yi(void 0,this));const u=this.records.get(Eo);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(Oa,Fn,Gt.Self))}retrieve(i,o){return this.get(i,o.optional?Pn:Wi,o)}destroy(){ds(this),this._destroyed=!0;const i=q(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of o)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),q(i)}}onDestroy(i){return ds(this),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){ds(this);const o=fn(this),s=Ln(void 0);try{return i()}finally{fn(o),Ln(s)}}get(i,o=Wi,s=Gt.Default){if(ds(this),i.hasOwnProperty(G))return i[G](this);s=bo(s);const u=fn(this),f=Ln(void 0);try{if(!(s&Gt.SkipSelf)){let g=this.records.get(i);if(void 0===g){const x=function Bs(t){return"function"==typeof t||"object"==typeof t&&t instanceof Et}(i)&&en(i);g=x&&this.injectableDefInScope(x)?Yi(ao(i),Ls):null,this.records.set(i,g)}if(null!=g)return this.hydrate(i,g,s)}return(s&Gt.Self?Pa():this.parent).get(i,o=s&Gt.Optional&&o===Wi?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[No]=m[No]||[]).unshift(Nn(i)),u)throw m;return function na(t,i,o,s){const d=t[No];throw i[vo]&&d.unshift(i[vo]),t.message=function ia(t,i,o,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=Nn(i);if(Array.isArray(i))d=i.map(Nn).join(" -> ");else if("object"==typeof i){let u=[];for(let f in i)if(i.hasOwnProperty(f)){let m=i[f];u.push(f+":"+("string"==typeof m?JSON.stringify(m):Nn(m)))}d=`{${u.join(", ")}}`}return`${o}${s?"("+s+")":""}[${d}]: ${t.replace(Ts,"\n  ")}`}("\n"+t.message,d,o,s),t.ngTokenPath=d,t[No]=null,t}(m,i,"R3InjectorError",this.source)}throw m}finally{Ln(f),fn(u)}}resolveInjectorInitializers(){const i=q(null),o=fn(this),s=Ln(void 0);try{const u=this.get(ir,Fn,Gt.Self);for(const f of u)f()}finally{fn(o),Ln(s),q(i)}}toString(){const i=[],o=this.records;for(const s of o.keys())i.push(Nn(s));return`R3Injector[${i.join(", ")}]`}processProvider(i){let o=qi(i=ee(i))?i:ee(i&&i.provide);const s=function Ol(t){return fe(t)?Yi(void 0,t.useValue):Yi(oa(t),Ls)}(i);if(!qi(i)&&!0===i.multi){let d=this.records.get(o);d||(d=Yi(void 0,Ls,!0),d.factory=()=>yo(d.multi),this.records.set(o,d)),o=i,d.multi.push(i)}this.records.set(o,s)}hydrate(i,o,s){const d=q(null);try{return o.value===cs?Wn(Nn(i)):o.value===Ls&&(o.value=cs,o.value=o.factory(void 0,s)),"object"==typeof o.value&&o.value&&function _u(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{q(d)}}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ee(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function ao(t){const i=en(t),o=null!==i?i.factory:Pr(t);if(null!==o)return o;if(t instanceof Et)throw new Z(204,!1);if(t instanceof Function)return function kl(t){if(t.length>0)throw new Z(204,!1);const o=function Xt(t){return t&&(t[On]||t[Yn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Z(204,!1)}function oa(t,i,o){let s;if(qi(t)){const d=ee(t);return Pr(d)||ao(d)}if(fe(t))s=()=>ee(t.useValue);else if(function pn(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...yo(t.deps||[]));else if(function Ft(t){return!(!t||!t.useExisting)}(t))s=(d,u)=>vi(ee(t.useExisting),void 0!==u&&u&Gt.Optional?Gt.Optional:void 0);else{const d=ee(t&&(t.useClass||t.provide));if(!function Nc(t){return!!t.deps}(t))return Pr(d)||ao(d);s=()=>new d(...yo(t.deps))}return s}function ds(t){if(t.destroyed)throw new Z(205,!1)}function Yi(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function Tl(t,i){for(const o of t)Array.isArray(o)?Tl(o,i):o&&ar(o)?Tl(o.\u0275providers,i):i(o)}function Do(t,i){let o;t instanceof wo?(ds(t),o=t):o=new xr(t);const d=fn(o),u=Ln(void 0);try{return i()}finally{fn(d),Ln(u)}}function Fa(){return void 0!==_i()||null!=tn()}function Vs(t){if(!Fa())throw new Z(-203,!1)}const Gn=0,ct=1,Kt=2,bi=3,ci=4,mi=5,Fi=6,$o=7,Hn=8,di=9,gr=10,Zt=11,xo=12,Aa=13,hs=14,pi=15,Vi=16,Go=17,to=18,Ho=19,Na=20,Mo=21,zo=23,_r=24,Rt=26,b=1,y=7,P=9,Q=10;function H(t){return Array.isArray(t)&&"object"==typeof t[b]}function Ee(t){return Array.isArray(t)&&!0===t[b]}function nt(t){return!!(4&t.flags)}function mt(t){return t.componentOffset>-1}function gn(t){return!(1&~t.flags)}function Un(t){return!!t.template}function wi(t){return!!(512&t[Kt])}function dr(t){return!(256&~t[Kt])}class S_{previousValue;currentValue;firstChange;constructor(i,o,s){this.previousValue=i,this.currentValue=o,this.firstChange=s}isFirstChange(){return this.firstChange}}function Eu(t,i,o,s){null!==i?i.applyValueToInputSignal(i,s):t[o]=s}const Uc=(()=>{const t=()=>wu;return t.ngInherit=!0,t})();function wu(t){return t.type.prototype.ngOnChanges&&(t.setInput=I_),OC}function OC(){const t=lm(this),i=t?.current;if(i){const o=t.previous;if(o===Fr)t.previous=i;else for(let s in i)o[s]=i[s];t.current=null,this.ngOnChanges(i)}}function I_(t,i,o,s,d){const u=this.declaredInputs[s],f=lm(t)||function k_(t,i){return t[Du]=i}(t,{previous:Fr,current:null}),m=f.current||(f.current={}),g=f.previous,x=g[u];m[u]=new S_(x&&x.currentValue,o,g===Fr),Eu(t,i,d,o)}const Du="__ngSimpleChanges__";function lm(t){return t[Du]||null}const Qn=function(t,i=null,o){},cm="svg";function $n(t){for(;Array.isArray(t);)t=t[Gn];return t}function $s(t,i){return $n(i[t])}function Ar(t,i){return $n(i[t.index])}function ca(t,i){return t.data[i]}function da(t,i){return t[i]}function Nr(t,i){const o=i[t];return H(o)?o:o[Gn]}function jl(t){return!(128&~t[Kt])}function $r(t,i){return null==i?null:t[i]}function um(t){t[Go]=0}function Su(t){1024&t[Kt]||(t[Kt]|=1024,jl(t)&&fs(t))}function Bl(t){return!!(9216&t[Kt]||t[_r]?.dirty)}function Iu(t){t[gr].changeDetectionScheduler?.notify(8),64&t[Kt]&&(t[Kt]|=1024),Bl(t)&&fs(t)}function fs(t){t[gr].changeDetectionScheduler?.notify(0);let i=Wo(t);for(;null!==i&&!(8192&i[Kt])&&(i[Kt]|=8192,jl(i));)i=Wo(i)}function Hc(t,i){if(dr(t))throw new Z(911,!1);null===t[Mo]&&(t[Mo]=[]),t[Mo].push(i)}function Wo(t){const i=t[bi];return Ee(i)?i[bi]:i}function Wc(t){return t[$o]??=[]}function Gr(t){return t.cleanup??=[]}const an={lFrame:Cm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let ku=!1;function Ou(){return an.bindingsEnabled}function ms(){return null!==an.skipHydrationRootTNode}function $e(){return an.lFrame.lView}function rn(){return an.lFrame.tView}function Tu(t){return an.lFrame.contextLView=t,t[Hn]}function pm(t){return an.lFrame.contextLView=null,t}function Tn(){let t=gm();for(;null!==t&&64===t.type;)t=t.parent;return t}function gm(){return an.lFrame.currentTNode}function ko(t,i){const o=an.lFrame;o.currentTNode=t,o.isParent=i}function Pu(){return an.lFrame.isParent}function Fu(){an.lFrame.isParent=!1}function _m(){return ku}function Au(t){const i=ku;return ku=t,i}function Hr(){const t=an.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function zr(){return an.lFrame.bindingIndex++}function Ct(t){const i=an.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,o}function A_(t,i){const o=an.lFrame;o.bindingIndex=o.bindingRootIndex=t,Nu(i)}function Nu(t){an.lFrame.currentDirectiveIndex=t}function Lu(){return an.lFrame.currentQueryIndex}function qc(t){an.lFrame.currentQueryIndex=t}function j_(t){const i=t[ct];return 2===i.type?i.declTNode:1===i.type?t[mi]:null}function bm(t,i,o){if(o&Gt.SkipSelf){let d=i,u=t;for(;!(d=d.parent,null!==d||o&Gt.Host||(d=j_(u),null===d||(u=u[hs],10&d.type))););if(null===d)return!1;i=d,t=u}const s=an.lFrame=ym();return s.currentTNode=i,s.lView=t,!0}function Bu(t){const i=ym(),o=t[ct];an.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ym(){const t=an.lFrame,i=null===t?null:t.child;return null===i?Cm(t):i}function Cm(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Em(){const t=an.lFrame;return an.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wm=Em;function Vu(){const t=Em();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function br(){return an.lFrame.selectedIndex}function ua(t){an.lFrame.selectedIndex=t}function ri(){const t=an.lFrame;return ca(t.tView,t.selectedIndex)}function Dm(){an.lFrame.currentNamespace=cm}let Zc=!0;function Gs(){return Zc}function Oo(t){Zc=t}function Va(t,i){for(let o=i.directiveStart,s=i.directiveEnd;o<s;o++){const u=t.data[o].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:m,ngAfterViewInit:g,ngAfterViewChecked:x,ngOnDestroy:O}=u;f&&(t.contentHooks??=[]).push(-o,f),m&&((t.contentHooks??=[]).push(o,m),(t.contentCheckHooks??=[]).push(o,m)),g&&(t.viewHooks??=[]).push(-o,g),x&&((t.viewHooks??=[]).push(o,x),(t.viewCheckHooks??=[]).push(o,x)),null!=O&&(t.destroyHooks??=[]).push(o,O)}}function oi(t,i,o){xm(t,i,3,o)}function gi(t,i,o,s){(3&t[Kt])===o&&xm(t,i,o,s)}function Gu(t,i){let o=t[Kt];(3&o)===i&&(o&=16383,o+=1,t[Kt]=o)}function xm(t,i,o,s){const u=s??-1,f=i.length-1;let m=0;for(let g=void 0!==s?65535&t[Go]:0;g<f;g++)if("number"==typeof i[g+1]){if(m=i[g],null!=s&&m>=s)break}else i[g]<0&&(t[Go]+=65536),(m<u||-1==u)&&(B_(t,o,i,g),t[Go]=(4294901760&t[Go])+g+2),g++}function Mm(t,i){Qn(4,t,i);const o=q(null);try{i.call(t)}finally{q(o),Qn(5,t,i)}}function B_(t,i,o,s){const d=o[s]<0,u=o[s+1],m=t[d?-o[s]:o[s]];d?t[Kt]>>14<t[Go]>>16&&(3&t[Kt])===i&&(t[Kt]+=16384,Mm(m,u)):Mm(m,u)}const ps=-1;class $l{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(i,o,s){this.factory=i,this.canSeeViewProviders=o,this.injectImpl=s}}function Sm(t){return 3===t||4===t||6===t}function Im(t){return 64===t.charCodeAt(0)}function Ua(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let s=0;s<i.length;s++){const d=i[s];"number"==typeof d?o=d:0===o||km(t,o,d,0,-1===o||2===o?i[++s]:null)}}return t}function km(t,i,o,s,d){let u=0,f=t.length;if(-1===i)f=-1;else for(;u<t.length;){const m=t[u++];if("number"==typeof m){if(m===i){f=-1;break}if(m>i){f=u-1;break}}}for(;u<t.length;){const m=t[u];if("number"==typeof m)break;if(m===o)return void(null!==d&&(t[u+1]=d));u++,null!==d&&u++}-1!==f&&(t.splice(f,0,i),u=f+1),t.splice(u++,0,o),null!==d&&t.splice(u++,0,d)}function Wu(t){return t!==ps}function Gl(t){return 32767&t}function Hl(t,i){let o=function H_(t){return t>>16}(t),s=i;for(;o>0;)s=s[hs],o--;return s}let Xu=!0;function zl(t){const i=Xu;return Xu=t,i}const z_=255,Om=5;let W_=0;const Xo={};function Ku(t,i){const o=X_(t,i);if(-1!==o)return o;const s=i[ct];s.firstCreatePass&&(t.injectorIndex=i.length,ur(s.data,t),ur(i,null),ur(s.blueprint,null));const d=qu(t,i),u=t.injectorIndex;if(Wu(d)){const f=Gl(d),m=Hl(d,i),g=m[ct].data;for(let x=0;x<8;x++)i[u+x]=m[f+x]|g[f+x]}return i[u+8]=d,u}function ur(t,i){t.push(0,0,0,0,0,0,0,0,i)}function X_(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function qu(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,s=null,d=i;for(;null!==d;){if(s=Rm(d),null===s)return ps;if(o++,d=d[hs],-1!==s.injectorIndex)return s.injectorIndex|o<<16}return ps}function Yu(t,i,o){!function jC(t,i,o){let s;"string"==typeof o?s=o.charCodeAt(0)||0:o.hasOwnProperty(A)&&(s=o[A]),null==s&&(s=o[A]=W_++);const d=s&z_;i.data[t+(d>>Om)]|=1<<d}(t,i,o)}function Tm(t,i,o){if(o&Gt.Optional||void 0!==t)return t;mn()}function q_(t,i,o,s){if(o&Gt.Optional&&void 0===s&&(s=null),!(o&(Gt.Self|Gt.Host))){const d=t[di],u=Ln(void 0);try{return d?d.get(i,s,o&Gt.Optional):nr(i,s,o&Gt.Optional)}finally{Ln(u)}}return Tm(s,0,o)}function Wl(t,i,o,s=Gt.Default,d){if(null!==t){if(2048&i[Kt]&&!(s&Gt.Self)){const f=function ev(t,i,o,s,d){let u=t,f=i;for(;null!==u&&null!==f&&2048&f[Kt]&&!wi(f);){const m=Y_(u,f,o,s|Gt.Self,Xo);if(m!==Xo)return m;let g=u.parent;if(!g){const x=f[Na];if(x){const O=x.get(o,Xo,s);if(O!==Xo)return O}g=Rm(f),f=f[hs]}u=g}return d}(t,i,o,s,Xo);if(f!==Xo)return f}const u=Y_(t,i,o,s,Xo);if(u!==Xo)return u}return q_(i,o,s,d)}function Y_(t,i,o,s,d){const u=function Q_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(A)?t[A]:void 0;return"number"==typeof i?i>=0?i&z_:Z_:i}(o);if("function"==typeof u){if(!bm(i,t,s))return s&Gt.Host?Tm(d,0,s):q_(i,o,s,d);try{let f;if(f=u(s),null!=f||s&Gt.Optional)return f;mn()}finally{wm()}}else if("number"==typeof u){let f=null,m=X_(t,i),g=ps,x=s&Gt.Host?i[pi][mi]:null;for((-1===m||s&Gt.SkipSelf)&&(g=-1===m?qu(t,i):i[m+8],g!==ps&&Ga(s,!1)?(f=i[ct],m=Gl(g),i=Hl(g,i)):m=-1);-1!==m;){const O=i[ct];if(Pm(u,m,O.data)){const V=Jc(m,i,o,f,s,x);if(V!==Xo)return V}g=i[m+8],g!==ps&&Ga(s,i[ct].data[m+8]===x)&&Pm(u,m,i)?(f=O,m=Gl(g),i=Hl(g,i)):m=-1}}return d}function Jc(t,i,o,s,d,u){const f=i[ct],m=f.data[t+8],O=Qu(m,f,o,null==s?mt(m)&&Xu:s!=f&&!!(3&m.type),d&Gt.Host&&u===m);return null!==O?$a(i,f,O,m,d):Xo}function Qu(t,i,o,s,d){const u=t.providerIndexes,f=i.data,m=1048575&u,g=t.directiveStart,O=u>>20,se=d?m+O:t.directiveEnd;for(let J=s?m:m+O;J<se;J++){const ye=f[J];if(J<g&&o===ye||J>=g&&ye.type===o)return J}if(d){const J=f[g];if(J&&Un(J)&&J.type===o)return g}return null}function $a(t,i,o,s,d){let u=t[o];const f=i.data;if(u instanceof $l){const m=u;m.resolving&&Wn(function Ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ue(t)}(f[o]));const g=zl(m.canSeeViewProviders);m.resolving=!0;const O=m.injectImpl?Ln(m.injectImpl):null;bm(t,s,Gt.Default);try{u=t[o]=m.factory(void 0,d,f,t,s),i.firstCreatePass&&o>=s.directiveStart&&function $u(t,i,o){const{ngOnChanges:s,ngOnInit:d,ngDoCheck:u}=i.type.prototype;if(s){const f=wu(i);(o.preOrderHooks??=[]).push(t,f),(o.preOrderCheckHooks??=[]).push(t,f)}d&&(o.preOrderHooks??=[]).push(0-t,d),u&&((o.preOrderHooks??=[]).push(t,u),(o.preOrderCheckHooks??=[]).push(t,u))}(o,f[o],i)}finally{null!==O&&Ln(O),zl(g),m.resolving=!1,wm()}}return u}function Pm(t,i,o){return!!(o[i+(t>>Om)]&1<<t)}function Ga(t,i){return!(t&Gt.Self||t&Gt.Host&&i)}class Ai{_tNode;_lView;constructor(i,o){this._tNode=i,this._lView=o}get(i,o,s){return Wl(this._tNode,this._lView,i,bo(s),o)}}function Z_(){return new Ai(Tn(),$e())}function J_(t){return he(()=>{const i=t.prototype.constructor,o=i[oe]||Fm(i),s=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==s;){const u=d[oe]||Fm(d);if(u&&u!==o)return u;d=Object.getPrototypeOf(d)}return u=>new u})}function Fm(t){return Te(t)?()=>{const i=Fm(ee(t));return i&&i()}:Pr(t)}function Rm(t){const i=t[ct],o=i.type;return 2===o?i.declTNode:1===o?t[mi]:null}function ed(t){return function K_(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const o=t.attrs;if(o){const s=o.length;let d=0;for(;d<s;){const u=o[d];if(Sm(u))break;if(0===u)d+=2;else if("number"==typeof u)for(d++;d<s&&"string"==typeof o[d];)d++;else{if(u===i)return o[d+1];d+=2}}}return null}(Tn(),t)}function jm(t,i=null,o=null,s){const d=sv(t,i,o,s);return d.resolveInjectorInitializers(),d}function sv(t,i=null,o=null,s,d=new Set){const u=[o||Fn,Sl(t)];return s=s||("object"==typeof t?void 0:Nn(t)),new wo(u,i||Pa(),s||null,d)}class hr{static THROW_IF_NOT_FOUND=Wi;static NULL=new ls;static create(i,o){if(Array.isArray(i))return jm({name:""},o,i,"");{const s=i.name??"";return jm({name:s},i.parent,i.providers,s)}}static \u0275prov=ve({token:hr,providedIn:"any",factory:()=>vi(as)});static __NG_ELEMENT_ID__=-1}new Et("").__NG_ELEMENT_ID__=t=>{const i=Tn();if(null===i)throw new Z(204,!1);if(2&i.type)return i.value;if(t&Gt.Optional)return null;throw new Z(204,!1)};const av=!1;let _s=(()=>class t{static __NG_ELEMENT_ID__=HC;static __NG_ENV_ID__=o=>o})();class lv extends _s{_lView;constructor(i){super(),this._lView=i}onDestroy(i){const o=this._lView;return dr(o)?(i(),()=>{}):(Hc(o,i),()=>function zc(t,i){if(null===t[Mo])return;const o=t[Mo].indexOf(i);-1!==o&&t[Mo].splice(o,1)}(o,i))}}function HC(){return new lv($e())}class Hs{}const nd=new Et("",{providedIn:"root",factory:()=>!1}),cv=new Et(""),Lm=new Et("");let za=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Mi.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}has(o){return this.pendingTasks.has(o)}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new t})}return t})();const vs=class dv extends ti.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(i=!1){super(),this.__isAsync=i,Fa()&&(this.destroyRef=Tt(_s,{optional:!0})??void 0,this.pendingTasks=Tt(za,{optional:!0})??void 0)}emit(i){const o=q(null);try{super.next(i)}finally{q(o)}}subscribe(i,o,s){let d=i,u=o||(()=>null),f=s;if(i&&"object"==typeof i){const g=i;d=g.next?.bind(g),u=g.error?.bind(g),f=g.complete?.bind(g)}this.__isAsync&&(u=this.wrapInTimeout(u),d&&(d=this.wrapInTimeout(d)),f&&(f=this.wrapInTimeout(f)));const m=super.subscribe({next:d,error:u,complete:f});return i instanceof Si.yU&&i.add(m),m}wrapInTimeout(i){return o=>{const s=this.pendingTasks?.add();setTimeout(()=>{try{i(o)}finally{void 0!==s&&this.pendingTasks?.remove(s)}})}}};function ha(...t){}function Wa(t){let i,o;function s(){t=ha;try{void 0!==o&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(o),void 0!==i&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{t(),s()}),"function"==typeof requestAnimationFrame&&(o=requestAnimationFrame(()=>{t(),s()})),()=>s()}function uv(t){return queueMicrotask(()=>t()),()=>{t=ha}}const id="isAngularZone",Xl=id+"_ID";let WC=0;class yi{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new vs(!1);onMicrotaskEmpty=new vs(!1);onStable=new vs(!1);onError=new vs(!1);constructor(i){const{enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1,scheduleInRootZone:u=av}=i;if(typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&s,f.shouldCoalesceRunChangeDetection=d,f.callbackScheduled=!1,f.scheduleInRootZone=u,function Vm(t){const i=()=>{!function Bm(t){function i(){Wa(()=>{t.callbackScheduled=!1,eh(t),t.isCheckStableRunning=!0,Kl(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{i()}):t._outer.run(()=>{i()}),eh(t))}(t)},o=WC++;t._inner=t._inner.fork({name:"angular",properties:{[id]:!0,[Xl]:o,[Xl+o]:!0},onInvokeTask:(s,d,u,f,m,g)=>{if(function KC(t){return hv(t,"__ignore_ng_zone__")}(g))return s.invokeTask(u,f,m,g);try{return th(t),s.invokeTask(u,f,m,g)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&i(),Xa(t)}},onInvoke:(s,d,u,f,m,g,x)=>{try{return th(t),s.invoke(u,f,m,g,x)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function qC(t){return hv(t,"__scheduler_tick__")}(g)&&i(),Xa(t)}},onHasTask:(s,d,u,f)=>{s.hasTask(u,f),d===u&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,eh(t),Kl(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,d,u,f)=>(s.handleError(u,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(id)}static assertInAngularZone(){if(!yi.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(yi.isInAngularZone())throw new Z(909,!1)}run(i,o,s){return this._inner.run(i,o,s)}runTask(i,o,s,d){const u=this._inner,f=u.scheduleEventTask("NgZoneEvent: "+d,i,XC,ha,ha);try{return u.runTask(f,o,s)}finally{u.cancelTask(f)}}runGuarded(i,o,s){return this._inner.runGuarded(i,o,s)}runOutsideAngular(i){return this._outer.run(i)}}const XC={};function Kl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function th(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xa(t){t._nesting--,Kl(t)}class Um{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new vs;onMicrotaskEmpty=new vs;onStable=new vs;onError=new vs;run(i,o,s){return i.apply(o,s)}runGuarded(i,o,s){return i.apply(o,s)}runOutsideAngular(i){return i()}runTask(i,o,s,d){return i.apply(o,s)}}function hv(t,i){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[i]}class bs{_console=console;handleError(i){this._console.error("ERROR",i)}}const QC=new Et("",{providedIn:"root",factory:()=>{const t=Tt(yi),i=Tt(bs);return o=>t.runOutsideAngular(()=>i.handleError(o))}});function fv(t,i){return $(t,i)}const eE=(fv.required=function mv(t){return $(Ke,t)},fv);function pv(){return Ka(Tn(),$e())}function Ka(t,i){return new rd(Ar(t,i))}let rd=(()=>class t{nativeElement;constructor(o){this.nativeElement=o}static __NG_ELEMENT_ID__=pv})();function gv(t){return t instanceof rd?t.nativeElement:t}function Gm(t){return"function"==typeof t&&void 0!==t[R]}function ql(t,i){const o=function Pe(t,i){const o=Object.create(Dt);o.value=t,void 0!==i&&(o.equal=i);const s=()=>(ke(o),o.value);return s[R]=o,s}(t,i?.equal),s=o[R];return o.set=d=>Be(s,d),o.update=d=>function Fe(t,i){ze()||un(t),Be(t,i(t.value))}(s,d),o.asReadonly=nh.bind(o),o}function nh(){const t=this[R];if(void 0===t.readonlyFn){const i=()=>this();i[R]=t,t.readonlyFn=i}return t.readonlyFn}function _v(t){return Gm(t)&&"function"==typeof t.set}function tE(){return this._results[Symbol.iterator]()}class vv{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ti.B}constructor(i=!1){this._emitDistinctChangesOnly=i}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){this.dirty=!1;const s=function Xi(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function ka(t,i,o){if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++){let d=t[s],u=i[s];if(o&&(d=o(d),u=o(u)),u!==d)return!1}return!0}(this._results,s,o))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=tE}function qa(t){return!(128&~t.flags)}var ih=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ih||{});const Mt=new Map;let sd=0;function ad(t){Mt.delete(t[Ho])}const Ql="__ngContext__";function jr(t,i){H(i)?(t[Ql]=i[Ho],function rh(t){Mt.set(t[Ho],t)}(i)):t[Ql]=i}function ah(t){return Iv(t[xo])}function Km(t){return Iv(t[ci])}function Iv(t){for(;null!==t&&!Ee(t);)t=t[ci];return t}let yr;function fa(t){yr=t}function $i(){if(void 0!==yr)return yr;if(typeof document<"u")return document;throw new Z(210,!1)}const Ws=new Et("",{providedIn:"root",factory:()=>Av}),Av="ng",Zl=new Et(""),ep=new Et("",{providedIn:"platform",factory:()=>"unknown"}),co=new Et(""),Xs=new Et("",{providedIn:"root",factory:()=>$i().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),rp=new Et("",{providedIn:"root",factory:()=>!1});var Sr=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Sr||{});const Cs=new Et(""),Qa=new Set;function Wr(t){Qa.has(t)||(Qa.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let md=(()=>class t{view;node;constructor(o,s){this.view=o,this.node=s}static __NG_ELEMENT_ID__=Bv})();function Bv(){return new md($e(),Tn())}var Za=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Za||{});let yh=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new t})}return t})();const lp=[Za.EarlyRead,Za.Write,Za.MixedReadWrite,Za.Read];let cp=(()=>{class t{ngZone=Tt(yi);scheduler=Tt(Hs);errorHandler=Tt(bs,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Tt(Cs,{optional:!0})}execute(){const o=this.sequences.size>0;o&&Qn(16),this.executing=!0;for(const s of lp)for(const d of this.sequences)if(!d.erroredOrDestroyed&&d.hooks[s])try{d.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,d.hooks[s])(d.pipelinedValue),d.snapshot))}catch(u){d.erroredOrDestroyed=!0,this.errorHandler?.handleError(u)}this.executing=!1;for(const s of this.sequences)s.afterRun(),s.once&&(this.sequences.delete(s),s.destroy());for(const s of this.deferredRegistrations)this.sequences.add(s);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),o&&Qn(17)}register(o){const{view:s}=o;void 0!==s?((s[25]??=[]).push(o),fs(s),s[Kt]|=8192):this.executing?this.deferredRegistrations.add(o):this.addSequence(o)}addSequence(o){this.sequences.add(o),this.scheduler.notify(7)}unregister(o){this.executing&&this.sequences.has(o)?(o.erroredOrDestroyed=!0,o.pipelinedValue=void 0,o.once=!0):(this.sequences.delete(o),this.deferredRegistrations.delete(o))}maybeTrace(o,s){return s?s.run(Sr.AFTER_NEXT_RENDER,o):o()}static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new t})}return t})();class dp{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(i,o,s,d,u,f=null){this.impl=i,this.hooks=o,this.view=s,this.once=d,this.snapshot=f,this.unregisterOnDestroy=u?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const i=this.view?.[25];i&&(this.view[25]=i.filter(o=>o!==this))}}function Ch(t,i){!i?.injector&&Vs();const o=i?.injector??Tt(hr);return Wr("NgAfterRender"),up(t,o,i,!1)}function Eh(t,i){!i?.injector&&Vs();const o=i?.injector??Tt(hr);return Wr("NgAfterNextRender"),up(t,o,i,!0)}function up(t,i,o,s){const d=i.get(yh);d.impl??=i.get(cp);const u=i.get(Cs,null,{optional:!0}),f=o?.phase??Za.MixedReadWrite,m=!0!==o?.manualCleanup?i.get(_s):null,g=i.get(md,null,{optional:!0}),x=new dp(d.impl,function Vv(t,i){if(t instanceof Function){const o=[void 0,void 0,void 0,void 0];return o[i]=t,o}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,f),g?.view,s,m,u?.snapshot(null));return d.impl.register(x),x}let wp=(t,i,o,s)=>{},r0=()=>null;function o0(t,i,o=!1){return r0(t,i,o)}function lc(t,i){const o=t.contentQueries;if(null!==o){const s=q(null);try{for(let d=0;d<o.length;d+=2){const f=o[d+1];if(-1!==f){const m=t.data[f];qc(o[d]),m.contentQueries(2,i[f],f)}}}finally{q(s)}}}function Od(t,i,o){qc(0);const s=q(null);try{i(t,o)}finally{q(s)}}function $h(t,i,o){if(nt(i)){const s=q(null);try{const u=i.directiveEnd;for(let f=i.directiveStart;f<u;f++){const m=t.data[f];m.contentQueries&&m.contentQueries(1,o[f],f)}}finally{q(s)}}}var Ko=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ko||{});let Td,cc;function qo(t){return function Gh(){if(void 0===Td&&(Td=null,qn.trustedTypes))try{Td=qn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Td}()?.createHTML(t)||t}function Hh(){if(void 0===cc&&(cc=null,qn.trustedTypes))try{cc=qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cc}function h0(t){return Hh()?.createHTML(t)||t}function zh(t){return Hh()?.createScriptURL(t)||t}class ga{changingThisBreaksApplicationSecurity;constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${re})`}}class Fp extends ga{getTypeName(){return"HTML"}}class Rp extends ga{getTypeName(){return"Style"}}class uo extends ga{getTypeName(){return"Script"}}class Lr extends ga{getTypeName(){return"URL"}}class f0 extends ga{getTypeName(){return"ResourceURL"}}function Yo(t){return t instanceof ga?t.changingThisBreaksApplicationSecurity:t}function _a(t,i){const o=function m0(t){return t instanceof ga&&t.getTypeName()||null}(t);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${re})`)}return o===i}function Pd(t){return new Fp(t)}function Fd(t){return new Rp(t)}function p0(t){return new uo(t)}function g0(t){return new Lr(t)}function _0(t){return new f0(t)}class dc{inertDocumentHelper;constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(qo(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.firstChild?.remove(),o)}catch{return null}}}class EE{defaultDoc;inertDocument;constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=qo(i),o}}const v0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uc(t){return(t=String(t)).match(v0)?t:"unsafe:"+t}function xs(t){const i={};for(const o of t.split(","))i[o]=!0;return i}function cl(...t){const i={};for(const o of t)for(const s in o)o.hasOwnProperty(s)&&(i[s]=!0);return i}const Wh=xs("area,br,col,hr,img,wbr"),Ad=xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Np=xs("rp,rt"),Xh=cl(Wh,cl(Ad,xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cl(Np,xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cl(Np,Ad)),Kh=xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jp=cl(Kh,xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),va=xs("script,style,template");class qh{sanitizedSomething=!1;buf=[];sanitizeChildren(i){let o=i.firstChild,s=!0,d=[];for(;o;)if(o.nodeType===Node.ELEMENT_NODE?s=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,s&&o.firstChild)d.push(o),o=Nd(o);else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=xE(o);if(u){o=u;break}o=d.pop()}return this.buf.join("")}startElement(i){const o=Lp(i).toLowerCase();if(!Xh.hasOwnProperty(o))return this.sanitizedSomething=!0,!va.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const s=i.attributes;for(let d=0;d<s.length;d++){const u=s.item(d),f=u.name,m=f.toLowerCase();if(!jp.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let g=u.value;Kh[m]&&(g=uc(g)),this.buf.push(" ",f,'="',Vp(g),'"')}return this.buf.push(">"),!0}endElement(i){const o=Lp(i).toLowerCase();Xh.hasOwnProperty(o)&&!Wh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Vp(i))}}function xE(t){const i=t.nextSibling;if(i&&t!==i.previousSibling)throw Bp(i);return i}function Nd(t){const i=t.firstChild;if(i&&function dl(t,i){return(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,i))throw Bp(i);return i}function Lp(t){const i=t.nodeName;return"string"==typeof i?i:"FORM"}function Bp(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const C0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,E0=/([^\#-~ |!])/g;function Vp(t){return t.replace(/&/g,"&amp;").replace(C0,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(E0,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jd;function Up(t,i){let o=null;try{jd=jd||function Rd(t){const i=new EE(t);return function Ap(){try{return!!(new window.DOMParser).parseFromString(qo(""),"text/html")}catch{return!1}}()?new dc(i):i}(t);let s=i?String(i):"";o=jd.getInertBodyElement(s);let d=5,u=s;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,s=u,u=o.innerHTML,o=jd.getInertBodyElement(s)}while(s!==u);return qo((new qh).sanitizeChildren(Yh(o)||o))}finally{if(o){const s=Yh(o)||o;for(;s.firstChild;)s.firstChild.remove()}}}function Yh(t){return"content"in t&&function w0(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ba=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ba||{});function Qh(t){const i=hc();return i?h0(i.sanitize(ba.HTML,t)||""):_a(t,"HTML")?h0(Yo(t)):Up($i(),ue(t))}function Zh(t){const i=hc();return i?i.sanitize(ba.STYLE,t)||"":_a(t,"Style")?Yo(t):ue(t)}function Jh(t){const i=hc();return i?i.sanitize(ba.URL,t)||"":_a(t,"URL")?Yo(t):uc(ue(t))}function ef(t){const i=hc();if(i)return zh(i.sanitize(ba.RESOURCE_URL,t)||"");if(_a(t,"ResourceURL"))return zh(Yo(t));throw new Z(904,!1)}function $p(t,i,o){return function S0(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?ef:Jh}(i,o)(t)}function hc(){const t=$e();return t&&t[gr].sanitizer}const I0=/^>|^->|<!--|-->|--!>|<!-$/g,k0=/(<|>)/g;function Xp(t){return t.ownerDocument.defaultView}function Qo(t){return t instanceof Function?t():t}function U0(t,i,o){let s=t.length;for(;;){const d=t.indexOf(i,o);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const u=i.length;if(d+u===s||t.charCodeAt(d+u)<=32)return d}o=d+1}}const Jp="ng-template";function $0(t,i,o,s){let d=0;if(s){for(;d<i.length&&"string"==typeof i[d];d+=2)if("class"===i[d]&&-1!==U0(i[d+1].toLowerCase(),o,0))return!0}else if(rf(t))return!1;if(d=i.indexOf(1,d),d>-1){let u;for(;++d<i.length&&"string"==typeof(u=i[d]);)if(u.toLowerCase()===o)return!0}return!1}function rf(t){return 4===t.type&&t.value!==Jp}function G0(t,i,o){return i===(4!==t.type||o?t.value:Jp)}function H0(t,i,o){let s=4;const d=t.attrs,u=null!==d?function X0(t){for(let i=0;i<t.length;i++)if(Sm(t[i]))return i;return t.length}(d):0;let f=!1;for(let m=0;m<i.length;m++){const g=i[m];if("number"!=typeof g){if(!f)if(4&s){if(s=2|1&s,""!==g&&!G0(t,g,o)||""===g&&1===i.length){if(Fo(s))return!1;f=!0}}else if(8&s){if(null===d||!$0(t,d,g,o)){if(Fo(s))return!1;f=!0}}else{const x=i[++m],O=z0(g,d,rf(t),o);if(-1===O){if(Fo(s))return!1;f=!0;continue}if(""!==x){let V;if(V=O>u?"":d[O+1].toLowerCase(),2&s&&x!==V){if(Fo(s))return!1;f=!0}}}}else{if(!f&&!Fo(s)&&!Fo(g))return!1;if(f&&Fo(g))continue;f=!1,s=g|1&s}}return Fo(s)||f}function Fo(t){return!(1&t)}function z0(t,i,o,s){if(null===i)return-1;let d=0;if(s||!o){let u=!1;for(;d<i.length;){const f=i[d];if(f===t)return d;if(3===f||6===f)u=!0;else{if(1===f||2===f){let m=i[++d];for(;"string"==typeof m;)m=i[++d];continue}if(4===f)break;if(0===f){d+=4;continue}}d+=u?1:2}return-1}return function K0(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const s=t[o];if("number"==typeof s)return-1;if(s===i)return o;o++}return-1}(i,t)}function eg(t,i,o=!1){for(let s=0;s<i.length;s++)if(H0(t,i[s],o))return!0;return!1}function q0(t,i){e:for(let o=0;o<i.length;o++){const s=i[o];if(t.length===s.length){for(let d=0;d<t.length;d++)if(t[d]!==s[d])continue e;return!0}}return!1}function tg(t,i){return t?":not("+i.trim()+")":i}function Y0(t){let i=t[0],o=1,s=2,d="",u=!1;for(;o<t.length;){let f=t[o];if("string"==typeof f)if(2&s){const m=t[++o];d+="["+f+(m.length>0?'="'+m+'"':"")+"]"}else 8&s?d+="."+f:4&s&&(d+=" "+f);else""!==d&&!Fo(f)&&(i+=tg(u,d),d=""),s=f,u=u||!Fo(s);o++}return""!==d&&(i+=tg(u,d)),i}const cn={};function af(t,i){return t.createComment(function Gp(t){return t.replace(I0,i=>i.replace(k0,"\u200b$1\u200b"))}(i))}function Vd(t,i,o){return t.createElement(i,o)}function ya(t,i,o,s,d){t.insertBefore(i,o,s,d)}function rg(t,i,o){t.appendChild(i,o)}function lf(t,i,o,s,d){null!==s?ya(t,i,o,s,d):rg(t,i,o)}function sg(t,i,o){const{mergedAttrs:s,classes:d,styles:u}=o;null!==s&&function G_(t,i,o){let s=0;for(;s<o.length;){const d=o[s];if("number"==typeof d){if(0!==d)break;s++;const u=o[s++],f=o[s++],m=o[s++];t.setAttribute(i,f,m,u)}else{const u=d,f=o[++s];Im(u)?t.setProperty(i,u,f):t.setAttribute(i,u,f),s++}}}(t,i,s),null!==d&&function J0(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}(t,i,d),null!==u&&function Z0(t,i,o){t.setAttribute(i,"style",o)}(t,i,u)}function cf(t,i,o,s,d,u,f,m,g,x,O){const V=Rt+s,se=V+d,J=function eb(t,i){const o=[];for(let s=0;s<i;s++)o.push(s<t?null:cn);return o}(V,se),ye="function"==typeof x?x():x;return J[ct]={type:t,blueprint:J,template:o,queries:null,viewQuery:m,declTNode:i,data:J.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:g,consts:ye,incompleteFirstPass:!1,ssrId:O}}function Ca(t,i,o,s,d,u,f,m,g,x,O){const V=i.blueprint.slice();return V[Gn]=d,V[Kt]=1228|s,(null!==x||t&&2048&t[Kt])&&(V[Kt]|=2048),um(V),V[bi]=V[hs]=t,V[Hn]=o,V[gr]=f||t&&t[gr],V[Zt]=m||t&&t[Zt],V[di]=g||t&&t[di]||null,V[mi]=u,V[Ho]=function Cv(){return sd++}(),V[Fi]=O,V[Na]=x,V[pi]=2==i.type?t[pi]:V,V}function Ea(t){let i=16;return t.signals?i=4096:t.onPush&&(i=64),i}function hl(t,i,o,s){if(0===o)return-1;const d=i.length;for(let u=0;u<o;u++)i.push(s),t.blueprint.push(s),t.data.push(null);return d}function df(t,i){return t[xo]?t[Aa][ci]=i:t[xo]=i,t[Aa]=i,i}function uf(t=1){hf(rn(),$e(),br()+t,!1)}function hf(t,i,o,s){if(!s)if(3&~i[Kt]){const u=t.preOrderHooks;null!==u&&gi(i,u,0,o)}else{const u=t.preOrderCheckHooks;null!==u&&oi(i,u,o)}ua(o)}var Zo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zo||{});function fl(t,i,o,s){const d=q(null);try{const[u,f,m]=t.inputs[o];let g=null;!!(f&Zo.SignalBased)&&(g=i[u][R]),null!==g&&void 0!==g.transformFn?s=g.transformFn(s):null!==m&&(s=m.call(i,s)),null!==t.setInput?t.setInput(i,g,s,o,u):Eu(i,g,u,s)}finally{q(d)}}function lg(t,i,o,s,d){const u=br(),f=2&s;try{ua(-1),f&&i.length>Rt&&hf(t,i,Rt,!1),Qn(f?2:0,d),o(s,d)}finally{ua(u),Qn(f?3:1,d)}}function ff(t,i,o){(function sb(t,i,o){const s=o.directiveStart,d=o.directiveEnd;mt(o)&&function tb(t,i,o){const s=Ar(i,t),d=function ag(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=cf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}(o),u=t[gr].rendererFactory,f=df(t,Ca(t,d,null,Ea(o),s,i,null,u.createRenderer(s,o),null,null,null));t[i.index]=f}(i,o,t.data[s+o.componentOffset]),t.firstCreatePass||Ku(o,i);const u=o.initialInputs;for(let f=s;f<d;f++){const m=t.data[f],g=$a(i,t,f,o);jr(g,i),null!==u&&cb(0,f-s,g,m,0,u),Un(m)&&(Nr(o.index,i)[Hn]=$a(i,t,f,o))}})(t,i,o),!(64&~o.flags)&&function ab(t,i,o){const s=o.directiveStart,d=o.directiveEnd,u=o.index,f=function N_(){return an.lFrame.currentDirectiveIndex}();try{ua(u);for(let m=s;m<d;m++){const g=t.data[m],x=i[m];Nu(m),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&lb(g,x)}}finally{ua(-1),Nu(f)}}(t,i,o)}function ml(t,i,o=Ar){const s=i.localNames;if(null!==s){let d=i.index+1;for(let u=0;u<s.length;u+=2){const f=s[u+1],m=-1===f?o(i,t):t[f];t[d++]=m}}}let bf,dg=()=>null;function Kr(t,i,o,s,d,u,f,m){if(m||!vf(i,t,o,s,d)){if(3&i.type){const g=Ar(i,o);s=function ug(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),d=null!=f?f(d,i.value||"",s):d,u.setProperty(g,s,d)}}else mt(i)&&function ob(t,i){const o=Nr(i,t);16&o[Kt]||(o[Kt]|=64)}(o,i.index)}function lb(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function pf(t,i){const o=t.directiveRegistry;let s=null;if(o)for(let d=0;d<o.length;d++){const u=o[d];eg(i,u.selectors,!1)&&(s??=[],Un(u)?s.unshift(u):s.push(u))}return s}function Jo(t,i,o,s,d,u){const f=Ar(t,i);!function gf(t,i,o,s,d,u,f){if(null==u)t.removeAttribute(i,d,o);else{const m=null==f?ue(u):f(u,s||"",d);t.setAttribute(i,d,m,o)}}(i[Zt],f,u,t.value,o,s,d)}function cb(t,i,o,s,d,u){const f=u[i];if(null!==f)for(let m=0;m<f.length;m+=2)fl(s,o,f[m],f[m+1])}function vf(t,i,o,s,d){const u=t.inputs?.[s],f=t.hostDirectiveInputs?.[s];let m=!1;if(f)for(let g=0;g<f.length;g+=2){const x=f[g];fl(i.data[x],o[x],f[g+1],d),m=!0}if(u)for(const g of u)fl(i.data[g],o[g],s,d),m=!0;return m}function hg(t,i){const o=Nr(i,t),s=o[ct];!function ub(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(s,o);const d=o[Gn];null!==d&&null===o[Fi]&&(o[Fi]=o0(d,o[di])),Qn(18),pl(s,o,o[Hn]),Qn(19,o[Hn])}function pl(t,i,o){Bu(i);try{const s=t.viewQuery;null!==s&&Od(1,s,o);const d=t.template;null!==d&&lg(t,i,d,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),i[to]?.finishViewCreation(t),t.staticContentQueries&&lc(t,i),t.staticViewQueries&&Od(2,t.viewQuery,o);const u=t.components;null!==u&&function hb(t,i){for(let o=0;o<i.length;o++)hg(t,i[o])}(i,u)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{i[Kt]&=-5,Vu()}}function gl(t,i,o,s){const d=q(null);try{const u=i.tView,g=Ca(t,u,o,4096&t[Kt]?4096:16,null,i,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);g[Vi]=t[i.index];const O=t[to];return null!==O&&(g[to]=O.createEmbeddedView(u)),pl(u,g,o),g}finally{q(d)}}function wa(t,i){return!i||null===i.firstChild||qa(t)}function yf(t,i){return bf(t,i)}var Ud=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ud||{});function Ys(t){return!(32&~t.flags)}function _l(t,i,o,s,d){if(null!=s){let u,f=!1;Ee(s)?u=s:H(s)&&(f=!0,s=s[Gn]);const m=$n(s);0===t&&null!==o?null==d?rg(i,o,m):ya(i,o,m,d||null,!0):1===t&&null!==o?ya(i,o,m,d||null,!0):2===t?function fc(t,i,o){t.removeChild(null,i,o)}(i,m,f):3===t&&i.destroyNode(m),null!=u&&function bb(t,i,o,s,d){const u=o[y];u!==$n(o)&&_l(i,t,s,u,d);for(let m=Q;m<o.length;m++){const g=o[m];pc(g[ct],g,t,i,s,u)}}(i,t,u,o,d)}}function Cf(t,i){i[gr].changeDetectionScheduler?.notify(9),pc(t,i,i[Zt],2,null,null)}function $d(t,i){const o=t[P],s=o.indexOf(i);o.splice(s,1)}function mc(t,i){if(dr(i))return;const o=i[Zt];o.destroyNode&&pc(t,i,o,3,null,null),function pb(t){let i=t[xo];if(!i)return Ef(t[ct],t);for(;i;){let o=null;if(H(i))o=i[xo];else{const s=i[Q];s&&(o=s)}if(!o){for(;i&&!i[ci]&&i!==t;)H(i)&&Ef(i[ct],i),i=i[bi];null===i&&(i=t),H(i)&&Ef(i[ct],i),o=i&&i[ci]}i=o}}(i)}function Ef(t,i){if(dr(i))return;const o=q(null);try{i[Kt]&=-129,i[Kt]|=256,i[_r]&&_e(i[_r]),function _b(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let s=0;s<o.length;s+=2){const d=i[o[s]];if(!(d instanceof $l)){const u=o[s+1];if(Array.isArray(u))for(let f=0;f<u.length;f+=2){const m=d[u[f]],g=u[f+1];Qn(4,m,g);try{g.call(m)}finally{Qn(5,m,g)}}else{Qn(4,d,u);try{u.call(d)}finally{Qn(5,d,u)}}}}}(t,i),function gb(t,i){const o=t.cleanup,s=i[$o];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const m=o[f+3];m>=0?s[m]():s[-m].unsubscribe(),f+=2}else o[f].call(s[o[f+1]]);null!==s&&(i[$o]=null);const d=i[Mo];if(null!==d){i[Mo]=null;for(let f=0;f<d.length;f++)(0,d[f])()}const u=i[zo];if(null!==u){i[zo]=null;for(const f of u)f.destroy()}}(t,i),1===i[ct].type&&i[Zt].destroy();const s=i[Vi];if(null!==s&&Ee(i[bi])){s!==i[bi]&&$d(s,i);const d=i[to];null!==d&&d.detachView(t)}ad(i)}finally{q(o)}}function wf(t,i,o){return function mg(t,i,o){let s=i;for(;null!==s&&168&s.type;)s=(i=s).parent;if(null===s)return o[Gn];if(mt(s)){const{encapsulation:d}=t.data[s.directiveStart+s.componentOffset];if(d===Ko.None||d===Ko.Emulated)return null}return Ar(s,o)}(t,i.parent,o)}function pg(t,i,o){return _g(t,i,o)}let Df,_g=function gg(t,i,o){return 40&t.type?Ar(t,o):null};function Gd(t,i,o,s){const d=wf(t,s,i),u=i[Zt],m=pg(s.parent||i[mi],s,i);if(null!=d)if(Array.isArray(o))for(let g=0;g<o.length;g++)lf(u,d,o[g],m,!1);else lf(u,d,o,m,!1);void 0!==Df&&Df(u,s,i,o,d)}function Da(t,i){if(null!==i){const o=i.type;if(3&o)return Ar(i,t);if(4&o)return xf(-1,t[i.index]);if(8&o){const s=i.child;if(null!==s)return Da(t,s);{const d=t[i.index];return Ee(d)?xf(-1,d):$n(d)}}if(128&o)return Da(t,i.next);if(32&o)return yf(i,t)()||$n(t[i.index]);{const s=bg(t,i);return null!==s?Array.isArray(s)?s[0]:Da(Wo(t[pi]),s):Da(t,i.next)}}return null}function bg(t,i){return null!==i?t[pi][mi].projection[i.projection]:null}function xf(t,i){const o=Q+t+1;if(o<i.length){const s=i[o],d=s[ct].firstChild;if(null!==d)return Da(s,d)}return i[y]}function Hd(t,i,o,s,d,u,f){for(;null!=o;){if(128===o.type){o=o.next;continue}const m=s[o.index],g=o.type;if(f&&0===i&&(m&&jr($n(m),s),o.flags|=2),!Ys(o))if(8&g)Hd(t,i,o.child,s,d,u,!1),_l(i,t,d,m,u);else if(32&g){const x=yf(o,s);let O;for(;O=x();)_l(i,t,d,O,u);_l(i,t,d,m,u)}else 16&g?yg(t,i,s,o,d,u):_l(i,t,d,m,u);o=f?o.projectionNext:o.next}}function pc(t,i,o,s,d,u){Hd(o,s,t.firstChild,i,d,u,!1)}function yg(t,i,o,s,d,u){const f=o[pi],g=f[mi].projection[s.projection];if(Array.isArray(g))for(let x=0;x<g.length;x++)_l(i,t,d,g[x],u);else{let x=g;const O=f[bi];qa(s)&&(x.flags|=128),Hd(t,i,x,O,d,u,!0)}}function vl(t,i,o,s,d=!1){for(;null!==o;){if(128===o.type){o=d?o.projectionNext:o.next;continue}const u=i[o.index];null!==u&&s.push($n(u)),Ee(u)&&Mf(u,s);const f=o.type;if(8&f)vl(t,i,o.child,s);else if(32&f){const m=yf(o,i);let g;for(;g=m();)s.push(g)}else if(16&f){const m=bg(i,o);if(Array.isArray(m))s.push(...m);else{const g=Wo(i[pi]);vl(g[ct],g,m,s,!0)}}o=d?o.projectionNext:o.next}return s}function Mf(t,i){for(let o=Q;o<t.length;o++){const s=t[o],d=s[ct].firstChild;null!==d&&vl(s[ct],s,d,i)}t[y]!==t[Gn]&&i.push(t[y])}function Cg(t){if(null!==t[25]){for(const i of t[25])i.impl.addSequence(i);t[25].length=0}}let Eg=[];const Db={...me,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{fs(t.lView)},consumerOnSignalRead(){this.lView[_r]=this}},Mb={...me,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let i=Wo(t.lView);for(;i&&!wg(i[ct]);)i=Wo(i);i&&Su(i)},consumerOnSignalRead(){this.lView[_r]=this}};function wg(t){return 2!==t.type}function Dg(t){if(null===t[zo])return;let i=!0;for(;i;){let o=!1;for(const s of t[zo])s.dirty&&(o=!0,null===s.zone||Zone.current===s.zone?s.run():s.zone.run(()=>s.run()));i=o&&!!(8192&t[Kt])}}function zd(t,i=!0,o=0){const d=t[gr].rendererFactory;d.begin?.();try{!function Ib(t,i){const o=_m();try{Au(!0),Sf(t,i);let s=0;for(;Bl(t);){if(100===s)throw new Z(103,!1);s++,Sf(t,1)}}finally{Au(o)}}(t,o)}catch(f){throw i&&function _f(t,i){const o=t[di],s=o?o.get(bs,null):null;s&&s.handleError(i)}(t,f),f}finally{d.end?.()}}function Mg(t,i,o,s){if(dr(i))return;const d=i[Kt];Bu(i);let m=!0,g=null,x=null;wg(t)?(x=function Cb(t){return t[_r]??function Eb(t){const i=Eg.pop()??Object.create(Db);return i.lView=t,i}(t)}(i),g=We(x)):null===function ce(){return S}()?(m=!1,x=function xb(t){const i=t[_r]??Object.create(Mb);return i.lView=t,i}(i),g=We(x)):i[_r]&&(_e(i[_r]),i[_r]=null);try{um(i),function kt(t){return an.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&lg(t,i,o,2,s);const O=!(3&~d);if(O){const J=t.preOrderCheckHooks;null!==J&&oi(i,J,null)}else{const J=t.preOrderHooks;null!==J&&gi(i,J,0,null),Gu(i,0)}if(function kb(t){for(let i=ah(t);null!==i;i=Km(i)){if(!(2&i[Kt]))continue;const o=i[P];for(let s=0;s<o.length;s++)Su(o[s])}}(i),Dg(i),Sg(i,0),null!==t.contentQueries&&lc(t,i),O){const J=t.contentCheckHooks;null!==J&&oi(i,J)}else{const J=t.contentHooks;null!==J&&gi(i,J,1),Gu(i,1)}!function Tb(t,i){const o=t.hostBindingOpCodes;if(null!==o)try{for(let s=0;s<o.length;s++){const d=o[s];if(d<0)ua(~d);else{const u=d,f=o[++s],m=o[++s];A_(f,u);const g=i[u];Qn(24,g),m(2,g),Qn(25,g)}}}finally{ua(-1)}}(t,i);const V=t.components;null!==V&&kg(i,V,0);const se=t.viewQuery;if(null!==se&&Od(2,se,s),O){const J=t.viewCheckHooks;null!==J&&oi(i,J)}else{const J=t.viewHooks;null!==J&&gi(i,J,2),Gu(i,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[22]){for(const J of i[22])J();i[22]=null}Cg(i),i[Kt]&=-73}catch(O){throw fs(i),O}finally{null!==x&&(He(x,g),m&&function wb(t){t.lView[_r]!==t&&(t.lView=null,Eg.push(t))}(x)),Vu()}}function Sg(t,i){for(let o=ah(t);null!==o;o=Km(o))for(let s=Q;s<o.length;s++)Ig(o[s],i)}function Ob(t,i,o){Qn(18);const s=Nr(i,t);Ig(s,o),Qn(19,s[Hn])}function Ig(t,i){jl(t)&&Sf(t,i)}function Sf(t,i){const s=t[ct],d=t[Kt],u=t[_r];let f=!!(0===i&&16&d);if(f||=!!(64&d&&0===i),f||=!!(1024&d),f||=!(!u?.dirty||!tt(u)),f||=!1,u&&(u.dirty=!1),t[Kt]&=-9217,f)Mg(s,t,s.template,t[Hn]);else if(8192&d){Dg(t),Sg(t,1);const m=s.components;null!==m&&kg(t,m,1),Cg(t)}}function kg(t,i,o){for(let s=0;s<i.length;s++)Ob(t,i[s],o)}function gc(t,i){const o=_m()?64:1088;for(t[gr].changeDetectionScheduler?.notify(i);t;){t[Kt]|=o;const s=Wo(t);if(wi(t)&&!s)return t;t=s}return null}function Og(t,i,o,s){return[t,!0,0,i,null,s,null,o,null,null]}function bl(t,i,o,s=!0){const d=i[ct];if(function Pb(t,i,o,s){const d=Q+s,u=o.length;s>0&&(o[d-1][ci]=i),s<u-Q?(i[ci]=o[d],Ac(o,Q+s,i)):(o.push(i),i[ci]=null),i[bi]=o;const f=i[Vi];null!==f&&o!==f&&Pg(f,i);const m=i[to];null!==m&&m.insertView(t),Iu(i),i[Kt]|=128}(d,i,t,o),s){const f=xf(o,t),m=i[Zt],g=m.parentNode(t[y]);null!==g&&function mb(t,i,o,s,d,u){s[Gn]=d,s[mi]=i,pc(t,s,o,1,d,u)}(d,t[mi],m,i,g,f)}const u=i[Fi];null!==u&&null!==u.firstChild&&(u.firstChild=null)}function _c(t,i){if(t.length<=Q)return;const o=Q+i,s=t[o];if(s){const d=s[Vi];null!==d&&d!==t&&$d(d,s),i>0&&(t[o-1][ci]=s[ci]);const u=Lo(t,Q+i);!function fg(t,i){Cf(t,i),i[Gn]=null,i[mi]=null}(s[ct],s);const f=u[to];null!==f&&f.detachView(u[ct]),s[bi]=null,s[ci]=null,s[Kt]&=-129}return s}function Pg(t,i){const o=t[P],s=i[bi];(H(s)||i[pi]!==s[bi][pi])&&(t[Kt]|=2),null===o?t[P]=[i]:o.push(i)}let vc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const i=this._lView,o=i[ct];return vl(o,i,o.firstChild,[])}constructor(i,o,s=!0){this._lView=i,this._cdRefInjectingView=o,this.notifyErrorHandler=s}get context(){return this._lView[Hn]}set context(i){this._lView[Hn]=i}get destroyed(){return dr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[bi];if(Ee(i)){const o=i[8],s=o?o.indexOf(this):-1;s>-1&&(_c(i,s),Lo(o,s))}this._attachedToViewContainer=!1}mc(this._lView[ct],this._lView)}onDestroy(i){Hc(this._lView,i)}markForCheck(){gc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Kt]&=-129}reattach(){Iu(this._lView),this._lView[Kt]|=128}detectChanges(){this._lView[Kt]|=1024,zd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=wi(this._lView),o=this._lView[Vi];null!==o&&!i&&$d(o,this._lView),Cf(this._lView[ct],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=i;const o=wi(this._lView),s=this._lView[Vi];null!==s&&!o&&Pg(s,this._lView),Iu(this._lView)}},bc=(()=>class t{static __NG_ELEMENT_ID__=Ab})();const Fb=bc,Rb=class extends Fb{_declarationLView;_declarationTContainer;elementRef;constructor(i,o,s){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,s){const d=gl(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:o,dehydratedView:s});return new vc(d)}};function Ab(){return Wd(Tn(),$e())}function Wd(t,i){return 4&t.type?new Rb(i,t,Ka(t,i)):null}function yl(t,i,o,s,d){let u=t.data[i];if(null===u)u=function Pf(t,i,o,s,d){const u=gm(),f=Pu(),g=t.data[i]=function HE(t,i,o,s,d,u){let f=i?i.injectorIndex:-1,m=0;return ms()&&(m|=128),{type:o,index:s,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:d,attrs:u,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?u:u&&u.parent,o,i,s,d);return function Bg(t,i,o,s){null===t.firstChild&&(t.firstChild=i),null!==o&&(s?null==o.child&&null!==i.parent&&(o.child=i):null===o.next&&(o.next=i,i.prev=o))}(t,g,u,f),g}(t,i,o,s,d),function Ri(){return an.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=o,u.value=s,u.attrs=d;const f=function Ul(){const t=an.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();u.injectorIndex=null===f?-1:f.injectorIndex}return ko(u,!0),u}let Wg=()=>null;function Yd(t,i){return Wg(t,i)}let IM=class{},zE=class{};class kM{resolveComponentFactory(i){throw Error(`No component factory found for ${Nn(i)}.`)}}let Af=class{static NULL=new kM};class Kb{}let OM=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function TM(){const t=$e(),o=Nr(Tn().index,t);return(H(o)?o:t)[Zt]}()})(),PM=(()=>{class t{static \u0275prov=ve({token:t,providedIn:"root",factory:()=>null})}return t})();function xc(t){return!!lr(t)}const Yb={};class Qd{injector;parentInjector;constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,s){s=bo(s);const d=this.injector.get(i,Yb,s);return d!==Yb||o===Yb?d:this.parentInjector.get(i,o,s)}}function Qb(t,i,o){let s=o?t.styles:null,d=o?t.classes:null,u=0;if(null!==i)for(let f=0;f<i.length;f++){const m=i[f];"number"==typeof m?u=m:1==u?d=zi(d,m):2==u&&(s=zi(s,m+": "+i[++f]+";"))}o?t.styles=s:t.stylesWithoutHost=s,o?t.classes=d:t.classesWithoutHost=d}function Zd(t,i=Gt.Default){const o=$e();return null===o?vi(t,i):Wl(Tn(),o,ee(t),i)}function XE(){throw new Error("invalid")}function Zb(t,i,o,s,d){const u=null===s?null:{"":-1},f=d(t,o);if(null!==f){let m,g=null,x=null;const O=function jM(t){let i=null,o=!1;for(let f=0;f<t.length;f++){const m=t[f];if(0===f&&Un(m)&&(i=m),null!==m.findHostDirectiveDefs){o=!0;break}}if(!o)return null;let s=null,d=null,u=null;for(const f of t)null!==f.findHostDirectiveDefs&&(s??=[],d??=new Map,u??=new Map,LM(f,s,u,d)),f===i&&(s??=[],s.push(f));return null!==s?(s.push(...null===i?t:t.slice(1)),[s,d,u]):null}(f);null===O?m=f:[m,g,x]=O,function VM(t,i,o,s,d,u,f){const m=s.length;let g=!1;for(let se=0;se<m;se++){const J=s[se];!g&&Un(J)&&(g=!0,BM(t,o,se)),Yu(Ku(o,i),t,J.type)}!function WM(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,m);for(let se=0;se<m;se++){const J=s[se];J.providersResolver&&J.providersResolver(J)}let x=!1,O=!1,V=hl(t,i,m,null);m>0&&(o.directiveToIndex=new Map);for(let se=0;se<m;se++){const J=s[se];if(o.mergedAttrs=Ua(o.mergedAttrs,J.hostAttrs),$M(t,o,i,V,J),zM(V,J,d),null!==f&&f.has(J)){const[Qe,ut]=f.get(J);o.directiveToIndex.set(J.type,[V,Qe+o.directiveStart,ut+o.directiveStart])}else(null===u||!u.has(J))&&o.directiveToIndex.set(J.type,V);null!==J.contentQueries&&(o.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(o.flags|=64);const ye=J.type.prototype;!x&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),x=!0),!O&&(ye.ngOnChanges||ye.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),O=!0),V++}!function UM(t,i,o){for(let s=i.directiveStart;s<i.directiveEnd;s++){const d=t.data[s];if(null!==o&&o.has(d)){const u=o.get(d);qE(0,i,u,s),qE(1,i,u,s),QE(i,s,!0)}else KE(0,i,d,s),KE(1,i,d,s),QE(i,s,!1)}}(t,o,u)}(t,i,o,m,u,g,x)}null!==u&&null!==s&&function NM(t,i,o){const s=t.localNames=[];for(let d=0;d<i.length;d+=2){const u=o[i[d+1]];if(null==u)throw new Z(-301,!1);s.push(i[d],u)}}(o,s,u)}function LM(t,i,o,s){const d=i.length;t.findHostDirectiveDefs(t,i,s),o.set(t,[d,i.length-1])}function BM(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function KE(t,i,o,s){const d=0===t?o.inputs:o.outputs;for(const u in d)if(d.hasOwnProperty(u)){let f;f=0===t?i.inputs??={}:i.outputs??={},f[u]??=[],f[u].push(s),YE(i,u)}}function qE(t,i,o,s){const d=0===t?o.inputs:o.outputs;for(const u in d)if(d.hasOwnProperty(u)){const f=d[u];let m;m=0===t?i.hostDirectiveInputs??={}:i.hostDirectiveOutputs??={},m[f]??=[],m[f].push(s,u),YE(i,f)}}function YE(t,i){"class"===i?t.flags|=8:"style"===i&&(t.flags|=16)}function QE(t,i,o){const{attrs:s,inputs:d,hostDirectiveInputs:u}=t;if(null===s||!o&&null===d||o&&null===u||rf(t))return t.initialInputs??=[],void t.initialInputs.push(null);let f=null,m=0;for(;m<s.length;){const g=s[m];if(0!==g)if(5!==g){if("number"==typeof g)break;if(!o&&d.hasOwnProperty(g)){const x=d[g];for(const O of x)if(O===i){f??=[],f.push(g,s[m+1]);break}}else if(o&&u.hasOwnProperty(g)){const x=u[g];for(let O=0;O<x.length;O+=2)if(x[O]===i){f??=[],f.push(x[O+1],s[m+1]);break}}m+=2}else m+=2;else m+=4}t.initialInputs??=[],t.initialInputs.push(f)}function $M(t,i,o,s,d){t.data[s]=d;const u=d.factory||(d.factory=Pr(d.type)),f=new $l(u,Un(d),Zd);t.blueprint[s]=f,o[s]=f,function GM(t,i,o,s,d){const u=d.hostBindings;if(u){let f=t.hostBindingOpCodes;null===f&&(f=t.hostBindingOpCodes=[]);const m=~i.index;(function HM(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(f)!=m&&f.push(m),f.push(o,s,u)}}(t,i,s,hl(t,o,d.hostVars,cn),d)}function zM(t,i,o){if(o){if(i.exportAs)for(let s=0;s<i.exportAs.length;s++)o[i.exportAs[s]]=t;Un(i)&&(o[""]=t)}}function ZE(t,i,o,s,d,u,f,m){const g=i.consts,O=yl(i,t,2,s,$r(g,f));return u&&Zb(i,o,O,$r(g,m),d),O.mergedAttrs=Ua(O.mergedAttrs,O.attrs),null!==O.attrs&&Qb(O,O.attrs,!1),null!==O.mergedAttrs&&Qb(O,O.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,O),O}function JE(t,i){Va(t,i),nt(i)&&t.queries.elementEnd(i)}class e1 extends Af{ngModule;constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=wn(i);return new Lf(o,this.ngModule)}}class Lf extends zE{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function XM(t){return Object.keys(t).map(i=>{const[o,s,d]=t[i],u={propName:o,templateName:i,isSignal:!!(s&Zo.SignalBased)};return d&&(u.transform=d),u})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function KM(t){return Object.keys(t).map(i=>({propName:t[i],templateName:i}))}(this.componentDef.outputs),this.cachedOutputs}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function ng(t){return t.map(Y0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors??[],this.isBoundToModule=!!o}create(i,o,s,d){Qn(22);const u=q(null);try{const f=this.componentDef,m=s?["ng-version","19.2.15"]:function Q0(t){const i=[],o=[];let s=1,d=2;for(;s<t.length;){let u=t[s];if("string"==typeof u)2===d?""!==u&&i.push(u,t[++s]):8===d&&o.push(u);else{if(!Fo(d))break;d=u}s++}return o.length&&i.push(1,...o),i}(this.componentDef.selectors[0]),g=cf(0,null,null,1,0,null,null,null,null,[m],null),x=function qM(t,i,o){let s=i instanceof Ur?i:i?.injector;return s&&null!==t.getStandaloneInjector&&(s=t.getStandaloneInjector(s)||s),s?new Qd(o,s):o}(f,d||this.ngModule,i),O=function YM(t){const i=t.get(Kb,null);if(null===i)throw new Z(407,!1);return{rendererFactory:i,sanitizer:t.get(PM,null),changeDetectionScheduler:t.get(Hs,null)}}(x),V=O.rendererFactory.createRenderer(null,f),se=s?function cg(t,i,o,s){const u=s.get(rp,!1)||o===Ko.ShadowDom,f=t.selectRootElement(i,u);return function nb(t){dg(t)}(f),f}(V,s,f.encapsulation,x):function QM(t,i){const o=(t.selectors[0][0]||"div").toLowerCase();return Vd(i,o,"svg"===o?cm:"math"===o?"math":null)}(f,V),J=Ca(null,g,null,512|Ea(f),null,null,O,V,x,null,o0(se,x,!0));J[Rt]=se,Bu(J);let ye=null;try{const Qe=ZE(Rt,g,J,"#host",()=>[this.componentDef],!0,0);se&&(sg(V,se,Qe),jr(se,J)),ff(g,J,Qe),$h(g,Qe,J),JE(g,Qe),void 0!==o&&function JM(t,i,o){const s=t.projection=[];for(let d=0;d<i.length;d++){const u=o[d];s.push(null!=u&&u.length?Array.from(u):null)}}(Qe,this.ngContentSelectors,o),ye=Nr(Qe.index,J),J[Hn]=ye[Hn],pl(g,J,null)}catch(Qe){throw null!==ye&&ad(ye),ad(J),Qe}finally{Qn(23),Vu()}return new ZM(this.componentType,J)}finally{q(u)}}}class ZM extends IM{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(i,o){super(),this._rootLView=o,this._tNode=ca(o[ct],Rt),this.location=Ka(this._tNode,o),this.instance=Nr(this._tNode.index,o)[Hn],this.hostView=this.changeDetectorRef=new vc(o,void 0,!1),this.componentType=i}setInput(i,o){const s=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const d=this._rootLView;vf(s,d[ct],d,i,o),this.previousInputValues.set(i,o),gc(Nr(s.index,d),1)}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}let Kg=(()=>class t{static __NG_ELEMENT_ID__=eS})();function eS(){return r1(Tn(),$e())}const tS=Kg,t1=class extends tS{_lContainer;_hostTNode;_hostLView;constructor(i,o,s){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=s}get element(){return Ka(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){const i=qu(this._hostTNode,this._hostLView);if(Wu(i)){const o=Hl(i,this._hostLView),s=Gl(i);return new Ai(o[ct].data[s+8],o)}return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=n1(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Q}createEmbeddedView(i,o,s){let d,u;"number"==typeof s?d=s:null!=s&&(d=s.index,u=s.injector);const f=Yd(this._lContainer,i.ssrId),m=i.createEmbeddedViewImpl(o||{},u,f);return this.insertImpl(m,d,wa(this._hostTNode,f)),m}createComponent(i,o,s,d,u){const f=i&&!function Us(t){return"function"==typeof t}(i);let m;if(f)m=o;else{const ye=o||{};m=ye.index,s=ye.injector,d=ye.projectableNodes,u=ye.environmentInjector||ye.ngModuleRef}const g=f?i:new Lf(wn(i)),x=s||this.parentInjector;if(!u&&null==g.ngModule){const Qe=(f?x:this.parentInjector).get(Ur,null);Qe&&(u=Qe)}const O=wn(g.componentType??{}),V=Yd(this._lContainer,O?.id??null),J=g.create(x,d,V?.firstChild??null,u);return this.insertImpl(J.hostView,m,wa(this._hostTNode,V)),J}insert(i,o){return this.insertImpl(i,o,!0)}insertImpl(i,o,s){const d=i._lView;if(function Ll(t){return Ee(t[bi])}(d)){const m=this.indexOf(i);if(-1!==m)this.detach(m);else{const g=d[bi],x=new t1(g,g[mi],g[bi]);x.detach(x.indexOf(i))}}const u=this._adjustIndex(o),f=this._lContainer;return bl(f,d,u,s),i.attachToViewContainerRef(),Ac(Jb(f),u,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=n1(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),s=_c(this._lContainer,o);s&&(Lo(Jb(this._lContainer),o),mc(s[ct],s))}detach(i){const o=this._adjustIndex(i,-1),s=_c(this._lContainer,o);return s&&null!=Lo(Jb(this._lContainer),o)?new vc(s):null}_adjustIndex(i,o=0){return i??this.length+o}};function n1(t){return t[8]}function Jb(t){return t[8]||(t[8]=[])}function r1(t,i){let o;const s=i[t.index];return Ee(s)?o=s:(o=Og(s,i,null,t),i[t.index]=o,df(i,o)),o1(o,i,t,s),new t1(o,t,i)}let o1=function a1(t,i,o,s){if(t[y])return;let d;d=8&o.type?$n(s):function nS(t,i){const o=t[Zt],s=o.createComment(""),d=Ar(i,t),u=o.parentNode(d);return ya(o,u,s,o.nextSibling(d),!1),s}(i,o),t[y]=d},ey=()=>!1;class ty{queryList;matches=null;constructor(i){this.queryList=i}clone(){return new ty(this.queryList)}setDirty(){this.queryList.setDirty()}}class ny{queries;constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const s=null!==i.contentQueries?i.contentQueries[0]:o.length,d=[];for(let u=0;u<s;u++){const f=o.getByIndex(u);d.push(this.queries[f.indexInDeclarationView].clone())}return new ny(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==ay(i,o).matches&&this.queries[o].setDirty()}}class l1{flags;read;predicate;constructor(i,o,s=null){this.flags=o,this.read=s,this.predicate="string"==typeof i?function dS(t){return t.split(",").map(i=>i.trim())}(i):i}}class iy{queries;constructor(i=[]){this.queries=i}elementStart(i,o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let s=0;s<this.length;s++){const d=null!==o?o.length:0,u=this.getByIndex(s).embeddedTView(i,d);u&&(u.indexInDeclarationView=s,null!==o?o.push(u):o=[u])}return null!==o?new iy(o):null}template(i,o){for(let s=0;s<this.queries.length;s++)this.queries[s].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class ry{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(i,o=-1){this.metadata=i,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new ry(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let s=i.parent;for(;null!==s&&8&s.type&&s.index!==o;)s=s.parent;return o===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const s=this.metadata.predicate;if(Array.isArray(s))for(let d=0;d<s.length;d++){const u=s[d];this.matchTNodeWithReadOption(i,o,sS(o,u)),this.matchTNodeWithReadOption(i,o,Qu(o,i,u,!1,!1))}else s===bc?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Qu(o,i,s,!1,!1))}matchTNodeWithReadOption(i,o,s){if(null!==s){const d=this.metadata.read;if(null!==d)if(d===rd||d===Kg||d===bc&&4&o.type)this.addMatch(o.index,-2);else{const u=Qu(o,i,d,!1,!1);null!==u&&this.addMatch(o.index,u)}else this.addMatch(o.index,s)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function sS(t,i){const o=t.localNames;if(null!==o)for(let s=0;s<o.length;s+=2)if(o[s]===i)return o[s+1];return null}function lS(t,i,o,s){return-1===o?function aS(t,i){return 11&t.type?Ka(t,i):4&t.type?Wd(t,i):null}(i,t):-2===o?function cS(t,i,o){return o===rd?Ka(i,t):o===bc?Wd(i,t):o===Kg?r1(i,t):void 0}(t,i,s):$a(t,t[ct],o,i)}function c1(t,i,o,s){const d=i[to].queries[s];if(null===d.matches){const u=t.data,f=o.matches,m=[];for(let g=0;null!==f&&g<f.length;g+=2){const x=f[g];m.push(x<0?null:lS(i,u[x],f[g+1],o.metadata.read))}d.matches=m}return d.matches}function oy(t,i,o,s){const d=t.queries.getByIndex(o),u=d.matches;if(null!==u){const f=c1(t,i,d,o);for(let m=0;m<u.length;m+=2){const g=u[m];if(g>0)s.push(f[m/2]);else{const x=u[m+1],O=i[-g];for(let V=Q;V<O.length;V++){const se=O[V];se[Vi]===se[bi]&&oy(se[ct],se,x,s)}if(null!==O[P]){const V=O[P];for(let se=0;se<V.length;se++){const J=V[se];oy(J[ct],J,x,s)}}}}}return s}function sy(t,i){return t[to].queries[i].queryList}function d1(t,i,o){const s=new vv(!(4&~o));return function Ba(t,i,o,s){const d=Wc(i);d.push(o),t.firstCreatePass&&Gr(t).push(s,d.length-1)}(t,i,s,s.destroy),(i[to]??=new ny).queries.push(new ty(s))-1}function h1(t,i,o,s){const d=rn();if(d.firstCreatePass){const u=Tn();f1(d,new l1(i,o,s),u.index),function uS(t,i){const o=t.contentQueries||(t.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,i)}(d,t),!(2&~o)&&(d.staticContentQueries=!0)}return d1(d,$e(),o)}function f1(t,i,o){null===t.queries&&(t.queries=new iy),t.queries.track(new ry(i,o))}function ay(t,i){return t.queries.getByIndex(i)}function m1(t,i){const o=t[ct],s=ay(o,i);return s.crossesNgTemplate?oy(o,t,i,[]):c1(o,t,s,i)}function ly(t,i,o){let s;const d=it(()=>{s._dirtyCounter();const u=function hS(t,i){const o=t._lView,s=t._queryIndex;if(void 0===o||void 0===s||4&o[Kt])return i?void 0:Fn;const d=sy(o,s),u=m1(o,s);return d.reset(u,gv),i?d.first:d._changesDetected||void 0===t._flatValue?t._flatValue=d.toArray():t._flatValue}(s,t);if(i&&void 0===u)throw new Z(-951,!1);return u});return s=d[R],s._dirtyCounter=ql(0),s._flatValue=void 0,d}function b1(t,i){return function p1(t){return ly(!0,!1)}()}const mS=(b1.required=function fS(t,i){return function g1(t){return ly(!0,!0)}()},b1);let Mc=class{},M1=class{};function wS(t,i){return new dy(t,i??null,[])}class dy extends Mc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new e1(this);constructor(i,o,s,d=!0){super(),this.ngModuleType=i,this._parent=o;const u=lr(i);this._bootstrapComponents=Qo(u.bootstrap),this._r3Injector=sv(i,o,[{provide:Mc,useValue:this},{provide:Af,useValue:this.componentFactoryResolver},...s],Nn(i),new Set(["environment"])),d&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class uy extends M1{moduleType;constructor(i){super(),this.moduleType=i}create(i){return new dy(this.moduleType,i,[])}}class S1 extends Mc{injector;componentFactoryResolver=new e1(this);instance=null;constructor(i){super();const o=new wo([...i.providers,{provide:Mc,useValue:this},{provide:Af,useValue:this.componentFactoryResolver}],i.parent||Pa(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function hy(t,i,o=null){return new S1({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let xS=(()=>{class t{_injector;cachedInjectors=new Map;constructor(o){this._injector=o}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const s=ra(0,o.type),d=s.length>0?hy([s],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ve({token:t,providedIn:"environment",factory:()=>new t(vi(Ur))})}return t})();function I1(t){return he(()=>{const i=T1(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ih.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:i.standalone?d=>d.get(xS).getOrCreateStandaloneInjector(o):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ko.Emulated,styles:t.styles||Fn,_:null,schemas:t.schemas||null,tView:null,id:""};i.standalone&&Wr("NgStandalone"),P1(o);const s=t.dependencies;return o.directiveDefs=qg(s,!1),o.pipeDefs=qg(s,!0),o.id=function TS(t){let i=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const u of s.join("|"))i=Math.imul(31,i)+u.charCodeAt(0)|0;return i+=2147483648,"c"+i}(o),o})}function MS(t){return wn(t)||Ki(t)}function SS(t){return null!==t}function fy(t){return he(()=>({type:t.type,bootstrap:t.bootstrap||Fn,declarations:t.declarations||Fn,imports:t.imports||Fn,exports:t.exports||Fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function IS(t,i){if(null==t)return Fr;const o={};for(const s in t)if(t.hasOwnProperty(s)){const d=t[s];let u,f,m,g;Array.isArray(d)?(m=d[0],u=d[1],f=d[2]??u,g=d[3]||null):(u=d,f=d,m=Zo.None,g=null),o[u]=[s,m,g],i[u]=f}return o}function kS(t){if(null==t)return Fr;const i={};for(const o in t)t.hasOwnProperty(o)&&(i[t[o]]=o);return i}function k1(t){return he(()=>{const i=T1(t);return P1(i),i})}function O1(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function T1(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputConfig:t.inputs||Fr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||Fn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IS(t.inputs,i),outputs:kS(t.outputs),debugInfo:null}}function P1(t){t.features?.forEach(i=>i(t))}function qg(t,i){if(!t)return null;const o=i?cr:MS;return()=>("function"==typeof t?t():t).map(s=>o(s)).filter(SS)}function my(t){let i=function F1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const s=[t];for(;i;){let d;if(Un(t))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Z(903,!1);d=i.\u0275dir}if(d){if(o){s.push(d);const f=t;f.inputs=py(t.inputs),f.declaredInputs=py(t.declaredInputs),f.outputs=py(t.outputs);const m=d.hostBindings;m&&NS(t,m);const g=d.viewQuery,x=d.contentQueries;if(g&&RS(t,g),x&&AS(t,x),PS(t,d),Hi(t.outputs,d.outputs),Un(d)&&d.data.animation){const O=t.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const u=d.features;if(u)for(let f=0;f<u.length;f++){const m=u[f];m&&m.ngInherit&&m(t),m===my&&(o=!1)}}i=Object.getPrototypeOf(i)}!function FS(t){let i=0,o=null;for(let s=t.length-1;s>=0;s--){const d=t[s];d.hostVars=i+=d.hostVars,d.hostAttrs=Ua(d.hostAttrs,o=Ua(o,d.hostAttrs))}}(s)}function PS(t,i){for(const o in i.inputs){if(!i.inputs.hasOwnProperty(o)||t.inputs.hasOwnProperty(o))continue;const s=i.inputs[o];void 0!==s&&(t.inputs[o]=s,t.declaredInputs[o]=i.declaredInputs[o])}}function py(t){return t===Fr?{}:t===Fn?[]:t}function RS(t,i){const o=t.viewQuery;t.viewQuery=o?(s,d)=>{i(s,d),o(s,d)}:i}function AS(t,i){const o=t.contentQueries;t.contentQueries=o?(s,d,u)=>{i(s,d,u),o(s,d,u)}:i}function NS(t,i){const o=t.hostBindings;t.hostBindings=o?(s,d)=>{i(s,d),o(s,d)}:i}function R1(t){const i=o=>{const s=Array.isArray(t);null===o.hostDirectives?(o.findHostDirectiveDefs=A1,o.hostDirectives=s?t.map(gy):[t]):s?o.hostDirectives.unshift(...t.map(gy)):o.hostDirectives.unshift(t)};return i.ngInherit=!0,i}function A1(t,i,o){if(null!==t.hostDirectives)for(const s of t.hostDirectives)if("function"==typeof s){const d=s();for(const u of d)N1(gy(u),i,o)}else N1(s,i,o)}function N1(t,i,o){const s=Ki(t.directive);(function VS(t,i){for(const o in i)i.hasOwnProperty(o)&&(t[i[o]]=t[o])})(s.declaredInputs,t.inputs),A1(s,i,o),o.set(s,t),i.push(s)}function gy(t){return"function"==typeof t?{directive:ee(t),inputs:Fr,outputs:Fr}:{directive:ee(t.directive),inputs:j1(t.inputs),outputs:j1(t.outputs)}}function j1(t){if(void 0===t||0===t.length)return Fr;const i={};for(let o=0;o<t.length;o+=2)i[t[o]]=t[o+1];return i}function Yg(t){return!!_y(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function _y(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zs(t,i,o){return t[i]=o}function Zi(t,i,o){return!Object.is(t[i],o)&&(t[i]=o,!0)}function Sc(t,i,o,s){const d=Zi(t,i,o);return Zi(t,i+1,s)||d}function Uf(t,i,o,s,d,u,f,m,g,x){const O=o+Rt,V=i.firstCreatePass?function HS(t,i,o,s,d,u,f,m,g){const x=i.consts,O=yl(i,t,4,f||null,m||null);Ou()&&Zb(i,o,O,$r(x,g),pf),O.mergedAttrs=Ua(O.mergedAttrs,O.attrs),Va(i,O);const V=O.tView=cf(2,O,s,d,u,i.directiveRegistry,i.pipeRegistry,null,i.schemas,x,null);return null!==i.queries&&(i.queries.template(i,O),V.queries=i.queries.embeddedTView(O)),O}(O,i,t,s,d,u,f,m,g):i.data[O];ko(V,!1);const se=B1(i,t,V,o);Gs()&&Gd(i,t,se,V),jr(se,t);const J=Og(se,t,se,V);return t[O]=J,df(t,J),function s1(t,i,o){return ey(t,i,o)}(J,V,t),gn(V)&&ff(i,t,V),null!=g&&ml(t,V,x),V}function vy(t,i,o,s,d,u,f,m){const g=$e(),x=rn();return Uf(g,x,t,i,o,s,d,$r(x.consts,u),f,m),vy}let B1=function V1(t,i,o,s){return Oo(!0),i[Zt].createComment("")};let Cy=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const J1=new Et(""),ew=new Et("");let xy,$I=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(o,s,d){this._ngZone=o,this.registry=s,Fa()&&(this._destroyRef=Tt(_s,{optional:!0})??void 0),xy||(function GI(t){xy=t}(d),d.addToWindow(s)),this._watchAngularEvents(),o.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const o=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),s=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{yi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{o.unsubscribe(),s.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(o)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,s,d){let u=-1;s&&s>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==u),o()},s)),this._callbacks.push({doneCb:o,timeoutId:u,updateCb:d})}whenStable(o,s,d){if(d&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,s,d),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,s,d){return[]}static \u0275fac=function(s){return new(s||t)(vi(yi),vi(tw),vi(ew))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),tw=(()=>{class t{_applications=new Map;registerApplication(o,s){this._applications.set(o,s)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,s=!0){return xy?.findTestabilityInTree(this,o,s)??null}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),nw=(()=>{class t{static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new HI})}return t})();class HI{queuedEffectCount=0;queues=new Map;schedule(i){this.enqueue(i)}remove(i){const s=this.queues.get(i.zone);s.has(i)&&(s.delete(i),this.queuedEffectCount--)}enqueue(i){const o=i.zone;this.queues.has(o)||this.queues.set(o,new Set);const s=this.queues.get(o);s.has(i)||(this.queuedEffectCount++,s.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,o]of this.queues)null===i?this.flushQueue(o):i.run(()=>this.flushQueue(o))}flushQueue(i){for(const o of i)i.delete(o),this.queuedEffectCount--,o.run()}}function My(t){return!!t&&"function"==typeof t.then}function iw(t){return!!t&&"function"==typeof t.subscribe}const rw=new Et("");function zI(t){return Vr([{provide:rw,multi:!0,useValue:t}])}let ow=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((o,s)=>{this.resolve=o,this.reject=s});appInits=Tt(rw,{optional:!0})??[];injector=Tt(hr);constructor(){}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const u=Do(this.injector,d);if(My(u))o.push(u);else if(iw(u)){const f=new Promise((m,g)=>{u.subscribe({complete:m,error:g})});o.push(f)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{s()}).catch(d=>{this.reject(d)}),0===o.length&&s(),this.initialized=!0}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Gf=new Et("");let Ao=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Tt(QC);afterRenderManager=Tt(yh);zonelessEnabled=Tt(nd);rootEffectScheduler=Tt(nw);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ti.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Tt(za).hasPendingTasks.pipe((0,Xe.T)(o=>!o));constructor(){Tt(Cs,{optional:!0})}whenStable(){let o;return new Promise(s=>{o=this.isStable.subscribe({next:d=>{d&&s()}})}).finally(()=>{o.unsubscribe()})}_injector=Tt(Ur);_rendererFactory=null;get injector(){return this._injector}bootstrap(o,s){return this.bootstrapImpl(o,s)}bootstrapImpl(o,s,d=hr.NULL){Qn(10);const u=o instanceof zE;if(!this._injector.get(ow).done)throw new Z(405,"");let m;m=u?o:this._injector.get(Af).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const g=function WI(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Mc),O=m.create(d,[],s||m.selector,g),V=O.location.nativeElement,se=O.injector.get(J1,null);return se?.registerApplication(V),O.onDestroy(()=>{this.detachView(O.hostView),t_(this.components,O),se?.unregisterApplication(V)}),this._loadComponent(O),Qn(11,O),O}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Qn(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Sr.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Z(101,!1);const o=q(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,q(o),this.afterTick.next(),Qn(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Kb,null,{optional:!0}));let o=0;for(;0!==this.dirtyFlags&&o++<10;)Qn(14),this.synchronizeOnce(),Qn(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:d}of this.allViews)KI(s,d,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>Bl(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const s=o;this._views.push(s),s.attachToAppRef(this)}detachView(o){const s=o;t_(this._views,s),s.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Gf,[]).forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>t_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Z(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function t_(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}function KI(t,i,o,s){(o||Bl(t))&&zd(t,i,o&&!s?0:1)}function Ty(t,i,o,s){const d=$e();return Zi(d,zr(),i)&&(rn(),Jo(ri(),d,t,i,o,s)),Ty}function iu(t,i,o,s){return Zi(t,zr(),o)?i+ue(o)+s:cn}function ru(t,i,o,s,d,u){const m=Sc(t,function Bt(){return an.lFrame.bindingIndex}(),o,d);return Ct(2),m?i+ue(o)+s+ue(d)+u:cn}function Py(t,i,o,s,d,u){const f=$e(),m=iu(f,i,o,s);return m!==cn&&Jo(ri(),f,t,m,d,u),Py}function n_(t,i){return t<<17|i<<2}function kc(t){return t>>17&32767}function Fy(t){return 2|t}function uu(t){return(131068&t)>>2}function Ry(t,i){return-131069&t|i<<2}function Ay(t){return 1|t}function Dw(t,i,o,s){const d=t[o+1],u=null===i;let f=s?kc(d):uu(d),m=!1;for(;0!==f&&(!1===m||u);){const x=t[f+1];Rk(t[f],i)&&(m=!0,t[f+1]=s?Ay(x):Fy(x)),f=s?kc(x):uu(x)}m&&(t[o+1]=s?Fy(d):Ay(d))}function Rk(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&Br(t,i)>=0}const Er={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xw(t){return t.substring(Er.key,Er.keyEnd)}function Mw(t,i){const o=Er.textEnd;return o===i?-1:(i=Er.keyEnd=function Lk(t,i,o){for(;i<o&&t.charCodeAt(i)>32;)i++;return i}(t,Er.key=i,o),hu(t,i,o))}function hu(t,i,o){for(;i<o&&t.charCodeAt(i)<=32;)i++;return i}function Ny(t,i,o){const s=$e();return Zi(s,zr(),i)&&Kr(rn(),ri(),s,t,i,s[Zt],o,!1),Ny}function jy(t,i,o,s,d){vf(i,t,o,d?"class":"style",s)}function Ly(t,i,o){return Ms(t,i,o,!1),Ly}function By(t,i){return Ms(t,i,null,!0),By}function Tw(t){Ss(Xk,ea,t,!0)}function ea(t,i){for(let o=function Nk(t){return function Iw(t){Er.key=0,Er.keyEnd=0,Er.value=0,Er.valueEnd=0,Er.textEnd=t.length}(t),Mw(t,hu(t,0,Er.textEnd))}(i);o>=0;o=Mw(i,o))Mr(t,xw(i),!0)}function Ms(t,i,o,s){const d=$e(),u=rn(),f=Ct(2);u.firstUpdatePass&&Fw(u,t,f,s),i!==cn&&Zi(d,f,i)&&Aw(u,u.data[br()],d,d[Zt],t,d[f+1]=function qk(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Nn(Yo(t)))),t}(i,o),s,f)}function Ss(t,i,o,s){const d=rn(),u=Ct(2);d.firstUpdatePass&&Fw(d,null,u,s);const f=$e();if(o!==cn&&Zi(f,u,o)){const m=d.data[br()];if(jw(m,s)&&!Pw(d,u)){let g=s?m.classesWithoutHost:m.stylesWithoutHost;null!==g&&(o=zi(g,o||"")),jy(d,m,f,o,s)}else!function Kk(t,i,o,s,d,u,f,m){d===cn&&(d=Fn);let g=0,x=0,O=0<d.length?d[0]:null,V=0<u.length?u[0]:null;for(;null!==O||null!==V;){const se=g<d.length?d[g+1]:void 0,J=x<u.length?u[x+1]:void 0;let Qe,ye=null;O===V?(g+=2,x+=2,se!==J&&(ye=V,Qe=J)):null===V||null!==O&&O<V?(g+=2,ye=O):(x+=2,ye=V,Qe=J),null!==ye&&Aw(t,i,o,s,ye,Qe,f,m),O=g<d.length?d[g]:null,V=x<u.length?u[x]:null}}(d,m,f,f[Zt],f[u+1],f[u+1]=function Wk(t,i,o){if(null==o||""===o)return Fn;const s=[],d=Yo(o);if(Array.isArray(d))for(let u=0;u<d.length;u++)t(s,d[u],!0);else if("object"==typeof d)for(const u in d)d.hasOwnProperty(u)&&t(s,u,d[u]);else"string"==typeof d&&i(s,d);return s}(t,i,o),s,u)}}function Pw(t,i){return i>=t.expandoStartIndex}function Fw(t,i,o,s){const d=t.data;if(null===d[o+1]){const u=d[br()],f=Pw(t,o);jw(u,s)&&null===i&&!f&&(i=!1),i=function $k(t,i,o,s){const d=function ju(t){const i=an.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let u=s?i.residualClasses:i.residualStyles;if(null===d)0===(s?i.classBindings:i.styleBindings)&&(o=zf(o=Vy(null,t,i,o,s),i.attrs,s),u=null);else{const f=i.directiveStylingLast;if(-1===f||t[f]!==d)if(o=Vy(d,t,i,o,s),null===u){let g=function Gk(t,i,o){const s=o?i.classBindings:i.styleBindings;if(0!==uu(s))return t[kc(s)]}(t,i,s);void 0!==g&&Array.isArray(g)&&(g=Vy(null,t,i,g[1],s),g=zf(g,i.attrs,s),function Hk(t,i,o,s){t[kc(o?i.classBindings:i.styleBindings)]=s}(t,i,s,g))}else u=function zk(t,i,o){let s;const d=i.directiveEnd;for(let u=1+i.directiveStylingLast;u<d;u++)s=zf(s,t[u].hostAttrs,o);return zf(s,i.attrs,o)}(t,i,s)}return void 0!==u&&(s?i.residualClasses=u:i.residualStyles=u),o}(d,u,i,s),function Pk(t,i,o,s,d,u){let f=u?i.classBindings:i.styleBindings,m=kc(f),g=uu(f);t[s]=o;let O,x=!1;if(Array.isArray(o)?(O=o[1],(null===O||Br(o,O)>0)&&(x=!0)):O=o,d)if(0!==g){const se=kc(t[m+1]);t[s+1]=n_(se,m),0!==se&&(t[se+1]=Ry(t[se+1],s)),t[m+1]=function Ok(t,i){return 131071&t|i<<17}(t[m+1],s)}else t[s+1]=n_(m,0),0!==m&&(t[m+1]=Ry(t[m+1],s)),m=s;else t[s+1]=n_(g,0),0===m?m=s:t[g+1]=Ry(t[g+1],s),g=s;x&&(t[s+1]=Fy(t[s+1])),Dw(t,O,s,!0),Dw(t,O,s,!1),function Fk(t,i,o,s,d){const u=d?t.residualClasses:t.residualStyles;null!=u&&"string"==typeof i&&Br(u,i)>=0&&(o[s+1]=Ay(o[s+1]))}(i,O,t,s,u),f=n_(m,g),u?i.classBindings=f:i.styleBindings=f}(d,u,i,o,f,s)}}function Vy(t,i,o,s,d){let u=null;const f=o.directiveEnd;let m=o.directiveStylingLast;for(-1===m?m=o.directiveStart:m++;m<f&&(u=i[m],s=zf(s,u.hostAttrs,d),u!==t);)m++;return null!==t&&(o.directiveStylingLast=m),s}function zf(t,i,o){const s=o?1:2;let d=-1;if(null!==i)for(let u=0;u<i.length;u++){const f=i[u];"number"==typeof f?d=f:d===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mr(t,f,!!o||i[++u]))}return void 0===t?null:t}function Xk(t,i,o){const s=String(i);""!==s&&!s.includes(" ")&&Mr(t,s,o)}function Aw(t,i,o,s,d,u,f,m){if(!(3&i.type))return;const g=t.data,x=g[m+1],O=function Tk(t){return!(1&~t)}(x)?Nw(g,i,o,d,uu(x),f):void 0;i_(O)||(i_(u)||function kk(t){return!(2&~t)}(x)&&(u=Nw(g,null,o,d,m,f)),function yb(t,i,o,s,d){if(i)d?t.addClass(o,s):t.removeClass(o,s);else{let u=-1===s.indexOf("-")?void 0:Ud.DashCase;null==d?t.removeStyle(o,s,u):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),u|=Ud.Important),t.setStyle(o,s,d,u))}}(s,f,$s(br(),o),d,u))}function Nw(t,i,o,s,d,u){const f=null===i;let m;for(;d>0;){const g=t[d],x=Array.isArray(g),O=x?g[1]:g,V=null===O;let se=o[d+1];se===cn&&(se=V?Fn:void 0);let J=V?ss(se,s):O===s?se:void 0;if(x&&!i_(J)&&(J=ss(g,s)),i_(J)&&(m=J,f))return m;const ye=t[d+1];d=f?kc(ye):uu(ye)}if(null!==i){let g=u?i.residualClasses:i.residualStyles;null!=g&&(m=ss(g,s))}return m}function i_(t){return void 0!==t}function jw(t,i){return!!(t.flags&(i?8:16))}function Lw(t,i,o){Ss(Mr,ea,iu($e(),t,i,o),!0)}function $w(t,i){Wr("NgControlFlow");const o=$e(),s=zr(),d=o[s]!==cn?o[s]:-1,u=-1!==d?r_(o,Rt+d):void 0;if(Zi(o,s,t)){const m=q(null);try{if(void 0!==u&&function If(t,i){const o=_c(t,i);return void 0!==o&&mc(o[ct],o),o}(u,0),-1!==t){const g=Rt+t,x=r_(o,g),O=function Gy(t,i){return ca(t,i)}(o[ct],g),V=Yd(x,O.tView.ssrId);bl(x,gl(o,O,i,{dehydratedView:V}),0,wa(O,V))}}finally{q(m)}}else if(void 0!==u){const m=function Tg(t,i){const o=Q+i;if(o<t.length)return t[o]}(u,0);void 0!==m&&(m[Hn]=i)}}function r_(t,i){return t[i]}function o_(t,i,o,s){const d=$e(),u=rn(),f=Rt+t,m=d[Zt],g=u.firstCreatePass?ZE(f,u,d,i,pf,Ou(),o,s):u.data[f],x=Gw(u,d,g,m,i,t);d[f]=x;const O=gn(g);return ko(g,!0),sg(m,x,g),!Ys(g)&&Gs()&&Gd(u,d,x,g),(0===function hm(){return an.lFrame.elementDepthCount}()||O)&&jr(x,d),function Vl(){an.lFrame.elementDepthCount++}(),O&&(ff(u,d,g),$h(u,g,d)),null!==s&&ml(d,g),o_}function s_(){let t=Tn();Pu()?Fu():(t=t.parent,ko(t,!1));const i=t;(function F_(t){return an.skipHydrationRootTNode===t})(i)&&function PC(){an.skipHydrationRootTNode=null}(),function P_(){an.lFrame.elementDepthCount--}();const o=rn();return o.firstCreatePass&&JE(o,i),null!=i.classesWithoutHost&&function U_(t){return!!(8&t.flags)}(i)&&jy(o,i,$e(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function $_(t){return!!(16&t.flags)}(i)&&jy(o,i,$e(),i.stylesWithoutHost,!1),s_}function Hy(t,i,o,s){return o_(t,i,o,s),s_(),Hy}let Gw=(t,i,o,s,d,u)=>(Oo(!0),Vd(s,d,function Qc(){return an.lFrame.currentNamespace}()));function a_(t,i,o){const s=$e(),d=rn(),u=t+Rt,f=d.firstCreatePass?function vO(t,i,o,s,d){const u=i.consts,f=$r(u,s),m=yl(i,t,8,"ng-container",f);null!==f&&Qb(m,f,!0);const g=$r(u,d);return Ou()&&Zb(i,o,m,g,pf),m.mergedAttrs=Ua(m.mergedAttrs,m.attrs),null!==i.queries&&i.queries.elementStart(i,m),m}(u,d,s,i,o):d.data[u];ko(f,!0);const m=Hw(d,s,f,t);return s[u]=m,Gs()&&Gd(d,s,m,f),jr(m,s),gn(f)&&(ff(d,s,f),$h(d,f,s)),null!=o&&ml(s,f),a_}function l_(){let t=Tn();const i=rn();return Pu()?Fu():(t=t.parent,ko(t,!1)),i.firstCreatePass&&(Va(i,t),nt(t)&&i.queries.elementEnd(t)),l_}function zy(t,i,o){return a_(t,i,o),l_(),zy}let Hw=(t,i,o,s)=>(Oo(!0),af(i[Zt],""));function zw(){return $e()}function Wy(t,i,o){const s=$e();return Zi(s,zr(),i)&&Kr(rn(),ri(),s,t,i,s[Zt],o,!0),Wy}const Oc=void 0;var EO=["en",[["a","p"],["AM","PM"],Oc],[["AM","PM"],Oc,Oc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oc,"{1} 'at' {0}",Oc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CO(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let fu={};function Xy(t){const i=function wO(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Kw(i);if(o)return o;const s=i.split("-")[0];if(o=Kw(s),o)return o;if("en"===s)return EO;throw new Z(701,!1)}function Xw(t){return Xy(t)[mu.PluralCase]}function Kw(t){return t in fu||(fu[t]=qn.ng&&qn.ng.common&&qn.ng.common.locales&&qn.ng.common.locales[t]),fu[t]}var mu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(mu||{});const c_="en-US";let qw=c_;function fD(t,i,o){return function s(d){if(d===Function)return o;gc(mt(t)?Nr(t.index,i):i,5);const f=i[Hn];let m=mD(i,f,o,d),g=s.__ngNextListenerFn__;for(;g;)m=mD(i,f,g,d)&&m,g=g.__ngNextListenerFn__;return m}}function mD(t,i,o,s){const d=q(null);try{return Qn(6,i,o),!1!==o(s)}catch(u){return function uT(t,i){const o=t[di],s=o?o.get(bs,null):null;s&&s.handleError(i)}(t,u),!1}finally{Qn(7,i,o),q(d)}}function pD(t,i,o,s,d,u){const m=i[ct],O=i[o][m.data[o].outputs[s]],V=m.firstCreatePass?Gr(m):null,se=Wc(i),J=O.subscribe(u),ye=se.length;se.push(u,J),V&&V.push(d,t.index,ye,-(ye+1))}function Yy(t,i,o,s){const d=$e(),u=rn(),f=Tn();return Qy(u,d,d[Zt],f,t,i,s),Yy}function Qy(t,i,o,s,d,u,f){const m=gn(s),x=t.firstCreatePass?Gr(t):null,O=Wc(i);let V=!0;if(3&s.type||f){const se=Ar(s,i),J=f?f(se):se,ye=O.length,Qe=f?_t=>f($n(_t[s.index])):s.index;let ut=null;if(!f&&m&&(ut=function hT(t,i,o,s){const d=t.cleanup;if(null!=d)for(let u=0;u<d.length-1;u+=2){const f=d[u];if(f===o&&d[u+1]===s){const m=i[$o],g=d[u+2];return m.length>g?m[g]:null}"string"==typeof f&&(u+=2)}return null}(t,i,d,s.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=u,ut.__ngLastListenerFn__=u,V=!1;else{!function e0(t,i,o,s){wp(t,i,o,s)}(i,J,d,u=fD(s,i,u));const _t=o.listen(J,d,u);O.push(u,_t),x&&x.push(d,Qe,ye,ye+1)}}else u=fD(s,i,u);if(V){const se=s.outputs?.[d],J=s.hostDirectiveOutputs?.[d];if(J&&J.length)for(let ye=0;ye<J.length;ye+=2)pD(s,i,J[ye],J[ye+1],d,u);if(se&&se.length)for(const ye of se)pD(s,i,ye,d,d,u)}}function _D(t=1){return function L_(t){return(an.lFrame.contextLView=function Gc(t,i){for(;t>0;)i=i[hs],t--;return i}(t,an.lFrame.contextLView))[Hn]}(t)}function fT(t,i){let o=null;const s=function W0(t){const i=t.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(t);for(let d=0;d<i.length;d++){const u=i[d];if("*"!==u){if(null===s?eg(t,u,!0):q0(s,u))return d}else o=d}return o}function vD(t){const i=$e()[pi][mi];if(!i.projection){const s=i.projection=function Bo(t,i){const o=[];for(let s=0;s<t;s++)o.push(i);return o}(t?t.length:1,null),d=s.slice();let u=i.child;for(;null!==u;){if(128!==u.type){const f=t?fT(u,t):0;null!==f&&(d[f]?d[f].projectionNext=u:s[f]=u,d[f]=u)}u=u.next}}}function bD(t,i=0,o,s,d,u){const f=$e(),m=rn(),g=s?t+1:null;null!==g&&Uf(f,m,g,s,d,u,null,o);const x=yl(m,Rt+t,16,null,o||null);null===x.projection&&(x.projection=i),Fu();const V=!f[Fi]||ms();null===f[pi][mi].projection[x.projection]&&null!==g?function mT(t,i,o){const s=Rt+o,d=i.data[s],u=t[s],f=Yd(u,d.tView.ssrId);bl(u,gl(t,d,void 0,{dehydratedView:f}),0,wa(d,f))}(f,m,g):V&&!Ys(x)&&function vb(t,i,o){yg(i[Zt],0,i,o,wf(t,o,i),pg(o.parent||i[mi],o,i))}(m,f,x)}function f_(t,i,o,s,d){const u=$e(),f=iu(u,i,o,s);return f!==cn&&Kr(rn(),ri(),u,t,f,u[Zt],d,!1),f_}function Zy(t,i,o,s,d,u,f){const m=$e(),g=ru(m,i,o,s,d,u);return g!==cn&&Kr(rn(),ri(),m,t,g,m[Zt],f,!1),Zy}function ID(t,i,o,s){h1(t,i,o,s)}function kD(t,i,o){!function u1(t,i,o){const s=rn();return s.firstCreatePass&&(f1(s,new l1(t,i,o),-1),!(2&~i)&&(s.staticViewQueries=!0)),d1(s,$e(),i)}(t,i,o)}function OD(t){const i=$e(),o=rn(),s=Lu();qc(s+1);const d=ay(o,s);if(t.dirty&&function Io(t){return!(4&~t[Kt])}(i)===!(2&~d.metadata.flags)){if(null===d.matches)t.reset([]);else{const u=m1(i,s);t.reset(u,gv),t.notifyOnChanges()}return!0}return!1}function TD(){return sy($e(),Lu())}function PD(t,i,o,s,d){!function v1(t,i){const o=t[R];o._lView=$e(),o._queryIndex=i,o._queryList=sy(o._lView,i),o._queryList.onDirty(()=>o._dirtyCounter.update(s=>s+1))}(i,h1(t,o,s,d))}function FD(t=1){qc(Lu()+t)}function RD(t){return da(function Ru(){return an.lFrame.contextLView}(),Rt+t)}function HD(t,i=""){const o=$e(),s=rn(),d=t+Rt,u=s.firstCreatePass?yl(s,d,1,i,null):s.data[d],f=zD(s,o,u,i,t);o[d]=f,Gs()&&Gd(s,o,f,u),ko(u,!1)}let zD=(t,i,o,s,d)=>(Oo(!0),function sf(t,i){return t.createText(i)}(i[Zt],s));function Jy(t){return m_("",t,""),Jy}function m_(t,i,o){const s=$e(),d=iu(s,t,i,o);return d!==cn&&Ia(s,br(),d),m_}function eC(t,i,o,s,d){const u=$e(),f=ru(u,t,i,o,s,d);return f!==cn&&Ia(u,br(),f),eC}function Ia(t,i,o){const s=$s(i,t);!function ig(t,i,o){t.setValue(i,o)}(t[Zt],s,o)}function tC(t,i,o){_v(i)&&(i=i());const s=$e();return Zi(s,zr(),i)&&Kr(rn(),ri(),s,t,i,s[Zt],o,!1),tC}function JD(t,i){const o=_v(t);return o&&t.set(i),o}function nC(t,i){const o=$e(),s=rn(),d=Tn();return Qy(s,o,o[Zt],d,t,i),nC}function iC(t,i,o,s,d){if(t=ee(t),Array.isArray(t))for(let u=0;u<t.length;u++)iC(t[u],i,o,s,d);else{const u=rn(),f=$e(),m=Tn();let g=qi(t)?t:ee(t.provide);const x=oa(t),O=1048575&m.providerIndexes,V=m.directiveStart,se=m.providerIndexes>>20;if(qi(t)||!t.multi){const J=new $l(x,d,Zd),ye=oC(g,i,d?O:O+se,V);-1===ye?(Yu(Ku(m,f),u,g),rC(u,t,i.length),i.push(g),m.directiveStart++,m.directiveEnd++,d&&(m.providerIndexes+=1048576),o.push(J),f.push(J)):(o[ye]=J,f[ye]=J)}else{const J=oC(g,i,O+se,V),ye=oC(g,i,O,O+se),ut=ye>=0&&o[ye];if(d&&!ut||!d&&!(J>=0&&o[J])){Yu(Ku(m,f),u,g);const _t=function FT(t,i,o,s,d){const u=new $l(t,o,Zd);return u.multi=[],u.index=i,u.componentProviders=0,nx(u,d,s&&!o),u}(d?PT:TT,o.length,d,s,x);!d&&ut&&(o[ye].providerFactory=_t),rC(u,t,i.length,0),i.push(g),m.directiveStart++,m.directiveEnd++,d&&(m.providerIndexes+=1048576),o.push(_t),f.push(_t)}else rC(u,t,J>-1?J:ye,nx(o[d?ye:J],x,!d&&s));!d&&s&&ut&&o[ye].componentProviders++}}}function rC(t,i,o,s){const d=qi(i),u=function js(t){return!!t.useClass}(i);if(d||u){const g=(u?ee(i.useClass):i).prototype.ngOnDestroy;if(g){const x=t.destroyHooks||(t.destroyHooks=[]);if(!d&&i.multi){const O=x.indexOf(o);-1===O?x.push(o,[s,g]):x[O+1].push(s,g)}else x.push(o,g)}}}function nx(t,i,o){return o&&t.componentProviders++,t.multi.push(i)-1}function oC(t,i,o,s){for(let d=o;d<s;d++)if(i[d]===t)return d;return-1}function TT(t,i,o,s,d){return sC(this.multi,[])}function PT(t,i,o,s,d){const u=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,g=$a(s,s[ct],this.providerFactory.index,d);f=g.slice(0,m),sC(u,f);for(let x=m;x<g.length;x++)f.push(g[x])}else f=[],sC(u,f);return f}function sC(t,i){for(let o=0;o<t.length;o++)i.push((0,t[o])());return i}function ix(t,i=[]){return o=>{o.providersResolver=(s,d)=>function OT(t,i,o){const s=rn();if(s.firstCreatePass){const d=Un(t);iC(o,s.data,s.blueprint,d,!0),iC(i,s.data,s.blueprint,d,!1)}}(s,d?d(t):t,i)}}function ox(t,i,o){const s=Hr()+t,d=$e();return d[s]===cn?Zs(d,s,o?i.call(o):i()):function Vf(t,i){return t[i]}(d,s)}function sx(t,i,o,s){return cx($e(),Hr(),t,i,o,s)}function ax(t,i,o,s,d){return dx($e(),Hr(),t,i,o,s,d)}function lx(t,i,o,s,d,u){return function ux(t,i,o,s,d,u,f,m){const g=i+o;return function Qg(t,i,o,s,d){const u=Sc(t,i,o,s);return Zi(t,i+2,d)||u}(t,g,d,u,f)?Zs(t,g+3,m?s.call(m,d,u,f):s(d,u,f)):Qf(t,g+3)}($e(),Hr(),t,i,o,s,d,u)}function Qf(t,i){const o=t[i];return o===cn?void 0:o}function cx(t,i,o,s,d,u){const f=i+o;return Zi(t,f,d)?Zs(t,f+1,u?s.call(u,d):s(d)):Qf(t,f+1)}function dx(t,i,o,s,d,u,f){const m=i+o;return Sc(t,m,d,u)?Zs(t,m+2,f?s.call(f,d,u):s(d,u)):Qf(t,m+2)}function mx(t,i){const o=rn();let s;const d=t+Rt;o.firstCreatePass?(s=function GT(t,i){if(i)for(let o=i.length-1;o>=0;o--){const s=i[o];if(t===s.name)return s}}(i,o.pipeRegistry),o.data[d]=s,s.onDestroy&&(o.destroyHooks??=[]).push(d,s.onDestroy)):s=o.data[d];const u=s.factory||(s.factory=Pr(s.type)),m=Ln(Zd);try{const g=zl(!1),x=u();return zl(g),function $c(t,i,o,s){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),i[o]=s}(o,$e(),d,x),x}finally{Ln(m)}}function px(t,i,o){const s=t+Rt,d=$e(),u=da(d,s);return Zf(d,s)?cx(d,Hr(),i,u.transform,o,u):u.transform(o)}function gx(t,i,o,s){const d=t+Rt,u=$e(),f=da(u,d);return Zf(u,d)?dx(u,Hr(),i,f.transform,o,s,f):f.transform(o,s)}function Zf(t,i){return t[ct].data[i].pure}function _x(t,i){return Wd(t,i)}class Ax{full;major;minor;patch;constructor(i){this.full=i;const o=i.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}class yP{ngModuleFactory;componentFactories;constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let CP=(()=>{class t{compileModuleSync(o){return new uy(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const s=this.compileModuleSync(o),u=Qo(lr(o).declarations).reduce((f,m)=>{const g=wn(m);return g&&f.push(new Lf(g)),f},[]);return new yP(s,u)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),DP=(()=>{class t{zone=Tt(yi);changeDetectionScheduler=Tt(Hs);applicationRef=Tt(Ao);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uC({ngZoneFactory:t,ignoreChangesOutsideZone:i,scheduleInRootZone:o}){return t??=()=>new yi({...hC(),scheduleInRootZone:o}),[{provide:yi,useFactory:t},{provide:ir,multi:!0,useFactory:()=>{const s=Tt(DP,{optional:!0});return()=>s.initialize()}},{provide:ir,multi:!0,useFactory:()=>{const s=Tt(MP);return()=>{s.initialize()}}},!0===i?{provide:cv,useValue:!0}:[],{provide:Lm,useValue:o??av}]}function hC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let MP=(()=>{class t{subscription=new Si.yU;initialized=!1;zone=Tt(yi);pendingTasks=Tt(za);initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{yi.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{yi.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),em=(()=>{class t{appRef=Tt(Ao);taskService=Tt(za);ngZone=Tt(yi);zonelessEnabled=Tt(nd);tracing=Tt(Cs,{optional:!0});disableScheduling=Tt(cv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Si.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Tt(Lm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Um||!this.zoneIsDefined)}notify(o){if(!this.zonelessEnabled&&5===o)return;let s=!1;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,s=!0;break;case 12:this.appRef.dirtyFlags|=16,s=!0;break;case 11:s=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(s))return;const d=this.useMicrotaskScheduler?uv:Wa;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>d(()=>this.tick())):this.ngZone.runOutsideAngular(()=>d(()=>this.tick()))}shouldScheduleTick(o){return!(this.disableScheduling&&!o||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(o),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const o=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(o)}}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const mC=new Et("",{providedIn:"root",factory:()=>Tt(mC,Gt.Optional|Gt.SkipSelf)||function SP(){return typeof $localize<"u"&&$localize.locale||c_}()}),IP=new Et("",{providedIn:"root",factory:()=>"USD"}),v_=new Et(""),FP=new Et("");function tm(t){return!t.moduleRef}let gu=null;let zx=(()=>class t{static __NG_ELEMENT_ID__=BP})();function BP(t){return function VP(t,i,o){if(mt(t)&&!o){const s=Nr(t.index,i);return new vc(s,s)}return 175&t.type?new vc(i[pi],i):null}(Tn(),$e(),!(16&~t))}class qx{constructor(){}supports(i){return Yg(i)}create(i){return new zP(i)}}const HP=(t,i)=>i;class zP{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(i){this._trackByFn=i||HP}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,s=this._removalsHead,d=0,u=null;for(;o||s;){const f=!s||o&&o.currentIndex<Qx(s,d,u)?o:s,m=Qx(f,d,u),g=f.currentIndex;if(f===s)d--,s=s._nextRemoved;else if(o=o._next,null==f.previousIndex)d++;else{u||(u=[]);const x=m-d,O=g-d;if(x!=O){for(let se=0;se<x;se++){const J=se<u.length?u[se]:u[se]=0,ye=J+se;O<=ye&&ye<x&&(u[se]=J+1)}u[f.previousIndex]=O-x}}m!==g&&i(f,m,g)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Yg(i))throw new Z(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,u,f,o=this._itHead,s=!1;if(Array.isArray(i)){this.length=i.length;for(let m=0;m<this.length;m++)u=i[m],f=this._trackByFn(m,u),null!==o&&Object.is(o.trackById,f)?(s&&(o=this._verifyReinsertion(o,u,f,m)),Object.is(o.item,u)||this._addIdentityChange(o,u)):(o=this._mismatch(o,u,f,m),s=!0),o=o._next}else d=0,function $S(t,i){if(Array.isArray(t))for(let o=0;o<t.length;o++)i(t[o]);else{const o=t[Symbol.iterator]();let s;for(;!(s=o.next()).done;)i(s.value)}}(i,m=>{f=this._trackByFn(d,m),null!==o&&Object.is(o.trackById,f)?(s&&(o=this._verifyReinsertion(o,m,f,d)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,f,d),s=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,s,d){let u;return null===i?u=this._itTail:(u=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,u,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(s,d))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,u,d)):i=this._addAfter(new WP(o,s),u,d),i}_verifyReinsertion(i,o,s,d){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==u?i=this._reinsertAfter(u,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,u=i._nextRemoved;return null===d?this._removalsHead=u:d._nextRemoved=u,null===u?this._removalsTail=d:u._prevRemoved=d,this._insertAfter(i,o,s),this._addToMoves(i,s),i}_moveAfter(i,o,s){return this._unlink(i),this._insertAfter(i,o,s),this._addToMoves(i,s),i}_addAfter(i,o,s){return this._insertAfter(i,o,s),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,s){const d=null===o?this._itHead:o._next;return i._next=d,i._prev=o,null===d?this._itTail=i:d._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Yx),this._linkedRecords.put(i),i.currentIndex=s,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,s=i._next;return null===o?this._itHead=s:o._next=s,null===s?this._itTail=o:s._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yx),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class WP{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(i,o){this.item=i,this.trackById=o}}class XP{_head=null;_tail=null;add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===o||o<=s.currentIndex)&&Object.is(s.trackById,i))return s;return null}remove(i){const o=i._prevDup,s=i._nextDup;return null===o?this._head=s:o._nextDup=s,null===s?this._tail=o:s._prevDup=o,null===this._head}}class Yx{map=new Map;put(i){const o=i.trackById;let s=this.map.get(o);s||(s=new XP,this.map.set(o,s)),s.add(i)}get(i,o){const d=this.map.get(i);return d?d.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qx(t,i,o){const s=t.previousIndex;if(null===s)return s;let d=0;return o&&s<o.length&&(d=o[s]),s+i+d}class Zx{constructor(){}supports(i){return i instanceof Map||_y(i)}create(){return new KP}}class KP{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||_y(i)))throw new Z(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(s,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,s),this._appendAfter=o,o=o._next;else{const u=this._getOrCreateRecordForKey(d,s);o=this._insertBeforeOrAppend(o,u)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let s=o;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const s=i._prev;return o._next=i,o._prev=s,i._prev=o,s&&(s._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,o);const u=d._prev,f=d._next;return u&&(u._next=f),f&&(f._prev=u),d._next=null,d._prev=null,d}const s=new qP(i);return this._records.set(i,s),s.currentValue=o,this._addToAdditions(s),s}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(s=>o(i[s],s))}}class qP{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(i){this.key=i}}function Jx(){return new vC([new qx])}let vC=(()=>{class t{factories;static \u0275prov=ve({token:t,providedIn:"root",factory:Jx});constructor(o){this.factories=o}static create(o,s){if(null!=s){const d=s.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:s=>t.create(o,s||Jx()),deps:[[t,new pr,new os]]}}find(o){const s=this.factories.find(d=>d.supports(o));if(null!=s)return s;throw new Z(901,!1)}}return t})();function eM(){return new bC([new Zx])}let bC=(()=>{class t{static \u0275prov=ve({token:t,providedIn:"root",factory:eM});factories;constructor(o){this.factories=o}static create(o,s){if(s){const d=s.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:s=>t.create(o,s||eM()),deps:[[t,new pr,new os]]}}find(o){const s=this.factories.find(d=>d.supports(o));if(s)return s;throw new Z(901,!1)}}return t})(),ZP=(()=>{class t{constructor(o){}static \u0275fac=function(s){return new(s||t)(vi(Ao))};static \u0275mod=fy({type:t});static \u0275inj=wt({})}return t})();function JP(t){const{rootComponent:i,appProviders:o,platformProviders:s,platformRef:d}=t;Qn(8);try{const u=d?.injector??function LP(t=[]){if(gu)return gu;const i=function $x(t=[],i){return hr.create({name:i,providers:[{provide:Eo,useValue:"platform"},{provide:v_,useValue:new Set([()=>gu=null])},...t]})}(t);return gu=i,function sw(){!function hn(t){Ot=t}(()=>{throw new Z(600,!1)})}(),function Gx(t){const i=t.get(Zl,null);Do(t,()=>{i?.forEach(o=>o())})}(i),i}(s),f=[uC({}),{provide:Hs,useExisting:em},...o||[]];return function Vx(t){const i=tm(t)?t.r3Injector:t.moduleRef.injector,o=i.get(yi);return o.run(()=>{tm(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const s=i.get(bs,null);let d;if(o.runOutsideAngular(()=>{d=o.onError.subscribe({next:u=>{s.handleError(u)}})}),tm(t)){const u=()=>i.destroy(),f=t.platformInjector.get(v_);f.add(u),i.onDestroy(()=>{d.unsubscribe(),f.delete(u)})}else{const u=()=>t.moduleRef.destroy(),f=t.platformInjector.get(v_);f.add(u),t.moduleRef.onDestroy(()=>{t_(t.allPlatformModules,t.moduleRef),d.unsubscribe(),f.delete(u)})}return function AP(t,i,o){try{const s=o();return My(s)?s.catch(d=>{throw i.runOutsideAngular(()=>t.handleError(d)),d}):s}catch(s){throw i.runOutsideAngular(()=>t.handleError(s)),s}}(s,o,()=>{const u=i.get(ow);return u.runInitializers(),u.donePromise.then(()=>{if(function SO(t){"string"==typeof t&&(qw=t.toLowerCase().replace(/_/g,"-"))}(i.get(mC,c_)||c_),!i.get(FP,!0))return tm(t)?i.get(Ao):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(tm(t)){const g=i.get(Ao);return void 0!==t.rootComponent&&g.bootstrap(t.rootComponent),g}return function RP(t,i){const o=t.injector.get(Ao);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>o.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new Z(-403,!1);t.instance.ngDoBootstrap(o)}i.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new S1({providers:f,parent:u,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:u,rootComponent:i})}catch(u){return Promise.reject(u)}finally{Qn(9)}}function CF(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function EF(t,i=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?i:Number(t)}function Is(t){return function qt(t){const i=q(null);try{return t()}finally{q(i)}}(t)}function im(t,i){return it(t,i?.equal)}class SF{[R];constructor(i){this[R]=i}destroy(){this[R].destroy()}}function CC(t,i){!i?.injector&&Vs();const o=i?.injector??Tt(hr);let d,s=!0!==i?.manualCleanup?o.get(_s):null;const u=o.get(md,null,{optional:!0}),f=o.get(Hs);return null===u||i?.forceRoot?d=function TF(t,i,o){const s=Object.create(IF);return s.fn=t,s.scheduler=i,s.notifier=o,s.zone=typeof Zone<"u"?Zone.current:null,s.scheduler.schedule(s),s.notifier.notify(12),s}(t,o.get(nw),f):(d=function OF(t,i,o){const s=Object.create(kF);return s.view=t,s.zone=typeof Zone<"u"?Zone.current:null,s.notifier=i,s.fn=o,t[zo]??=new Set,t[zo].add(s),s.consumerMarkedDirty(s),s}(u.view,f,t),s instanceof lv&&s._lView===u.view&&(s=null)),d.injector=o,null!==s&&(d.onDestroyFn=s.onDestroy(()=>d.destroy())),new SF(d)}const mM={...me,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:ha,run(){if(this.dirty=!1,this.hasRun&&!tt(this))return;this.hasRun=!0;const t=s=>(this.cleanupFns??=[]).push(s),i=We(this),o=Au(!1);try{this.maybeCleanup(),this.fn(t)}finally{Au(o),He(this,i)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},IF={...mM,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){_e(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},kF={...mM,consumerMarkedDirty(){this.view[Kt]|=8192,fs(this.view),this.notifier.notify(13)},destroy(){_e(this),this.onDestroyFn(),this.maybeCleanup(),this.view[zo]?.delete(this)}};function GF(t,i){const o=wn(t),s=i.elementInjector||Pa();return new Lf(o).create(s,i.projectableNodes,i.hostElement,i.environmentInjector)}function HF(t){const i=wn(t);if(!i)return null;const o=new Lf(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},1397:(ht,xe,D)=>{D.d(xe,{Z:()=>ce});var v=D(6354),e=D(8750),S=D(9974),N=D(5225),ne=D(4360),q=D(8071);function ce(te,le,me=1/0){return(0,q.T)(le)?ce((ke,Me)=>(0,v.T)((Ie,Ne)=>le(ke,Ie,Me,Ne))((0,e.Tg)(te(ke,Me))),me):("number"==typeof le&&(me=le),(0,S.N)((ke,Me)=>function R(te,le,me,ke,Me,Ie,Ne,ze){const Le=[];let rt=0,We=0,He=!1;const tt=()=>{He&&!Le.length&&!rt&&le.complete()},_e=be=>rt<ke?Ce(be):Le.push(be),Ce=be=>{Ie&&le.next(be),rt++;let we=!1;(0,e.Tg)(me(be,We++)).subscribe((0,ne._)(le,Ve=>{Me?.(Ve),Ie?_e(Ve):le.next(Ve)},()=>{we=!0},void 0,()=>{if(we)try{for(rt--;Le.length&&rt<ke;){const Ve=Le.shift();Ne?(0,N.N)(le,Ne,()=>Ce(Ve)):Ce(Ve)}tt()}catch(Ve){le.error(Ve)}}))};return te.subscribe((0,ne._)(le,_e,()=>{He=!0,tt()})),()=>{ze?.()}}(ke,Me,te,me)))}},1413:(ht,xe,D)=>{D.d(xe,{B:()=>q});var v=D(1985),e=D(8359);const N=(0,D(1853).L)(te=>function(){te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=D(7908),R=D(9786);let q=(()=>{class te extends v.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const ke=new ce(this,this);return ke.operator=me,ke}_throwIfClosed(){if(this.closed)throw new N}next(me){(0,R.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(me)}})}error(me){(0,R.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:ke}=this;for(;ke.length;)ke.shift().error(me)}})}complete(){(0,R.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:ke,isStopped:Me,observers:Ie}=this;return ke||Me?e.Kn:(this.currentObservers=null,Ie.push(me),new e.yU(()=>{this.currentObservers=null,(0,ne.o)(Ie,me)}))}_checkFinalizedStatuses(me){const{hasError:ke,thrownError:Me,isStopped:Ie}=this;ke?me.error(Me):Ie&&me.complete()}asObservable(){const me=new v.c;return me.source=this,me}}return te.create=(le,me)=>new ce(le,me),te})();class ce extends q{constructor(le,me){super(),this.destination=le,this.source=me}next(le){var me,ke;null===(ke=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===ke||ke.call(me,le)}error(le){var me,ke;null===(ke=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===ke||ke.call(me,le)}complete(){var le,me;null===(me=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===me||me.call(le)}_subscribe(le){var me,ke;return null!==(ke=null===(me=this.source)||void 0===me?void 0:me.subscribe(le))&&void 0!==ke?ke:e.Kn}}},1584:(ht,xe,D)=>{D.d(xe,{O:()=>ne});var v=D(1985),e=D(3236),S=D(9470);function ne(R=0,q,ce=e.b){let te=-1;return null!=q&&((0,S.m)(q)?ce=q:te=q),new v.c(le=>{let me=function N(R){return R instanceof Date&&!isNaN(R)}(R)?+R-ce.now():R;me<0&&(me=0);let ke=0;return ce.schedule(function(){le.closed||(le.next(ke++),0<=te?this.schedule(void 0,te):le.complete())},me)})}},1594:(ht,xe,D)=>{D.d(xe,{$:()=>q});var v=D(9350),e=D(5964),S=D(6697),N=D(9901),ne=D(3774),R=D(3669);function q(ce,te){const le=arguments.length>=2;return me=>me.pipe(ce?(0,e.p)((ke,Me)=>ce(ke,Me,me)):R.D,(0,S.s)(1),le?(0,N.U)(te):(0,ne.v)(()=>new v.G))}},1635:(ht,xe,D)=>{function ke(Se,Pe,je,Be){return new(je||(je=Promise))(function(et,Dt){function Pt(Jt){try{xt(Be.next(Jt))}catch(St){Dt(St)}}function In(Jt){try{xt(Be.throw(Jt))}catch(St){Dt(St)}}function xt(Jt){Jt.done?et(Jt.value):function Fe(et){return et instanceof je?et:new je(function(Dt){Dt(et)})}(Jt.value).then(Pt,In)}xt((Be=Be.apply(Se,Pe||[])).next())})}function tt(Se){return this instanceof tt?(this.v=Se,this):new tt(Se)}function _e(Se,Pe,je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Be=je.apply(Se,Pe||[]),et=[];return Fe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Pt("next"),Pt("throw"),Pt("return",function Dt(qt){return function(bn){return Promise.resolve(bn).then(qt,St)}}),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Pt(qt,bn){Be[qt]&&(Fe[qt]=function(tn){return new Promise(function(fn,Pn){et.push([qt,tn,fn,Pn])>1||In(qt,tn)})},bn&&(Fe[qt]=bn(Fe[qt])))}function In(qt,bn){try{!function xt(qt){qt.value instanceof tt?Promise.resolve(qt.value.v).then(Jt,St):Vn(et[0][2],qt)}(Be[qt](bn))}catch(tn){Vn(et[0][3],tn)}}function Jt(qt){In("next",qt)}function St(qt){In("throw",qt)}function Vn(qt,bn){qt(bn),et.shift(),et.length&&In(et[0][0],et[0][1])}}function be(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Pe=Se[Symbol.asyncIterator];return Pe?Pe.call(Se):(Se=function ze(Se){var Pe="function"==typeof Symbol&&Symbol.iterator,je=Pe&&Se[Pe],Be=0;if(je)return je.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&Be>=Se.length&&(Se=void 0),{value:Se&&Se[Be++],done:!Se}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),je={},Be("next"),Be("throw"),Be("return"),je[Symbol.asyncIterator]=function(){return this},je);function Be(et){je[et]=Se[et]&&function(Dt){return new Promise(function(Pt,In){!function Fe(et,Dt,Pt,In){Promise.resolve(In).then(function(xt){et({value:xt,done:Pt})},Dt)}(Pt,In,(Dt=Se[et](Dt)).done,Dt.value)})}}}D.d(xe,{AQ:()=>_e,N3:()=>tt,sH:()=>ke,xN:()=>be}),"function"==typeof SuppressedError&&SuppressedError},1853:(ht,xe,D)=>{function v(e){const N=e(ne=>{Error.call(ne),ne.stack=(new Error).stack});return N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N}D.d(xe,{L:()=>v})},1985:(ht,xe,D)=>{D.d(xe,{c:()=>ce});var v=D(7707),e=D(8359),S=D(3494),N=D(1203),ne=D(1026),R=D(8071),q=D(9786);let ce=(()=>{class ke{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Ne=new ke;return Ne.source=this,Ne.operator=Ie,Ne}subscribe(Ie,Ne,ze){const Le=function me(ke){return ke&&ke instanceof v.vU||function le(ke){return ke&&(0,R.T)(ke.next)&&(0,R.T)(ke.error)&&(0,R.T)(ke.complete)}(ke)&&(0,e.Uv)(ke)}(Ie)?Ie:new v.Ms(Ie,Ne,ze);return(0,q.Y)(()=>{const{operator:rt,source:We}=this;Le.add(rt?rt.call(Le,We):We?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Ne){Ie.error(Ne)}}forEach(Ie,Ne){return new(Ne=te(Ne))((ze,Le)=>{const rt=new v.Ms({next:We=>{try{Ie(We)}catch(He){Le(He),rt.unsubscribe()}},error:Le,complete:ze});this.subscribe(rt)})}_subscribe(Ie){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(Ie)}[S.s](){return this}pipe(...Ie){return(0,N.m)(Ie)(this)}toPromise(Ie){return new(Ie=te(Ie))((Ne,ze)=>{let Le;this.subscribe(rt=>Le=rt,rt=>ze(rt),()=>Ne(Le))})}}return ke.create=Me=>new ke(Me),ke})();function te(ke){var Me;return null!==(Me=ke??ne.$.Promise)&&void 0!==Me?Me:Promise}},2210:(ht,xe,D)=>{D.d(xe,{J:()=>v});const v={Yellow:"#FFD166",Red:"#FF6542",Green:"#81E979",White:"#F4FAFF",Blue:"#4392F1",Pink:"#FF99B8",Purple:"#864EB8"}},2318:(ht,xe,D)=>{D.d(xe,{w5:()=>R});var v=D(1360);let S=(()=>{class q{create(te){return typeof MutationObserver>"u"?null:new MutationObserver(te)}static{this.\u0275fac=function(le){return new(le||q)}}static{this.\u0275prov=v.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),R=(()=>{class q{static{this.\u0275fac=function(le){return new(le||q)}}static{this.\u0275mod=v.$C({type:q})}static{this.\u0275inj=v.G2t({providers:[S]})}}return q})()},2610:(ht,xe,D)=>{var v=D(7643),e=D(1360),S=D(9417),N=D(5351),ne=D(6969),R=D(2881),q=D(6600),ce=D(8203),te=D(4085),le=D(6860),me=D(9361),ke=D(8359),Me=D(1413),Ie=D(7786),Ne=D(6977),ze=D(1985),Le=D(5964),rt=D(6129);class We extends Me.B{constructor(c=1/0,n=1/0,r=rt.U){super(),this._bufferSize=c,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,c),this._windowTime=Math.max(1,n)}next(c){const{isStopped:n,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:h,_windowTime:p}=this;n||(r.push(c),!a&&r.push(h.now()+p)),this._trimBuffer(),super.next(c)}_subscribe(c){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(c),{_infiniteTimeWindow:r,_buffer:a}=this,h=a.slice();for(let p=0;p<h.length&&!c.closed;p+=r?1:2)c.next(h[p]);return this._checkFinalizedStatuses(c),n}_trimBuffer(){const{_bufferSize:c,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:a}=this,h=(a?1:2)*c;if(c<1/0&&h<r.length&&r.splice(0,r.length-h),!a){const p=n.now();let _=0;for(let M=1;M<r.length&&r[M]<=p;M+=2)_=M;_&&r.splice(0,_+1)}}}var He=D(8750),tt=D(7707),_e=D(9974);function Ce(l={}){const{connector:c=()=>new Me.B,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=l;return h=>{let p,_,M,F=0,Y=!1,ge=!1;const Je=()=>{_?.unsubscribe(),_=void 0},at=()=>{Je(),p=M=void 0,Y=ge=!1},dt=()=>{const bt=p;at(),bt?.unsubscribe()};return(0,_e.N)((bt,gt)=>{F++,!ge&&!Y&&Je();const on=M=M??c();gt.add(()=>{F--,0===F&&!ge&&!Y&&(_=be(dt,a))}),on.subscribe(gt),!p&&F>0&&(p=new tt.Ms({next:yn=>on.next(yn),error:yn=>{ge=!0,Je(),_=be(at,n,yn),on.error(yn)},complete:()=>{Y=!0,Je(),_=be(at,r),on.complete()}}),(0,He.Tg)(bt).subscribe(p))})(h)}}function be(l,c,...n){if(!0===c)return void l();if(!1===c)return;const r=new tt.Ms({next:()=>{r.unsubscribe(),l()}});return(0,He.Tg)(c(...n)).subscribe(r)}class pt{constructor(c){this._box=c,this._destroyed=new Me.B,this._resizeSubject=new Me.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(c){return this._elementObservables.has(c)||this._elementObservables.set(c,new ze.c(n=>{const r=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(c,{box:this._box}),()=>{this._resizeObserver?.unobserve(c),r.unsubscribe(),this._elementObservables.delete(c)}}).pipe((0,Le.p)(n=>n.some(r=>r.target===c)),function we(l,c,n){let r,a=!1;return l&&"object"==typeof l?({bufferSize:r=1/0,windowTime:c=1/0,refCount:a=!1,scheduler:n}=l):r=l??1/0,Ce({connector:()=>new We(r,c,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}({bufferSize:1,refCount:!0}),(0,Ne.Q)(this._destroyed))),this._elementObservables.get(c)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let jt=(()=>{class l{constructor(){this._observers=new Map,this._ngZone=(0,e.WQX)(e.SKi)}ngOnDestroy(){for(const[,n]of this._observers)n.destroy();this._observers.clear()}observe(n,r){const a=r?.box||"content-box";return this._observers.has(a)||this._observers.set(a,new pt(a)),this._observers.get(a).observe(n)}static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var it=D(969),At=D(2318);const dn=["notch"],yt=["matFormFieldNotchedOutline",""],Lt=["*"],lt=["textField"],Ot=["iconPrefixContainer"],un=["textPrefixContainer"],hn=["iconSuffixContainer"],Se=["textSuffixContainer"],Pe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],je=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Be(l,c){1&l&&e.nrm(0,"span",21)}function Fe(l,c){if(1&l&&(e.j41(0,"label",20),e.SdG(1,1),e.DNE(2,Be,1,0,"span",21),e.k0s()),2&l){const n=e.XpG(2);e.Y8G("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),e.BMQ("for",n._control.disableAutomaticLabeling?null:n._control.id),e.R7$(2),e.vxM(!n.hideRequiredMarker&&n._control.required?2:-1)}}function et(l,c){if(1&l&&e.DNE(0,Fe,3,5,"label",20),2&l){const n=e.XpG();e.vxM(n._hasFloatingLabel()?0:-1)}}function Dt(l,c){1&l&&e.nrm(0,"div",7)}function Pt(l,c){}function In(l,c){if(1&l&&e.DNE(0,Pt,0,0,"ng-template",13),2&l){e.XpG(2);const n=e.sdS(1);e.Y8G("ngTemplateOutlet",n)}}function xt(l,c){if(1&l&&(e.j41(0,"div",9),e.DNE(1,In,1,1,null,13),e.k0s()),2&l){const n=e.XpG();e.Y8G("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),e.R7$(),e.vxM(n._forceDisplayInfixLabel()?-1:1)}}function Jt(l,c){1&l&&(e.j41(0,"div",10,2),e.SdG(2,2),e.k0s())}function St(l,c){1&l&&(e.j41(0,"div",11,3),e.SdG(2,3),e.k0s())}function Vn(l,c){}function qt(l,c){if(1&l&&e.DNE(0,Vn,0,0,"ng-template",13),2&l){e.XpG();const n=e.sdS(1);e.Y8G("ngTemplateOutlet",n)}}function bn(l,c){1&l&&(e.j41(0,"div",14,4),e.SdG(2,4),e.k0s())}function tn(l,c){1&l&&(e.j41(0,"div",15,5),e.SdG(2,5),e.k0s())}function fn(l,c){1&l&&e.nrm(0,"div",16)}function Pn(l,c){if(1&l&&(e.j41(0,"div",18),e.SdG(1,6),e.k0s()),2&l){const n=e.XpG();e.Y8G("@transitionMessages",n._subscriptAnimationState)}}function xi(l,c){if(1&l&&(e.j41(0,"mat-hint",22),e.EFF(1),e.k0s()),2&l){const n=e.XpG(2);e.Y8G("id",n._hintLabelId),e.R7$(),e.JRh(n.hintLabel)}}function li(l,c){if(1&l&&(e.j41(0,"div",19),e.DNE(1,xi,2,2,"mat-hint",22),e.SdG(2,7),e.nrm(3,"div",23),e.SdG(4,8),e.k0s()),2&l){const n=e.XpG();e.Y8G("@transitionMessages",n._subscriptAnimationState),e.R7$(),e.vxM(n.hintLabel?1:-1)}}let Mi=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275dir=e.FsC({type:l,selectors:[["mat-label"]]})}}return l})(),ti=0;const Si=new e.nKC("MatError");let Xe=(()=>{class l{constructor(n,r){this.id="mat-mdc-error-"+ti++,n||r.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(r){return new(r||l)(e.kS0("aria-live"),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:l,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,a){2&r&&e.Mr5("id",a.id)},inputs:{id:"id"},features:[e.Jv_([{provide:Si,useExisting:l}])]})}}return l})(),z=0,re=(()=>{class l{constructor(){this.align="start",this.id="mat-mdc-hint-"+z++}static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275dir=e.FsC({type:l,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,a){2&r&&(e.Mr5("id",a.id),e.BMQ("align",null),e.AVh("mat-mdc-form-field-hint-end","end"===a.align))},inputs:{align:"align",id:"id"}})}}return l})();const Z=new e.nKC("MatPrefix"),de=new e.nKC("MatSuffix"),X=new e.nKC("FloatingLabelParent");let ae=(()=>{class l{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.WQX)(jt),this._ngZone=(0,e.WQX)(e.SKi),this._parent=(0,e.WQX)(X),this._resizeSubscription=new ke.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function $(l){if(null!==l.offsetParent)return l.scrollWidth;const n=l.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);const r=n.scrollWidth;return n.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:l,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,a){2&r&&e.AVh("mdc-floating-label--float-above",a.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}}return l})();const he="mdc-line-ripple--active",Re="mdc-line-ripple--deactivating";let qe=(()=>{class l{constructor(n,r){this._elementRef=n,this._handleTransitionEnd=a=>{const h=this._elementRef.nativeElement.classList,p=h.contains(Re);"opacity"===a.propertyName&&p&&h.remove(he,Re)},r.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const n=this._elementRef.nativeElement.classList;n.remove(Re),n.add(he)}deactivate(){this._elementRef.nativeElement.classList.add(Re)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.aKT),e.rXU(e.SKi))}}static{this.\u0275dir=e.FsC({type:l,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}}return l})(),vt=(()=>{class l{constructor(n,r){this._elementRef=n,this._ngZone=r,this.open=!1}ngAfterViewInit(){const n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){this._notch.nativeElement.style.width=this.open&&n?`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.aKT),e.rXU(e.SKi))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,a){if(1&r&&e.GBs(dn,5),2&r){let h;e.mGM(h=e.lsd())&&(a._notch=h.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,a){2&r&&e.AVh("mdc-notched-outline--notched",a.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:yt,ngContentSelectors:Lt,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,a){1&r&&(e.NAR(),e.nrm(0,"div",1),e.j41(1,"div",2,0),e.SdG(3),e.k0s(),e.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}}return l})();const Wt={transitionMessages:(0,it.hZ)("transitionMessages",[(0,it.wk)("enter",(0,it.iF)({opacity:1,transform:"translateY(0%)"})),(0,it.kY)("void => enter",[(0,it.iF)({opacity:0,transform:"translateY(-5px)"}),(0,it.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ht=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275dir=e.FsC({type:l,standalone:!1})}}return l})();const fr=new e.nKC("MatFormField"),Yr=new e.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let sn=0,Ye=(()=>{class l{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=(0,te.he)(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){const r=this._appearance;this._appearance=n||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,r,a,h,p,_,M,F){this._elementRef=n,this._changeDetectorRef=r,this._dir=h,this._platform=p,this._defaults=_,this._animationMode=M,this._labelChild=(0,e.sbv)(Mi),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+sn++,this._hintLabelId="mat-mdc-hint-"+sn++,this._subscriptAnimationState="",this._destroyed=new Me.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=(0,e.WQX)(e.zZn),this.getLabelId=(0,e.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,e.EWP)(()=>!!this._labelChild()),_&&(_.appearance&&(this.appearance=_.appearance),this._hideRequiredMarker=!!_?.hideRequiredMarker,_.color&&(this.color=_.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(n){const r=this._control,a="mat-mdc-form-field-type-";n&&this._elementRef.nativeElement.classList.remove(a+n.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(a+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe((0,Ne.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ie.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,e.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,Ne.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(n){const r=this._control?this._control.ngControl:null;return r&&r[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(h=>"start"===h.align):null,a=this._hintChildren?this._hintChildren.find(h=>"end"===h.align):null;r?n.push(r.id):this._hintLabel&&n.push(this._hintLabelId),a&&n.push(a.id)}else this._errorChildren&&n.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const n=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(n.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const r=this._iconPrefixContainer?.nativeElement,a=this._textPrefixContainer?.nativeElement,h=this._iconSuffixContainer?.nativeElement,p=this._textSuffixContainer?.nativeElement,_=r?.getBoundingClientRect().width??0,M=a?.getBoundingClientRect().width??0,F=h?.getBoundingClientRect().width??0,Y=p?.getBoundingClientRect().width??0;n.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${_+M}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`,this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${_+M+F+Y}px)`)}_isAttachedToDom(){const n=this._elementRef.nativeElement;if(n.getRootNode){const r=n.getRootNode();return r&&r!==n}return document.documentElement.contains(n)}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(ce.dS),e.rXU(le.OD),e.rXU(Yr,8),e.rXU(e.bc$,8),e.rXU(me.q))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["mat-form-field"]],contentQueries:function(r,a,h){if(1&r&&(e.C6U(h,a._labelChild,Mi,5),e.wni(h,Ht,5),e.wni(h,Z,5),e.wni(h,de,5),e.wni(h,Si,5),e.wni(h,re,5)),2&r){let p;e.NyB(),e.mGM(p=e.lsd())&&(a._formFieldControl=p.first),e.mGM(p=e.lsd())&&(a._prefixChildren=p),e.mGM(p=e.lsd())&&(a._suffixChildren=p),e.mGM(p=e.lsd())&&(a._errorChildren=p),e.mGM(p=e.lsd())&&(a._hintChildren=p)}},viewQuery:function(r,a){if(1&r&&(e.GBs(lt,5),e.GBs(Ot,5),e.GBs(un,5),e.GBs(hn,5),e.GBs(Se,5),e.GBs(ae,5),e.GBs(vt,5),e.GBs(qe,5)),2&r){let h;e.mGM(h=e.lsd())&&(a._textField=h.first),e.mGM(h=e.lsd())&&(a._iconPrefixContainer=h.first),e.mGM(h=e.lsd())&&(a._textPrefixContainer=h.first),e.mGM(h=e.lsd())&&(a._iconSuffixContainer=h.first),e.mGM(h=e.lsd())&&(a._textSuffixContainer=h.first),e.mGM(h=e.lsd())&&(a._floatingLabel=h.first),e.mGM(h=e.lsd())&&(a._notchedOutline=h.first),e.mGM(h=e.lsd())&&(a._lineRipple=h.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,a){2&r&&e.AVh("mat-mdc-form-field-label-always-float",a._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",a._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",a._hasIconSuffix)("mat-form-field-invalid",a._control.errorState)("mat-form-field-disabled",a._control.disabled)("mat-form-field-autofilled",a._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===a._animationMode)("mat-form-field-appearance-fill","fill"==a.appearance)("mat-form-field-appearance-outline","outline"==a.appearance)("mat-form-field-hide-placeholder",a._hasFloatingLabel()&&!a._shouldLabelFloat())("mat-focused",a._control.focused)("mat-primary","accent"!==a.color&&"warn"!==a.color)("mat-accent","accent"===a.color)("mat-warn","warn"===a.color)("ng-untouched",a._shouldForward("untouched"))("ng-touched",a._shouldForward("touched"))("ng-pristine",a._shouldForward("pristine"))("ng-dirty",a._shouldForward("dirty"))("ng-valid",a._shouldForward("valid"))("ng-invalid",a._shouldForward("invalid"))("ng-pending",a._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[e.Jv_([{provide:fr,useExisting:l},{provide:X,useExisting:l}])],ngContentSelectors:je,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,a){if(1&r){const h=e.RV6();e.NAR(Pe),e.DNE(0,et,1,1,"ng-template",null,0,e.C5r),e.j41(2,"div",6,1),e.bIt("click",function(_){return e.eBV(h),e.Njj(a._control.onContainerClick(_))}),e.DNE(4,Dt,1,0,"div",7),e.j41(5,"div",8),e.DNE(6,xt,2,2,"div",9)(7,Jt,3,0,"div",10)(8,St,3,0,"div",11),e.j41(9,"div",12),e.DNE(10,qt,1,1,null,13),e.SdG(11),e.k0s(),e.DNE(12,bn,3,0,"div",14)(13,tn,3,0,"div",15),e.k0s(),e.DNE(14,fn,1,0,"div",16),e.k0s(),e.j41(15,"div",17),e.DNE(16,Pn,2,1,"div",18)(17,li,5,2,"div",19),e.k0s()}if(2&r){let h;e.R7$(2),e.AVh("mdc-text-field--filled",!a._hasOutline())("mdc-text-field--outlined",a._hasOutline())("mdc-text-field--no-label",!a._hasFloatingLabel())("mdc-text-field--disabled",a._control.disabled)("mdc-text-field--invalid",a._control.errorState),e.R7$(2),e.vxM(a._hasOutline()||a._control.disabled?-1:4),e.R7$(2),e.vxM(a._hasOutline()?6:-1),e.R7$(),e.vxM(a._hasIconPrefix?7:-1),e.R7$(),e.vxM(a._hasTextPrefix?8:-1),e.R7$(2),e.vxM(!a._hasOutline()||a._forceDisplayInfixLabel()?10:-1),e.R7$(2),e.vxM(a._hasTextSuffix?12:-1),e.R7$(),e.vxM(a._hasIconSuffix?13:-1),e.R7$(),e.vxM(a._hasOutline()?-1:14),e.R7$(),e.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===a.subscriptSizing),e.R7$(),e.vxM("error"===(h=a._getDisplayedMessages())?16:"hint"===h?17:-1)}},dependencies:[ae,vt,R.T3,qe,re],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Wt.transitionMessages]},changeDetection:0})}}return l})(),Oe=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[q.yE,R.MD,At.w5,q.yE]})}}return l})();var ee=D(4155),Te=D(8464),zt=(D(4402),D(7673));class ii{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(c=!1,n,r=!0,a){this._multiple=c,this._emitChanges=r,this.compareWith=a,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Me.B,n&&n.length&&(c?n.forEach(h=>this._markSelected(h)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...c){this._verifyValueAssignment(c),c.forEach(r=>this._markSelected(r));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...c){this._verifyValueAssignment(c),c.forEach(r=>this._unmarkSelected(r));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...c){this._verifyValueAssignment(c);const n=this.selected,r=new Set(c);c.forEach(h=>this._markSelected(h)),n.filter(h=>!r.has(this._getConcreteValue(h,r))).forEach(h=>this._unmarkSelected(h));const a=this._hasQueuedChanges();return this._emitChangeEvent(),a}toggle(c){return this.isSelected(c)?this.deselect(c):this.select(c)}clear(c=!0){this._unmarkAll();const n=this._hasQueuedChanges();return c&&this._emitChangeEvent(),n}isSelected(c){return this._selection.has(this._getConcreteValue(c))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(c){this._multiple&&this.selected&&this._selected.sort(c)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(c){c=this._getConcreteValue(c),this.isSelected(c)||(this._multiple||this._unmarkAll(),this.isSelected(c)||this._selection.add(c),this._emitChanges&&this._selectedToEmit.push(c))}_unmarkSelected(c){c=this._getConcreteValue(c),this.isSelected(c)&&(this._selection.delete(c),this._emitChanges&&this._deselectedToEmit.push(c))}_unmarkAll(){this.isEmpty()||this._selection.forEach(c=>this._unmarkSelected(c))}_verifyValueAssignment(c){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(c,n){if(this.compareWith){n=n??this._selection;for(let r of n)if(this.compareWith(c,r))return r;return c}return c}}var K=D(7336),ie=D(9030),pe=D(9172),L=D(5558),U=D(6354),j=D(3294),W=D(6697);const ve=["trigger"],Ze=["panel"],wt=[[["mat-select-trigger"]],"*"],en=["mat-select-trigger","*"];function kn(l,c){if(1&l&&(e.j41(0,"span",4),e.EFF(1),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.JRh(n.placeholder)}}function Cn(l,c){1&l&&e.SdG(0)}function Xt(l,c){if(1&l&&(e.j41(0,"span",11),e.EFF(1),e.k0s()),2&l){const n=e.XpG(2);e.R7$(),e.JRh(n.triggerValue)}}function zn(l,c){if(1&l&&(e.j41(0,"span",5),e.DNE(1,Cn,1,0)(2,Xt,2,1,"span",11),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.vxM(n.customTrigger?1:2)}}function On(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",12,1),e.bIt("@transformPanel.done",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h._panelDoneAnimatingStream.next(a.toState))})("keydown",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h._handleKeydown(a))}),e.SdG(2,1),e.k0s()}if(2&l){const n=e.XpG();e.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme(),""),e.Y8G("ngClass",n.panelClass)("@transformPanel","showing"),e.BMQ("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}const En={transformPanelWrap:(0,it.hZ)("transformPanelWrap",[(0,it.kY)("* => void",(0,it.P)("@transformPanel",[(0,it.MA)()],{optional:!0}))]),transformPanel:(0,it.hZ)("transformPanel",[(0,it.wk)("void",(0,it.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,it.kY)("void => showing",(0,it.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,it.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,it.kY)("* => void",(0,it.i0)("100ms linear",(0,it.iF)({opacity:0})))])};let Ei=0;const mr=new e.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const l=(0,e.WQX)(ne.hJ);return()=>l.scrollStrategies.reposition()}}),tr=new e.nKC("MAT_SELECT_CONFIG"),Or={provide:mr,deps:[ne.hJ],useFactory:function Zr(l){return()=>l.scrollStrategies.reposition()}},Tr=new e.nKC("MatSelectTrigger");class ks{constructor(c,n){this.source=c,this.value=n}}let mo=(()=>{class l{_scrollOptionIntoView(n){const r=this.options.toArray()[n];if(r){const a=this.panel.nativeElement,h=(0,q.jb)(n,this.options,this.optionGroups),p=r._getHostElement();a.scrollTop=0===n&&1===h?0:(0,q.TL)(p.offsetTop,p.offsetHeight,a.scrollTop,a.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(n){return new ks(this,n)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(S.k0.required)??!1}set required(n){this._required=n,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(n){this._multiple=n}get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){this._assignValue(n)&&this._onChange(n)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get id(){return this._id}set id(n){this._id=n||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,r,a,h,p,_,M,F,Y,ge,Je,at,dt,bt){this._viewportRuler=n,this._changeDetectorRef=r,this._elementRef=p,this._dir=_,this._parentFormField=Y,this.ngControl=ge,this._liveAnnouncer=dt,this._defaultOptions=bt,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(gt,on)=>gt===on,this._uid="mat-select-"+Ei++,this._triggerAriaLabelledBy=null,this._destroy=new Me.B,this.stateChanges=new Me.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Ei++,this._panelDoneAnimatingStream=new Me.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Me.B,this.optionSelectionChanges=(0,ie.v)(()=>{const gt=this.options;return gt?gt.changes.pipe((0,pe.Z)(gt),(0,L.n)(()=>(0,Ie.h)(...gt.map(on=>on.onSelectionChange)))):this._initialized.pipe((0,L.n)(()=>this.optionSelectionChanges))}),this.openedChange=new e.bkB,this._openedStream=this.openedChange.pipe((0,Le.p)(gt=>gt),(0,U.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Le.p)(gt=>!gt),(0,U.T)(()=>{})),this.selectionChange=new e.bkB,this.valueChange=new e.bkB,this._trackedModal=null,this._skipPredicate=gt=>!this.panelOpen&&gt.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=bt?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=bt.typeaheadDebounceInterval),this._errorStateTracker=new q.X0(h,ge,F,M,this.stateChanges),this._scrollStrategyFactory=at,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Je)||0,this.id=this.id}ngOnInit(){this._selectionModel=new ii(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,j.F)(),(0,Ne.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,Ne.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,Ne.Q)(this._destroy)).subscribe(n=>{n.added.forEach(r=>r.select()),n.removed.forEach(r=>r.deselect())}),this.options.changes.pipe((0,pe.Z)(null),(0,Ne.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const n=this._getTriggerAriaLabelledby(),r=this.ngControl;if(n!==this._triggerAriaLabelledBy){const a=this._elementRef.nativeElement;this._triggerAriaLabelledBy=n,n?a.setAttribute("aria-labelledby",n):a.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(n){(n.disabled||n.userAriaDescribedBy)&&this.stateChanges.next(),n.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const n=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;const r=`${this.id}-panel`;this._trackedModal&&(0,Te.Ae)(this._trackedModal,"aria-owns",r),(0,Te.px)(n,"aria-owns",r),this._trackedModal=n}_clearFromModal(){this._trackedModal&&((0,Te.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(n){this._assignValue(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const n=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&n.reverse(),n.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(n){this.disabled||(this.panelOpen?this._handleOpenKeydown(n):this._handleClosedKeydown(n))}_handleClosedKeydown(n){const r=n.keyCode,a=r===K.n6||r===K.i7||r===K.UQ||r===K.LE,h=r===K.Fm||r===K.t6,p=this._keyManager;if(!p.isTyping()&&h&&!(0,K.rp)(n)||(this.multiple||n.altKey)&&a)n.preventDefault(),this.open();else if(!this.multiple){const _=this.selected;p.onKeydown(n);const M=this.selected;M&&_!==M&&this._liveAnnouncer.announce(M.viewValue,1e4)}}_handleOpenKeydown(n){const r=this._keyManager,a=n.keyCode,h=a===K.n6||a===K.i7,p=r.isTyping();if(h&&n.altKey)n.preventDefault(),this.close();else if(p||a!==K.Fm&&a!==K.t6||!r.activeItem||(0,K.rp)(n))if(!p&&this._multiple&&a===K.A&&n.ctrlKey){n.preventDefault();const _=this.options.some(M=>!M.disabled&&!M.selected);this.options.forEach(M=>{M.disabled||(_?M.select():M.deselect())})}else{const _=r.activeItemIndex;r.onKeydown(n),this._multiple&&h&&n.shiftKey&&r.activeItem&&r.activeItemIndex!==_&&r.activeItem._selectViaInteraction()}else n.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,W.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(n){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&n)Array.isArray(n),n.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(n);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(n){const r=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return null!=a.value&&this._compareWith(a.value,n)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(n){return!!(n!==this._value||this._multiple&&Array.isArray(n))&&(this.options&&this._setSelectionByValue(n),this._value=n,!0)}_getOverlayWidth(n){return"auto"===this.panelWidth?(n instanceof ne.$Q?n.elementRef:n||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const n of this.options)n._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Te.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const n=(0,Ie.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Ne.Q)(n)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ie.h)(...this.options.map(r=>r._stateChanges)).pipe((0,Ne.Q)(n)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(n,r){const a=this._selectionModel.isSelected(n);null!=n.value||this._multiple?(a!==n.selected&&(n.selected?this._selectionModel.select(n):this._selectionModel.deselect(n)),r&&this._keyManager.setActiveItem(n),this.multiple&&(this._sortValues(),r&&this.focus())):(n.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(n.value)),a!==this._selectionModel.isSelected(n)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const n=this.options.toArray();this._selectionModel.sort((r,a)=>this.sortComparator?this.sortComparator(r,a,n):n.indexOf(r)-n.indexOf(a)),this.stateChanges.next()}}_propagateChanges(n){let r;r=this.multiple?this.selected.map(a=>a.value):this.selected?this.selected.value:n,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let n=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){n=r;break}this._keyManager.setActiveItem(n)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(n){this._elementRef.nativeElement.focus(n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const n=this._parentFormField?.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const n=this._parentFormField?.getLabelId();let r=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(n){this.openedChange.emit(n)}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(ee.Xj),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(q.es),e.rXU(e.aKT),e.rXU(ce.dS,8),e.rXU(S.cV,8),e.rXU(S.j4,8),e.rXU(fr,8),e.rXU(S.vO,10),e.kS0("tabindex"),e.rXU(mr),e.rXU(Te.Ai),e.rXU(tr,8))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["mat-select"]],contentQueries:function(r,a,h){if(1&r&&(e.wni(h,Tr,5),e.wni(h,q.wT,5),e.wni(h,q.QC,5)),2&r){let p;e.mGM(p=e.lsd())&&(a.customTrigger=p.first),e.mGM(p=e.lsd())&&(a.options=p),e.mGM(p=e.lsd())&&(a.optionGroups=p)}},viewQuery:function(r,a){if(1&r&&(e.GBs(ve,5),e.GBs(Ze,5),e.GBs(ne.WB,5)),2&r){let h;e.mGM(h=e.lsd())&&(a.trigger=h.first),e.mGM(h=e.lsd())&&(a.panel=h.first),e.mGM(h=e.lsd())&&(a._overlayDir=h.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,a){1&r&&e.bIt("keydown",function(p){return a._handleKeydown(p)})("focus",function(){return a._onFocus()})("blur",function(){return a._onBlur()}),2&r&&(e.BMQ("id",a.id)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a.panelOpen?a.id+"-panel":null)("aria-expanded",a.panelOpen)("aria-label",a.ariaLabel||null)("aria-required",a.required.toString())("aria-disabled",a.disabled.toString())("aria-invalid",a.errorState)("aria-activedescendant",a._getAriaActiveDescendant()),e.AVh("mat-mdc-select-disabled",a.disabled)("mat-mdc-select-invalid",a.errorState)("mat-mdc-select-required",a.required)("mat-mdc-select-empty",a.empty)("mat-mdc-select-multiple",a.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",e.L39],disableRipple:[2,"disableRipple","disableRipple",e.L39],tabIndex:[2,"tabIndex","tabIndex",n=>null==n?0:(0,e.Udg)(n)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",e.L39],placeholder:"placeholder",required:[2,"required","required",e.L39],multiple:[2,"multiple","multiple",e.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",e.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",e.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[e.Jv_([{provide:Ht,useExisting:l},{provide:q.is,useExisting:l}]),e.OA$],ngContentSelectors:en,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,a){if(1&r){const h=e.RV6();e.NAR(wt),e.j41(0,"div",2,0),e.bIt("click",function(){return e.eBV(h),e.Njj(a.open())}),e.j41(3,"div",3),e.DNE(4,kn,2,1,"span",4)(5,zn,3,1,"span",5),e.k0s(),e.j41(6,"div",6)(7,"div",7),e.qSk(),e.j41(8,"svg",8),e.nrm(9,"path",9),e.k0s()()()(),e.DNE(10,On,3,9,"ng-template",10),e.bIt("backdropClick",function(){return e.eBV(h),e.Njj(a.close())})("attach",function(){return e.eBV(h),e.Njj(a._onAttached())})("detach",function(){return e.eBV(h),e.Njj(a.close())})}if(2&r){const h=e.sdS(1);e.R7$(3),e.BMQ("id",a._valueId),e.R7$(),e.vxM(a.empty?4:5),e.R7$(6),e.Y8G("cdkConnectedOverlayPanelClass",a._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",a._scrollStrategy)("cdkConnectedOverlayOrigin",a._preferredOverlayOrigin||h)("cdkConnectedOverlayOpen",a.panelOpen)("cdkConnectedOverlayPositions",a._positions)("cdkConnectedOverlayWidth",a._overlayWidth)}},dependencies:[ne.$Q,ne.WB,R.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[En.transformPanel]},changeDetection:0})}}return l})(),is=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({providers:[Or],imports:[R.MD,ne.z_,q.Sy,q.yE,ee.Gj,Oe,q.Sy,q.yE]})}}return l})();var Bi=D(6048),ar=D(9377);const Jr=new e.nKC("");let Os=(()=>{class l{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,a,h){return this._findPluginFor(r).addEventListener(n,r,a,h)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(h=>h.supports(n)),!r)throw new e.wOt(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||l)(e.KVO(Jr),e.KVO(e.SKi))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})();class po{_doc;constructor(c){this._doc=c}manager}const k="ng-app-id";function oe(l){for(const c of l)c.remove()}function A(l,c){const n=c.createElement("style");return n.textContent=l,n}function ue(l,c){const n=c.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",l),n}let Ge=(()=>{class l{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,a,h={}){this.doc=n,this.appId=r,this.nonce=a,this.isServer=(0,ar.Vy)(h),function G(l,c,n,r){const a=l.head?.querySelectorAll(`style[${k}="${c}"],link[${k}="${c}"]`);if(a)for(const h of a)h.removeAttribute(k),h instanceof HTMLLinkElement?r.set(h.href.slice(h.href.lastIndexOf("/")+1),{usage:0,elements:[h]}):h.textContent&&n.set(h.textContent,{usage:0,elements:[h]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const a of n)this.addUsage(a,this.inline,A);r?.forEach(a=>this.addUsage(a,this.external,ue))}removeStyles(n,r){for(const a of n)this.removeUsage(a,this.inline);r?.forEach(a=>this.removeUsage(a,this.external))}addUsage(n,r,a){const h=r.get(n);h?h.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(p=>this.addElement(p,a(n,this.doc)))})}removeUsage(n,r){const a=r.get(n);a&&(a.usage--,a.usage<=0&&(oe(a.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])oe(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:a}]of this.inline)a.push(this.addElement(n,A(r,this.doc)));for(const[r,{elements:a}]of this.external)a.push(this.addElement(n,ue(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(k,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||l)(e.KVO(me.q),e.KVO(e.sZ2),e.KVO(e.BIS,8),e.KVO(e.Agw))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})();const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},It=/%COMP%/g,_i=new e.nKC("",{providedIn:"root",factory:()=>!0});function eo(l,c){return c.map(n=>n.replace(It,l))}let Wi=(()=>{class l{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,a,h,p,_,M,F=null,Y=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=a,this.removeStylesOnCompDestroy=h,this.doc=p,this.platformId=_,this.ngZone=M,this.nonce=F,this.tracingService=Y,this.platformIsServer=(0,ar.Vy)(_),this.defaultRenderer=new Dr(n,p,M,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===e.gXe.ShadowDom&&(r={...r,encapsulation:e.gXe.Emulated});const a=this.getOrCreateRenderer(n,r);return a instanceof vo?a.applyToHost(n):a instanceof Ps&&a.applyStyles(),a}getOrCreateRenderer(n,r){const a=this.rendererByCompId;let h=a.get(r.id);if(!h){const p=this.doc,_=this.ngZone,M=this.eventManager,F=this.sharedStylesHost,Y=this.removeStylesOnCompDestroy,ge=this.platformIsServer,Je=this.tracingService;switch(r.encapsulation){case e.gXe.Emulated:h=new vo(M,F,r,this.appId,Y,p,_,ge,Je);break;case e.gXe.ShadowDom:return new Ts(M,F,n,r,p,_,this.nonce,ge,Je);default:h=new Ps(M,F,r,Y,p,_,ge,Je)}a.set(r.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||l)(e.KVO(Os),e.KVO(Ge),e.KVO(e.sZ2),e.KVO(_i),e.KVO(me.q),e.KVO(e.Agw),e.KVO(e.SKi),e.KVO(e.BIS),e.KVO(e.Lf2,8))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})();class Dr{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(c,n,r,a,h){this.eventManager=c,this.doc=n,this.ngZone=r,this.platformIsServer=a,this.tracingService=h}destroy(){}destroyNode=null;createElement(c,n){return n?this.doc.createElementNS(ft[n]||n,c):this.doc.createElement(c)}createComment(c){return this.doc.createComment(c)}createText(c){return this.doc.createTextNode(c)}appendChild(c,n){(_o(c)?c.content:c).appendChild(n)}insertBefore(c,n,r){c&&(_o(c)?c.content:c).insertBefore(n,r)}removeChild(c,n){n.remove()}selectRootElement(c,n){let r="string"==typeof c?this.doc.querySelector(c):c;if(!r)throw new e.wOt(-5104,!1);return n||(r.textContent=""),r}parentNode(c){return c.parentNode}nextSibling(c){return c.nextSibling}setAttribute(c,n,r,a){if(a){n=a+":"+n;const h=ft[a];h?c.setAttributeNS(h,n,r):c.setAttribute(n,r)}else c.setAttribute(n,r)}removeAttribute(c,n,r){if(r){const a=ft[r];a?c.removeAttributeNS(a,n):c.removeAttribute(`${r}:${n}`)}else c.removeAttribute(n)}addClass(c,n){c.classList.add(n)}removeClass(c,n){c.classList.remove(n)}setStyle(c,n,r,a){a&(e.czy.DashCase|e.czy.Important)?c.style.setProperty(n,r,a&e.czy.Important?"important":""):c.style[n]=r}removeStyle(c,n,r){r&e.czy.DashCase?c.style.removeProperty(n):c.style[n]=""}setProperty(c,n,r){null!=c&&(c[n]=r)}setValue(c,n){c.nodeValue=n}listen(c,n,r,a){if("string"==typeof c&&!(c=(0,Bi.rb)().getGlobalEventTarget(this.doc,c)))throw new e.wOt(5102,!1);let h=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(h=this.tracingService.wrapEventListener(c,n,h)),this.eventManager.addEventListener(c,n,h,a)}decoratePreventDefault(c){return n=>{if("__ngUnwrap__"===n)return c;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>c(n)):c(n))&&n.preventDefault()}}}function _o(l){return"TEMPLATE"===l.tagName&&void 0!==l.content}class Ts extends Dr{sharedStylesHost;hostEl;shadowRoot;constructor(c,n,r,a,h,p,_,M,F){super(c,h,p,M,F),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Y=a.styles;Y=eo(a.id,Y);for(const Je of Y){const at=document.createElement("style");_&&at.setAttribute("nonce",_),at.textContent=Je,this.shadowRoot.appendChild(at)}const ge=a.getExternalStyles?.();if(ge)for(const Je of ge){const at=ue(Je,h);_&&at.setAttribute("nonce",_),this.shadowRoot.appendChild(at)}}nodeOrShadowRoot(c){return c===this.hostEl?this.shadowRoot:c}appendChild(c,n){return super.appendChild(this.nodeOrShadowRoot(c),n)}insertBefore(c,n,r){return super.insertBefore(this.nodeOrShadowRoot(c),n,r)}removeChild(c,n){return super.removeChild(null,n)}parentNode(c){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(c)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ps extends Dr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(c,n,r,a,h,p,_,M,F){super(c,h,p,_,M),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a;let Y=r.styles;this.styles=F?eo(F,Y):Y,this.styleUrls=r.getExternalStyles?.(F)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class vo extends Ps{contentAttr;hostAttr;constructor(c,n,r,a,h,p,_,M,F){const Y=a+"-"+r.id;super(c,n,r,h,p,_,M,F,Y),this.contentAttr=function Ln(l){return"_ngcontent-%COMP%".replace(It,l)}(Y),this.hostAttr=function nr(l){return"_nghost-%COMP%".replace(It,l)}(Y)}applyToHost(c){this.applyStyles(),this.setAttribute(c,this.hostAttr,"")}createElement(c,n){const r=super.createElement(c,n);return super.setAttribute(r,this.contentAttr,""),r}}class Fs extends Bi.qj{supportsDOMEvents=!0;static makeCurrent(){(0,Bi.ig)(new Fs)}onAndCancel(c,n,r,a){return c.addEventListener(n,r,a),()=>{c.removeEventListener(n,r,a)}}dispatchEvent(c,n){c.dispatchEvent(n)}remove(c){c.remove()}createElement(c,n){return(n=n||this.getDefaultDocument()).createElement(c)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(c){return c.nodeType===Node.ELEMENT_NODE}isShadowRoot(c){return c instanceof DocumentFragment}getGlobalEventTarget(c,n){return"window"===n?window:"document"===n?c:"body"===n?c.body:null}getBaseHref(c){const n=function ta(){return vi=vi||document.head.querySelector("base"),vi?vi.getAttribute("href"):null}();return null==n?null:function Tt(l){return new URL(l,document.baseURI).pathname}(n)}resetBaseElement(){vi=null}getUserAgent(){return window.navigator.userAgent}getCookie(c){return(0,ar.bS)(document.cookie,c)}}let vi=null,yo=(()=>{class l{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||l)};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})(),rs=(()=>{class l extends po{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,a,h){return n.addEventListener(r,a,h),()=>this.removeEventListener(n,r,a,h)}removeEventListener(n,r,a,h){return n.removeEventListener(r,a,h)}static \u0275fac=function(r){return new(r||l)(e.KVO(me.q))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})();const Rs=["alt","control","meta","shift"],na={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ia={alt:l=>l.altKey,control:l=>l.ctrlKey,meta:l=>l.metaKey,shift:l=>l.shiftKey};let jo=(()=>{class l extends po{constructor(n){super(n)}supports(n){return null!=l.parseEventName(n)}addEventListener(n,r,a,h){const p=l.parseEventName(r),_=l.eventCallback(p.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Bi.rb)().onAndCancel(n,p.domEventName,_,h))}static parseEventName(n){const r=n.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const h=l._normalizeKey(r.pop());let p="",_=r.indexOf("code");if(_>-1&&(r.splice(_,1),p="code."),Rs.forEach(F=>{const Y=r.indexOf(F);Y>-1&&(r.splice(Y,1),p+=F+".")}),p+=h,0!=r.length||0===h.length)return null;const M={};return M.domEventName=a,M.fullKey=p,M}static matchEventFullKeyCode(n,r){let a=na[n.key]||n.key,h="";return r.indexOf("code.")>-1&&(a=n.code,h="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Rs.forEach(p=>{p!==a&&(0,ia[p])(n)&&(h+=p+".")}),h+=a,h===r)}static eventCallback(n,r,a){return h=>{l.matchEventFullKeyCode(h,n)&&a.runGuarded(()=>r(h))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||l)(e.KVO(me.q))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})();function pr(l){return{appProviders:[...As,...l?.providers??[]],platformProviders:Co}}const Co=[{provide:e.Agw,useValue:ar.Zn},{provide:e.PLl,useValue:function Pr(){Fs.makeCurrent()},multi:!0},{provide:me.q,useFactory:function Xi(){return(0,e.TL$)(document),document}}],Bo=[{provide:e.e01,useClass:class bo{addToWindow(c){e.JZv.getAngularTestability=(r,a=!0)=>{const h=c.findTestabilityInTree(r,a);if(null==h)throw new e.wOt(5103,!1);return h},e.JZv.getAllAngularTestabilities=()=>c.getAllTestabilities(),e.JZv.getAllAngularRootElements=()=>c.getAllRootElements(),e.JZv.frameworkStabilizers||(e.JZv.frameworkStabilizers=[]),e.JZv.frameworkStabilizers.push(r=>{const a=e.JZv.getAllAngularTestabilities();let h=a.length;const p=function(){h--,0==h&&r()};a.forEach(_=>{_.whenStable(p)})})}findTestabilityInTree(c,n,r){return null==n?null:c.getTestability(n)??(r?(0,Bi.rb)().isShadowRoot(n)?this.findTestabilityInTree(c,n.host,!0):this.findTestabilityInTree(c,n.parentElement,!0):null)}}},{provide:e.WHO,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]},{provide:e.NYb,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]}],As=[{provide:e.H8p,useValue:"root"},{provide:e.zcH,useFactory:function ka(){return new e.zcH}},{provide:Jr,useClass:rs,multi:!0,deps:[me.q]},{provide:Jr,useClass:jo,multi:!0,deps:[me.q]},Wi,Ge,Os,{provide:e._9s,useExisting:Wi},{provide:ar.N0,useClass:yo},[]];let Vo=(()=>{class l{constructor(){}static \u0275fac=function(r){return new(r||l)};static \u0275mod=e.$C({type:l});static \u0275inj=e.G2t({providers:[...As,...Bo],imports:[R.MD,e.Hbi]})}return l})();function ss(l){return new e.wOt(3e3,!1)}function ao(l){switch(l.length){case 0:return new it.sf;case 1:return l[0];default:return new it.PZ(l)}}function kl(l,c,n=new Map,r=new Map){const a=[],h=[];let p=-1,_=null;if(c.forEach(M=>{const F=M.get("offset"),Y=F==p,ge=Y&&_||new Map;M.forEach((Je,at)=>{let dt=at,bt=Je;if("offset"!==at)switch(dt=l.normalizePropertyName(dt,a),bt){case it.FX:bt=n.get(at);break;case it.kp:bt=r.get(at);break;default:bt=l.normalizeStyleValue(at,dt,bt,a)}ge.set(dt,bt)}),Y||h.push(ge),_=ge,p=F}),a.length)throw function fe(){return new e.wOt(3502,!1)}();return h}function Ol(l,c,n,r){switch(c){case"start":l.onStart(()=>r(n&&oa(n,"start",l)));break;case"done":l.onDone(()=>r(n&&oa(n,"done",l)));break;case"destroy":l.onDestroy(()=>r(n&&oa(n,"destroy",l)))}}function oa(l,c,n){const h=ds(l.element,l.triggerName,l.fromState,l.toState,c||l.phaseName,n.totalTime??l.totalTime,!!n.disabled),p=l._data;return null!=p&&(h._data=p),h}function ds(l,c,n,r,a="",h=0,p){return{element:l,triggerName:c,fromState:n,toState:r,phaseName:a,totalTime:h,disabled:!!p}}function Yi(l,c,n){let r=l.get(c);return r||l.set(c,r=n),r}function Nc(l){const c=l.indexOf(":");return[l.substring(1,c),l.slice(c+1)]}const _u=typeof document>"u"?null:document.documentElement;function Bs(l){const c=l.parentNode||l.host||null;return c===_u?null:c}let Do=null,Fa=!1;function jc(l,c){for(;c;){if(c===l)return!0;c=Bs(c)}return!1}function ki(l,c,n){if(n)return Array.from(l.querySelectorAll(c));const r=l.querySelector(c);return r?[r]:[]}const Lc="ng-enter",Fl="ng-leave",aa="ng-trigger",Ra=".ng-trigger",Bc="ng-animating",Rl=".ng-animating";function Rr(l){if("number"==typeof l)return l;const c=l.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:us(parseFloat(c[1]),c[2])}function us(l,c){return"s"===c?1e3*l:l}function Gn(l,c,n){return l.hasOwnProperty("duration")?l:function ct(l,c,n){let a,h=0,p="";if("string"==typeof l){const _=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return c.push(ss()),{duration:0,delay:0,easing:""};a=us(parseFloat(_[1]),_[2]);const M=_[3];null!=M&&(h=us(parseFloat(M),_[4]));const F=_[5];F&&(p=F)}else a=l;if(!n){let _=!1,M=c.length;a<0&&(c.push(function Br(){return new e.wOt(3100,!1)}()),_=!0),h<0&&(c.push(function Uo(){return new e.wOt(3101,!1)}()),_=!0),_&&c.splice(M,0,ss())}return{duration:a,delay:h,easing:p}}(l,c,n)}function ci(l,c,n){c.forEach((r,a)=>{const h=xo(a);n&&!n.has(a)&&n.set(a,l.style[h]),l.style[h]=r})}function mi(l,c){c.forEach((n,r)=>{const a=xo(r);l.style[a]=""})}function Fi(l){return Array.isArray(l)?1==l.length?l[0]:(0,it.K2)(l):l}const Hn=new RegExp("{{\\s*(.+?)\\s*}}","g");function di(l){let c=[];if("string"==typeof l){let n;for(;n=Hn.exec(l);)c.push(n[1]);Hn.lastIndex=0}return c}function gr(l,c,n){const r=`${l}`,a=r.replace(Hn,(h,p)=>{let _=c[p];return null==_&&(n.push(function Fn(){return new e.wOt(3003,!1)}()),_=""),_.toString()});return a==r?l:a}const Zt=/-+([a-z0-9])/g;function xo(l){return l.replace(Zt,(...c)=>c[1].toUpperCase())}function Vi(l,c,n){switch(c.type){case it.If.Trigger:return l.visitTrigger(c,n);case it.If.State:return l.visitState(c,n);case it.If.Transition:return l.visitTransition(c,n);case it.If.Sequence:return l.visitSequence(c,n);case it.If.Group:return l.visitGroup(c,n);case it.If.Animate:return l.visitAnimate(c,n);case it.If.Keyframes:return l.visitKeyframes(c,n);case it.If.Style:return l.visitStyle(c,n);case it.If.Reference:return l.visitReference(c,n);case it.If.AnimateChild:return l.visitAnimateChild(c,n);case it.If.AnimateRef:return l.visitAnimateRef(c,n);case it.If.Query:return l.visitQuery(c,n);case it.If.Stagger:return l.visitStagger(c,n);default:throw function ir(){return new e.wOt(3004,!1)}()}}function Go(l,c){return window.getComputedStyle(l)[c]}let to=(()=>{class l{validateStyleProperty(n){return function Vs(l){Do||(Do=function vu(){return typeof document<"u"?document.body:null}()||{},Fa=!!Do.style&&"WebkitAppearance"in Do.style);let c=!0;return Do.style&&!function Tl(l){return"ebkit"==l.substring(1,6)}(l)&&(c=l in Do.style,!c&&Fa&&(c="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in Do.style)),c}(n)}containsElement(n,r){return jc(n,r)}getParentElement(n){return Bs(n)}query(n,r,a){return ki(n,r,a)}computeStyle(n,r,a){return a||""}animate(n,r,a,h,p,_=[],M){return new it.sf(a,h)}static \u0275fac=function(r){return new(r||l)};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})();class Ho{static NOOP=new to}class Na{}const ja=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zo extends Na{normalizePropertyName(c,n){return xo(c)}normalizeStyleValue(c,n,r,a){let h="";const p=r.toString().trim();if(ja.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)h="px";else{const _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&a.push(function as(){return new e.wOt(3005,!1)}())}return p+h}}const y="*";const H=new Set(["true","1"]),Ee=new Set(["false","0"]);function nt(l,c){const n=H.has(l)||Ee.has(l),r=H.has(c)||Ee.has(c);return(a,h)=>{let p=l==y||l==a,_=c==y||c==h;return!p&&n&&"boolean"==typeof a&&(p=a?H.has(l):Ee.has(l)),!_&&r&&"boolean"==typeof h&&(_=h?H.has(c):Ee.has(c)),p&&_}}const gn=new RegExp("s*:selfs*,?","g");function Un(l,c,n,r){return new no(l).build(c,n,r)}class no{_driver;constructor(c){this._driver=c}build(c,n,r){const a=new lo(n);return this._resetContextStyleTimingState(a),Vi(this,Fi(c),a)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,n){let r=n.queryCount=0,a=n.depCount=0;const h=[],p=[];return"@"==c.name.charAt(0)&&n.errors.push(function Oa(){return new e.wOt(3006,!1)}()),c.definitions.forEach(_=>{if(this._resetContextStyleTimingState(n),_.type==it.If.State){const M=_,F=M.name;F.toString().split(/\s*,\s*/).forEach(Y=>{M.name=Y,h.push(this.visitState(M,n))}),M.name=F}else if(_.type==it.If.Transition){const M=this.visitTransition(_,n);r+=M.queryCount,a+=M.depCount,p.push(M)}else n.errors.push(function ls(){return new e.wOt(3007,!1)}())}),{type:it.If.Trigger,name:c.name,states:h,transitions:p,queryCount:r,depCount:a,options:null}}visitState(c,n){const r=this.visitStyle(c.styles,n),a=c.options&&c.options.params||null;if(r.containsDynamicStyles){const h=new Set,p=a||{};r.styles.forEach(_=>{_ instanceof Map&&_.forEach(M=>{di(M).forEach(F=>{p.hasOwnProperty(F)||h.add(F)})})}),h.size&&n.errors.push(function lr(){return new e.wOt(3008,!1)}(0,h.values()))}return{type:it.If.State,name:c.name,style:r,options:a?{params:a}:null}}visitTransition(c,n){n.queryCount=0,n.depCount=0;const r=Vi(this,Fi(c.animation),n),a=function w(l,c){const n=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(r=>function P(l,c,n){if(":"==l[0]){const M=function Q(l,c){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return c.push(function I(){return new e.wOt(3016,!1)}()),"* => *"}}(l,n);if("function"==typeof M)return void c.push(M);l=M}const r=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Ta(){return new e.wOt(3015,!1)}()),c;const a=r[1],h=r[2],p=r[3];c.push(nt(a,p)),"<"==h[0]&&(a!=y||p!=y)&&c.push(nt(p,a))}(r,n,c)):n.push(l),n}(c.expr,n.errors);return{type:it.If.Transition,matchers:a,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:So(c.options)}}visitSequence(c,n){return{type:it.If.Sequence,steps:c.steps.map(r=>Vi(this,r,n)),options:So(c.options)}}visitGroup(c,n){const r=n.currentTime;let a=0;const h=c.steps.map(p=>{n.currentTime=r;const _=Vi(this,p,n);return a=Math.max(a,n.currentTime),_});return n.currentTime=a,{type:it.If.Group,steps:h,options:So(c.options)}}visitAnimate(c,n){const r=function La(l,c){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return rm(Gn(l,c).duration,0,"");const n=l;if(n.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=rm(0,0,"");return h.dynamic=!0,h.strValue=n,h}const a=Gn(n,c);return rm(a.duration,a.delay,a.easing)}(c.timings,n.errors);n.currentAnimateTimings=r;let a,h=c.styles?c.styles:(0,it.iF)({});if(h.type==it.If.Keyframes)a=this.visitKeyframes(h,n);else{let p=c.styles,_=!1;if(!p){_=!0;const F={};r.easing&&(F.easing=r.easing),p=(0,it.iF)(F)}n.currentTime+=r.duration+r.delay;const M=this.visitStyle(p,n);M.isEmptyStep=_,a=M}return n.currentAnimateTimings=null,{type:it.If.Animate,timings:r,style:a,options:null}}visitStyle(c,n){const r=this._makeStyleAst(c,n);return this._validateStyleAst(r,n),r}_makeStyleAst(c,n){const r=[],a=Array.isArray(c.styles)?c.styles:[c.styles];for(let _ of a)"string"==typeof _?_===it.kp?r.push(_):n.errors.push(new e.wOt(3002,!1)):r.push(new Map(Object.entries(_)));let h=!1,p=null;return r.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(p=_.get("easing"),_.delete("easing")),!h))for(let M of _.values())if(M.toString().indexOf("{{")>=0){h=!0;break}}),{type:it.If.Style,styles:r,easing:p,offset:c.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(c,n){const r=n.currentAnimateTimings;let a=n.currentTime,h=n.currentTime;r&&h>0&&(h-=r.duration+r.delay),c.styles.forEach(p=>{"string"!=typeof p&&p.forEach((_,M)=>{const F=n.collectedStyles.get(n.currentQuerySelector),Y=F.get(M);let ge=!0;Y&&(h!=a&&h>=Y.startTime&&a<=Y.endTime&&(n.errors.push(function Ki(){return new e.wOt(3010,!1)}()),ge=!1),h=Y.startTime),ge&&F.set(M,{startTime:h,endTime:a}),n.options&&function $o(l,c,n){const r=c.params||{},a=di(l);a.length&&a.forEach(h=>{r.hasOwnProperty(h)||n.push(function Fr(){return new e.wOt(3001,!1)}())})}(_,n.options,n.errors)})})}visitKeyframes(c,n){const r={type:it.If.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function cr(){return new e.wOt(3011,!1)}()),r;let h=0;const p=[];let _=!1,M=!1,F=0;const Y=c.steps.map(on=>{const yn=this._makeStyleAst(on,n);let Dn=null!=yn.offset?yn.offset:function Al(l){if("string"==typeof l)return null;let c=null;if(Array.isArray(l))l.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;c=parseFloat(r.get("offset")),r.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const n=l;c=parseFloat(n.get("offset")),n.delete("offset")}return c}(yn.styles),Sn=0;return null!=Dn&&(h++,Sn=yn.offset=Dn),M=M||Sn<0||Sn>1,_=_||Sn<F,F=Sn,p.push(Sn),yn});M&&n.errors.push(function so(){return new e.wOt(3012,!1)}()),_&&n.errors.push(function Vr(){return new e.wOt(3200,!1)}());const ge=c.steps.length;let Je=0;h>0&&h<ge?n.errors.push(function Ns(){return new e.wOt(3202,!1)}()):0==h&&(Je=1/(ge-1));const at=ge-1,dt=n.currentTime,bt=n.currentAnimateTimings,gt=bt.duration;return Y.forEach((on,yn)=>{const Dn=Je>0?yn==at?1:Je*yn:p[yn],Sn=Dn*gt;n.currentTime=dt+bt.delay+Sn,bt.duration=Sn,this._validateStyleAst(on,n),on.offset=Dn,r.styles.push(on)}),r}visitReference(c,n){return{type:it.If.Reference,animation:Vi(this,Fi(c.animation),n),options:So(c.options)}}visitAnimateChild(c,n){return n.depCount++,{type:it.If.AnimateChild,options:So(c.options)}}visitAnimateRef(c,n){return{type:it.If.AnimateRef,animation:this.visitReference(c.animation,n),options:So(c.options)}}visitQuery(c,n){const r=n.currentQuerySelector,a=c.options||{};n.queryCount++,n.currentQuery=c;const[h,p]=function vr(l){const c=!!l.split(/\s*,\s*/).find(n=>":self"==n);return c&&(l=l.replace(gn,"")),l=l.replace(/@\*/g,Ra).replace(/@\w+/g,n=>Ra+"-"+n.slice(1)).replace(/:animating/g,Rl),[l,c]}(c.selector);n.currentQuerySelector=r.length?r+" "+h:h,Yi(n.collectedStyles,n.currentQuerySelector,new Map);const _=Vi(this,Fi(c.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:it.If.Query,selector:h,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:_,originalSelector:c.selector,options:So(c.options)}}visitStagger(c,n){n.currentQuery||n.errors.push(function Sl(){return new e.wOt(3013,!1)}());const r="full"===c.timings?{duration:0,delay:0,easing:"full"}:Gn(c.timings,n.errors,!0);return{type:it.If.Stagger,animation:Vi(this,Fi(c.animation),n),timings:r,options:null}}}class lo{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(c){this.errors=c}}function So(l){return l?(l={...l}).params&&(l.params=function dr(l){return l?{...l}:null}(l.params)):l={},l}function rm(l,c,n){return{duration:l,delay:c,easing:n}}function om(l,c,n,r,a,h,p=null,_=!1){return{type:1,element:l,keyframes:c,preStyleProps:n,postStyleProps:r,duration:a,delay:h,totalTime:a+h,easing:p,subTimeline:_}}class yu{_map=new Map;get(c){return this._map.get(c)||[]}append(c,n){let r=this._map.get(c);r||this._map.set(c,r=[]),r.push(...n)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const sm=new RegExp(":enter","g"),SC=new RegExp(":leave","g");function am(l,c,n,r,a,h=new Map,p=new Map,_,M,F=[]){return(new IC).buildKeyframes(l,c,n,r,a,h,p,_,M,F)}class IC{buildKeyframes(c,n,r,a,h,p,_,M,F,Y=[]){F=F||new yu;const ge=new Vc(c,n,F,a,h,Y,[]);ge.options=M;const Je=M.delay?Rr(M.delay):0;ge.currentTimeline.delayNextStep(Je),ge.currentTimeline.setStyles([p],null,ge.errors,M),Vi(this,r,ge);const at=ge.timelines.filter(dt=>dt.containsAnimation());if(at.length&&_.size){let dt;for(let bt=at.length-1;bt>=0;bt--){const gt=at[bt];if(gt.element===n){dt=gt;break}}dt&&!dt.allowOnlyTimelineStyles()&&dt.setStyles([_],null,ge.errors,M)}return at.length?at.map(dt=>dt.buildKeyframes()):[om(n,[],[],[],0,Je,"",!1)]}visitTrigger(c,n){}visitState(c,n){}visitTransition(c,n){}visitAnimateChild(c,n){const r=n.subInstructions.get(n.element);if(r){const a=n.createSubContext(c.options),h=n.currentTimeline.currentTime,p=this._visitSubInstructions(r,a,a.options);h!=p&&n.transformIntoNewTimeline(p)}n.previousNode=c}visitAnimateRef(c,n){const r=n.createSubContext(c.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],n,r),this.visitReference(c.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=c}_applyAnimationRefDelays(c,n,r){for(const a of c){const h=a?.delay;if(h){const p="number"==typeof h?h:Rr(gr(h,a?.params??{},n.errors));r.delayNextStep(p)}}}_visitSubInstructions(c,n,r){let h=n.currentTimeline.currentTime;const p=null!=r.duration?Rr(r.duration):null,_=null!=r.delay?Rr(r.delay):null;return 0!==p&&c.forEach(M=>{const F=n.appendInstructionToTimeline(M,p,_);h=Math.max(h,F.duration+F.delay)}),h}visitReference(c,n){n.updateOptions(c.options,!0),Vi(this,c.animation,n),n.previousNode=c}visitSequence(c,n){const r=n.subContextCount;let a=n;const h=c.options;if(h&&(h.params||h.delay)&&(a=n.createSubContext(h),a.transformIntoNewTimeline(),null!=h.delay)){a.previousNode.type==it.If.Style&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Nl);const p=Rr(h.delay);a.delayNextStep(p)}c.steps.length&&(c.steps.forEach(p=>Vi(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),n.previousNode=c}visitGroup(c,n){const r=[];let a=n.currentTimeline.currentTime;const h=c.options&&c.options.delay?Rr(c.options.delay):0;c.steps.forEach(p=>{const _=n.createSubContext(c.options);h&&_.delayNextStep(h),Vi(this,p,_),a=Math.max(a,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(p=>n.currentTimeline.mergeTimelineCollectedStyles(p)),n.transformIntoNewTimeline(a),n.previousNode=c}_visitTiming(c,n){if(c.dynamic){const r=c.strValue;return Gn(n.params?gr(r,n.params,n.errors):r,n.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,n){const r=n.currentAnimateTimings=this._visitTiming(c.timings,n),a=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),a.snapshotCurrentStyles());const h=c.style;h.type==it.If.Keyframes?this.visitKeyframes(h,n):(n.incrementTime(r.duration),this.visitStyle(h,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=c}visitStyle(c,n){const r=n.currentTimeline,a=n.currentAnimateTimings;!a&&r.hasCurrentStyleProperties()&&r.forwardFrame();const h=a&&a.easing||c.easing;c.isEmptyStep?r.applyEmptyStep(h):r.setStyles(c.styles,h,n.errors,n.options),n.previousNode=c}visitKeyframes(c,n){const r=n.currentAnimateTimings,a=n.currentTimeline.duration,h=r.duration,_=n.createSubContext().currentTimeline;_.easing=r.easing,c.styles.forEach(M=>{_.forwardTime((M.offset||0)*h),_.setStyles(M.styles,M.easing,n.errors,n.options),_.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(_),n.transformIntoNewTimeline(a+h),n.previousNode=c}visitQuery(c,n){const r=n.currentTimeline.currentTime,a=c.options||{},h=a.delay?Rr(a.delay):0;h&&(n.previousNode.type===it.If.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Nl);let p=r;const _=n.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!a.optional,n.errors);n.currentQueryTotal=_.length;let M=null;_.forEach((F,Y)=>{n.currentQueryIndex=Y;const ge=n.createSubContext(c.options,F);h&&ge.delayNextStep(h),F===n.element&&(M=ge.currentTimeline),Vi(this,c.animation,ge),ge.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,ge.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(p),M&&(n.currentTimeline.mergeTimelineCollectedStyles(M),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=c}visitStagger(c,n){const r=n.parentContext,a=n.currentTimeline,h=c.timings,p=Math.abs(h.duration),_=p*(n.currentQueryTotal-1);let M=p*n.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":M=_-M;break;case"full":M=r.currentStaggerTime}const Y=n.currentTimeline;M&&Y.delayNextStep(M);const ge=Y.currentTime;Vi(this,c.animation,n),n.previousNode=c,r.currentStaggerTime=a.currentTime-ge+(a.startTime-r.currentTimeline.startTime)}}const Nl={};class Vc{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Nl;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(c,n,r,a,h,p,_,M){this._driver=c,this.element=n,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=h,this.errors=p,this.timelines=_,this.currentTimeline=M||new Cu(this._driver,n,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,n){if(!c)return;const r=c;let a=this.options;null!=r.duration&&(a.duration=Rr(r.duration)),null!=r.delay&&(a.delay=Rr(r.delay));const h=r.params;if(h){let p=a.params;p||(p=this.options.params={}),Object.keys(h).forEach(_=>{(!n||!p.hasOwnProperty(_))&&(p[_]=gr(h[_],p,this.errors))})}}_copyOptions(){const c={};if(this.options){const n=this.options.params;if(n){const r=c.params={};Object.keys(n).forEach(a=>{r[a]=n[a]})}}return c}createSubContext(c=null,n,r){const a=n||this.element,h=new Vc(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(c),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(c){return this.previousNode=Nl,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,n,r){const a={duration:n??c.duration,delay:this.currentTimeline.currentTime+(r??0)+c.delay,easing:""},h=new kC(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,a,c.stretchStartingKeyframe);return this.timelines.push(h),a}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,n,r,a,h,p){let _=[];if(a&&_.push(this.element),c.length>0){c=(c=c.replace(sm,"."+this._enterClassName)).replace(SC,"."+this._leaveClassName);let F=this._driver.query(this.element,c,1!=r);0!==r&&(F=r<0?F.slice(F.length+r,F.length):F.slice(0,r)),_.push(...F)}return!h&&0==_.length&&p.push(function ra(){return new e.wOt(3014,!1)}()),_}}class Cu{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(c,n,r,a){this._driver=c,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=a,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+c),n&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,n){return this.applyStylesToKeyframe(),new Cu(this._driver,c,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,n){this._localTimelineStyles.set(c,n),this._globalTimelineStyles.set(c,n),this._styleSummary.set(c,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||it.kp),this._currentKeyframe.set(n,it.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,n,r,a){n&&this._previousKeyframe.set("easing",n);const h=a&&a.params||{},p=function S_(l,c){const n=new Map;let r;return l.forEach(a=>{if("*"===a){r??=c.keys();for(let h of r)n.set(h,it.kp)}else for(let[h,p]of a)n.set(h,p)}),n}(c,this._globalTimelineStyles);for(let[_,M]of p){const F=gr(M,h,r);this._pendingStyles.set(_,F),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??it.kp),this._updateStyle(_,F)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,n)=>{this._currentKeyframe.set(n,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,c)}))}snapshotCurrentStyles(){for(let[c,n]of this._localTimelineStyles)this._pendingStyles.set(c,n),this._updateStyle(c,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let n in this._currentKeyframe)c.push(n);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((n,r)=>{const a=this._styleSummary.get(r);(!a||n.time>a.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((_,M)=>{const F=new Map([...this._backFill,..._]);F.forEach((Y,ge)=>{Y===it.FX?c.add(ge):Y===it.kp&&n.add(ge)}),r||F.set("offset",M/this.duration),a.push(F)});const h=[...c.values()],p=[...n.values()];if(r){const _=a[0],M=new Map(_);_.set("offset",0),M.set("offset",1),a=[_,M]}return om(this.element,a,h,p,this.duration,this.startTime,this.easing,!1)}}class kC extends Cu{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(c,n,r,a,h,p,_=!1){super(c,n,p.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=h,this._stretchStartingKeyframe=_,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:n,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&n){const h=[],p=r+n,_=n/p,M=new Map(c[0]);M.set("offset",0),h.push(M);const F=new Map(c[0]);F.set("offset",M_(_)),h.push(F);const Y=c.length-1;for(let ge=1;ge<=Y;ge++){let Je=new Map(c[ge]);const at=Je.get("offset");Je.set("offset",M_((n+at*r)/p)),h.push(Je)}r=p,n=0,a="",c=h}return om(this.element,c,this.preStyleProps,this.postStyleProps,r,n,a,!0)}}function M_(l,c=3){const n=Math.pow(10,c-1);return Math.round(l*n)/n}function Eu(l,c,n,r,a,h,p,_,M,F,Y,ge,Je){return{type:0,element:l,triggerName:c,isRemovalTransition:a,fromState:n,fromStyles:h,toState:r,toStyles:p,timelines:_,queriedElements:M,preStyleProps:F,postStyleProps:Y,totalTime:ge,errors:Je}}const Uc={};class wu{_triggerName;ast;_stateStyles;constructor(c,n,r){this._triggerName=c,this.ast=n,this._stateStyles=r}match(c,n,r,a){return function I_(l,c,n,r,a){return l.some(h=>h(c,n,r,a))}(this.ast.matchers,c,n,r,a)}buildStyles(c,n,r){let a=this._stateStyles.get("*");return void 0!==c&&(a=this._stateStyles.get(c?.toString())||a),a?a.buildStyles(n,r):new Map}build(c,n,r,a,h,p,_,M,F,Y){const ge=[],Je=this.ast.options&&this.ast.options.params||Uc,dt=this.buildStyles(r,_&&_.params||Uc,ge),bt=M&&M.params||Uc,gt=this.buildStyles(a,bt,ge),on=new Set,yn=new Map,Dn=new Map,Sn="void"===a,hi={params:Du(bt,Je),delay:this.ast.options?.delay},rr=Y?[]:am(c,n,this.ast.animation,h,p,dt,gt,hi,F,ge);let Di=0;return rr.forEach(Qi=>{Di=Math.max(Qi.duration+Qi.delay,Di)}),ge.length?Eu(n,this._triggerName,r,a,Sn,dt,gt,[],[],yn,Dn,Di,ge):(rr.forEach(Qi=>{const ho=Qi.element,xa=Yi(yn,ho,new Set);Qi.preStyleProps.forEach(es=>xa.add(es));const Kd=Yi(Dn,ho,new Set);Qi.postStyleProps.forEach(es=>Kd.add(es)),ho!==n&&on.add(ho)}),Eu(n,this._triggerName,r,a,Sn,dt,gt,rr,[...on.values()],yn,Dn,Di))}}function Du(l,c){const n={...c};return Object.entries(l).forEach(([r,a])=>{null!=a&&(n[r]=a)}),n}class lm{styles;defaultParams;normalizer;constructor(c,n,r){this.styles=c,this.defaultParams=n,this.normalizer=r}buildStyles(c,n){const r=new Map,a=Du(c,this.defaultParams);return this.styles.styles.forEach(h=>{"string"!=typeof h&&h.forEach((p,_)=>{p&&(p=gr(p,a,n));const M=this.normalizer.normalizePropertyName(_,n);p=this.normalizer.normalizeStyleValue(_,M,p,n),r.set(_,p)})}),r}}class xu{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(c,n,r){this.name=c,this.ast=n,this._normalizer=r,n.states.forEach(a=>{this.states.set(a.name,new lm(a.style,a.options&&a.options.params||{},r))}),Qn(this.states,"true","1"),Qn(this.states,"false","0"),n.transitions.forEach(a=>{this.transitionFactories.push(new wu(c,a,this.states))}),this.fallbackTransition=function O_(l,c){return new wu(l,{type:it.If.Transition,animation:{type:it.If.Sequence,steps:[],options:null},matchers:[(p,_)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,n,r,a){return this.transitionFactories.find(p=>p.match(c,n,r,a))||null}matchStyles(c,n,r){return this.fallbackTransition.buildStyles(c,n,r)}}function Qn(l,c,n){l.has(c)?l.has(n)||l.set(n,l.get(c)):l.has(n)&&l.set(c,l.get(n))}const cm=new yu;class dm{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(c,n,r){this.bodyNode=c,this._driver=n,this._normalizer=r}register(c,n){const r=[],h=Un(this._driver,n,r,[]);if(r.length)throw function Ft(){return new e.wOt(3503,!1)}();this._animations.set(c,h)}_buildPlayer(c,n,r){const a=c.element,h=kl(this._normalizer,c.keyframes,n,r);return this._driver.animate(a,h,c.duration,c.delay,c.easing,[],!0)}create(c,n,r={}){const a=[],h=this._animations.get(c);let p;const _=new Map;if(h?(p=am(this._driver,n,h,Lc,Fl,new Map,new Map,r,cm,a),p.forEach(Y=>{const ge=Yi(_,Y.element,new Map);Y.postStyleProps.forEach(Je=>ge.set(Je,null))})):(a.push(function pn(){return new e.wOt(3300,!1)}()),p=[]),a.length)throw function qi(){return new e.wOt(3504,!1)}();_.forEach((Y,ge)=>{Y.forEach((Je,at)=>{Y.set(at,this._driver.computeStyle(ge,at,it.kp))})});const F=ao(p.map(Y=>{const ge=_.get(Y.element);return this._buildPlayer(Y,new Map,ge)}));return this._playersById.set(c,F),F.onDestroy(()=>this.destroy(c)),this.players.push(F),F}destroy(c){const n=this._getPlayer(c);n.destroy(),this._playersById.delete(c);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(c){const n=this._playersById.get(c);if(!n)throw function js(){return new e.wOt(3301,!1)}();return n}listen(c,n,r,a){const h=ds(n,"","","");return Ol(this._getPlayer(c),r,h,a),()=>{}}command(c,n,r,a){if("register"==r)return void this.register(c,a[0]);if("create"==r)return void this.create(c,n,a[0]||{});const h=this._getPlayer(c);switch(r){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(c)}}}const $n="ng-animate-queued",$s="ng-animate-disabled",da=[],$c={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Io="__ng_removed";class jl{namespaceId;value;options;get params(){return this.options.params}constructor(c,n=""){this.namespaceId=n;const r=c&&c.hasOwnProperty("value");if(this.value=function Iu(l){return l??null}(r?c.value:c),r){const{value:h,...p}=c;this.options=p}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const n=c.params;if(n){const r=this.options.params;Object.keys(n).forEach(a=>{null==r[a]&&(r[a]=n[a])})}}}const Ll="void",$r=new jl(Ll);class um{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(c,n,r){this.id=c,this.hostElement=n,this._engine=r,this._hostClassName="ng-tns-"+c,Gr(n,this._hostClassName)}listen(c,n,r,a){if(!this._triggers.has(n))throw function Eo(){return new e.wOt(3302,!1)}();if(null==r||0==r.length)throw function Ls(){return new e.wOt(3303,!1)}();if(!function Hc(l){return"start"==l||"done"==l}(r))throw function cs(){return new e.wOt(3400,!1)}();const h=Yi(this._elementListeners,c,[]),p={name:n,phase:r,callback:a};h.push(p);const _=Yi(this._engine.statesByElement,c,new Map);return _.has(n)||(Gr(c,aa),Gr(c,aa+"-"+n),_.set(n,$r)),()=>{this._engine.afterFlush(()=>{const M=h.indexOf(p);M>=0&&h.splice(M,1),this._triggers.has(n)||_.delete(n)})}}register(c,n){return!this._triggers.has(c)&&(this._triggers.set(c,n),!0)}_getTrigger(c){const n=this._triggers.get(c);if(!n)throw function Il(){return new e.wOt(3401,!1)}();return n}trigger(c,n,r,a=!0){const h=this._getTrigger(n),p=new Gc(this.id,n,c);let _=this._engine.statesByElement.get(c);_||(Gr(c,aa),Gr(c,aa+"-"+n),this._engine.statesByElement.set(c,_=new Map));let M=_.get(n);const F=new jl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&M&&F.absorbOptions(M.options),_.set(n,F),M||(M=$r),F.value!==Ll&&M.value===F.value){if(!function ku(l,c){const n=Object.keys(l),r=Object.keys(c);if(n.length!=r.length)return!1;for(let a=0;a<n.length;a++){const h=n[a];if(!c.hasOwnProperty(h)||l[h]!==c[h])return!1}return!0}(M.params,F.params)){const bt=[],gt=h.matchStyles(M.value,M.params,bt),on=h.matchStyles(F.value,F.params,bt);bt.length?this._engine.reportError(bt):this._engine.afterFlush(()=>{mi(c,gt),ci(c,on)})}return}const Je=Yi(this._engine.playersByElement,c,[]);Je.forEach(bt=>{bt.namespaceId==this.id&&bt.triggerName==n&&bt.queued&&bt.destroy()});let at=h.matchTransition(M.value,F.value,c,F.params),dt=!1;if(!at){if(!a)return;at=h.fallbackTransition,dt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:n,transition:at,fromState:M,toState:F,player:p,isFallbackTransition:dt}),dt||(Gr(c,$n),p.onStart(()=>{Ba(c,$n)})),p.onDone(()=>{let bt=this.players.indexOf(p);bt>=0&&this.players.splice(bt,1);const gt=this._engine.playersByElement.get(c);if(gt){let on=gt.indexOf(p);on>=0&&gt.splice(on,1)}}),this.players.push(p),Je.push(p),p}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(n=>n.delete(c)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(a=>a.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const n=this._engine.playersByElement.get(c);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,n){const r=this._engine.driver.query(c,Ra,!0);r.forEach(a=>{if(a[Io])return;const h=this._engine.fetchNamespacesByElement(a);h.size?h.forEach(p=>p.triggerLeaveAnimation(a,n,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(c,n,r,a){const h=this._engine.statesByElement.get(c),p=new Map;if(h){const _=[];if(h.forEach((M,F)=>{if(p.set(F,M.value),this._triggers.has(F)){const Y=this.trigger(c,F,Ll,a);Y&&_.push(Y)}}),_.length)return this._engine.markElementAsRemoved(this.id,c,!0,n,p),r&&ao(_).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const n=this._elementListeners.get(c),r=this._engine.statesByElement.get(c);if(n&&r){const a=new Set;n.forEach(h=>{const p=h.name;if(a.has(p))return;a.add(p);const M=this._triggers.get(p).fallbackTransition,F=r.get(p)||$r,Y=new jl(Ll),ge=new Gc(this.id,p,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:p,transition:M,fromState:F,toState:Y,player:ge,isFallbackTransition:!0})})}}removeNode(c,n){const r=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,n),this.triggerLeaveAnimation(c,n,!0))return;let a=!1;if(r.totalAnimations){const h=r.players.length?r.playersByQueriedElement.get(c):[];if(h&&h.length)a=!0;else{let p=c;for(;p=p.parentNode;)if(r.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(c),a)r.markElementAsRemoved(this.id,c,!1,n);else{const h=c[Io];(!h||h===$c)&&(r.afterFlush(()=>this.clearElementCache(c)),r.destroyInnerAnimations(c),r._onRemovalComplete(c,n))}}insertNode(c,n){Gr(c,this._hostClassName)}drainQueuedTransitions(c){const n=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const h=r.element,p=this._elementListeners.get(h);p&&p.forEach(_=>{if(_.name==r.triggerName){const M=ds(h,r.triggerName,r.fromState.value,r.toState.value);M._data=c,Ol(r.player,_.phase,M,_.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):n.push(r)}),this._queue=[],n.sort((r,a)=>{const h=r.transition.ast.depCount,p=a.transition.ast.depCount;return 0==h||0==p?h-p:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(c){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class Su{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(c,n)=>{};_onRemovalComplete(c,n){this.onRemovalComplete(c,n)}constructor(c,n,r){this.bodyNode=c,this.driver=n,this._normalizer=r}get queuedPlayers(){const c=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&c.push(r)})}),c}createNamespace(c,n){const r=new um(c,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[c]=r}_balanceNamespaceList(c,n){const r=this._namespaceList,a=this.namespacesByHostElement;if(r.length-1>=0){let p=!1,_=this.driver.getParentElement(n);for(;_;){const M=a.get(_);if(M){const F=r.indexOf(M);r.splice(F+1,0,c),p=!0;break}_=this.driver.getParentElement(_)}p||r.unshift(c)}else r.push(c);return a.set(n,c),c}register(c,n){let r=this._namespaceLookup[c];return r||(r=this.createNamespace(c,n)),r}registerTrigger(c,n,r){let a=this._namespaceLookup[c];a&&a.register(n,r)&&this.totalAnimations++}destroy(c,n){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(c);this.namespacesByHostElement.delete(r.hostElement);const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1),r.destroy(n),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const n=new Set,r=this.statesByElement.get(c);if(r)for(let a of r.values())if(a.namespaceId){const h=this._fetchNamespace(a.namespaceId);h&&n.add(h)}return n}trigger(c,n,r,a){if(fs(n)){const h=this._fetchNamespace(c);if(h)return h.trigger(n,r,a),!0}return!1}insertNode(c,n,r,a){if(!fs(n))return;const h=n[Io];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const p=this.collectedLeaveElements.indexOf(n);p>=0&&this.collectedLeaveElements.splice(p,1)}if(c){const p=this._fetchNamespace(c);p&&p.insertNode(n,r)}a&&this.collectEnterElement(n)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,n){n?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Gr(c,$s)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Ba(c,$s))}removeNode(c,n,r){if(fs(n)){const a=c?this._fetchNamespace(c):null;a?a.removeNode(n,r):this.markElementAsRemoved(c,n,!1,r);const h=this.namespacesByHostElement.get(n);h&&h.id!==c&&h.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(c,n,r,a,h){this.collectedLeaveElements.push(n),n[Io]={namespaceId:c,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:h}}listen(c,n,r,a,h){return fs(n)?this._fetchNamespace(c).listen(n,r,a,h):()=>{}}_buildInstruction(c,n,r,a,h){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,r,a,c.fromState.options,c.toState.options,n,h)}destroyInnerAnimations(c){let n=this.driver.query(c,Ra,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(c,Rl,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(c){const n=this.playersByElement.get(c);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(c){const n=this.playersByQueriedElement.get(c);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return ao(this.players).onDone(()=>c());c()})}processLeaveNode(c){const n=c[Io];if(n&&n.setForRemoval){if(c[Io]=$c,n.namespaceId){this.destroyInnerAnimations(c);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(c)}this._onRemovalComplete(c,n.setForRemoval)}c.classList?.contains($s)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(c=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Gr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,c)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?ao(n).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(c){throw function Pa(){return new e.wOt(3402,!1)}()}_flushAnimations(c,n){const r=new yu,a=[],h=new Map,p=[],_=new Map,M=new Map,F=new Map,Y=new Set;this.disabledNodes.forEach(Vt=>{Y.add(Vt);const Yt=this.driver.query(Vt,".ng-animate-queued",!0);for(let nn=0;nn<Yt.length;nn++)Y.add(Yt[nn])});const ge=this.bodyNode,Je=Array.from(this.statesByElement.keys()),at=Wc(Je,this.collectedEnterElements),dt=new Map;let bt=0;at.forEach((Vt,Yt)=>{const nn=Lc+bt++;dt.set(Yt,nn),Vt.forEach(Bn=>Gr(Bn,nn))});const gt=[],on=new Set,yn=new Set;for(let Vt=0;Vt<this.collectedLeaveElements.length;Vt++){const Yt=this.collectedLeaveElements[Vt],nn=Yt[Io];nn&&nn.setForRemoval&&(gt.push(Yt),on.add(Yt),nn.hasAnimation?this.driver.query(Yt,".ng-star-inserted",!0).forEach(Bn=>on.add(Bn)):yn.add(Yt))}const Dn=new Map,Sn=Wc(Je,Array.from(on));Sn.forEach((Vt,Yt)=>{const nn=Fl+bt++;Dn.set(Yt,nn),Vt.forEach(Bn=>Gr(Bn,nn))}),c.push(()=>{at.forEach((Vt,Yt)=>{const nn=dt.get(Yt);Vt.forEach(Bn=>Ba(Bn,nn))}),Sn.forEach((Vt,Yt)=>{const nn=Dn.get(Yt);Vt.forEach(Bn=>Ba(Bn,nn))}),gt.forEach(Vt=>{this.processLeaveNode(Vt)})});const hi=[],rr=[];for(let Vt=this._namespaceList.length-1;Vt>=0;Vt--)this._namespaceList[Vt].drainQueuedTransitions(n).forEach(nn=>{const Bn=nn.player,Ae=nn.element;if(hi.push(Bn),this.collectedEnterElements.length){const Ut=Ae[Io];if(Ut&&Ut.setForMove){if(Ut.previousTriggersValues&&Ut.previousTriggersValues.has(nn.triggerName)){const _n=Ut.previousTriggersValues.get(nn.triggerName),Mn=this.statesByElement.get(nn.element);if(Mn&&Mn.has(nn.triggerName)){const fi=Mn.get(nn.triggerName);fi.value=_n,Mn.set(nn.triggerName,fi)}}return void Bn.destroy()}}const De=!ge||!this.driver.containsElement(ge,Ae),Nt=Dn.get(Ae),Qt=dt.get(Ae),$t=this._buildInstruction(nn,r,Qt,Nt,De);if($t.errors&&$t.errors.length)return void rr.push($t);if(De)return Bn.onStart(()=>mi(Ae,$t.fromStyles)),Bn.onDestroy(()=>ci(Ae,$t.toStyles)),void a.push(Bn);if(nn.isFallbackTransition)return Bn.onStart(()=>mi(Ae,$t.fromStyles)),Bn.onDestroy(()=>ci(Ae,$t.toStyles)),void a.push(Bn);const xn=[];$t.timelines.forEach(Ut=>{Ut.stretchStartingKeyframe=!0,this.disabledNodes.has(Ut.element)||xn.push(Ut)}),$t.timelines=xn,r.append(Ae,$t.timelines),p.push({instruction:$t,player:Bn,element:Ae}),$t.queriedElements.forEach(Ut=>Yi(_,Ut,[]).push(Bn)),$t.preStyleProps.forEach((Ut,_n)=>{if(Ut.size){let Mn=M.get(_n);Mn||M.set(_n,Mn=new Set),Ut.forEach((fi,ei)=>Mn.add(ei))}}),$t.postStyleProps.forEach((Ut,_n)=>{let Mn=F.get(_n);Mn||F.set(_n,Mn=new Set),Ut.forEach((fi,ei)=>Mn.add(ei))})});if(rr.length){const Vt=[];rr.forEach(Yt=>{Vt.push(function Ur(){return new e.wOt(3505,!1)}())}),hi.forEach(Yt=>Yt.destroy()),this.reportError(Vt)}const Di=new Map,Qi=new Map;p.forEach(Vt=>{const Yt=Vt.element;r.has(Yt)&&(Qi.set(Yt,Yt),this._beforeAnimationBuild(Vt.player.namespaceId,Vt.instruction,Di))}),a.forEach(Vt=>{const Yt=Vt.element;this._getPreviousPlayers(Yt,!1,Vt.namespaceId,Vt.triggerName,null).forEach(Bn=>{Yi(Di,Yt,[]).push(Bn),Bn.destroy()})});const ho=gt.filter(Vt=>hm(Vt,M,F)),xa=new Map;Wo(xa,this.driver,yn,F,it.kp).forEach(Vt=>{hm(Vt,M,F)&&ho.push(Vt)});const es=new Map;at.forEach((Vt,Yt)=>{Wo(es,this.driver,new Set(Vt),M,it.FX)}),ho.forEach(Vt=>{const Yt=xa.get(Vt),nn=es.get(Vt);xa.set(Vt,new Map([...Yt?.entries()??[],...nn?.entries()??[]]))});const Ma=[],wc=[],Sa={};p.forEach(Vt=>{const{element:Yt,player:nn,instruction:Bn}=Vt;if(r.has(Yt)){if(Y.has(Yt))return nn.onDestroy(()=>ci(Yt,Bn.toStyles)),nn.disabled=!0,nn.overrideTotalTime(Bn.totalTime),void a.push(nn);let Ae=Sa;if(Qi.size>1){let Nt=Yt;const Qt=[];for(;Nt=Nt.parentNode;){const $t=Qi.get(Nt);if($t){Ae=$t;break}Qt.push(Nt)}Qt.forEach($t=>Qi.set($t,Ae))}const De=this._buildAnimation(nn.namespaceId,Bn,Di,h,es,xa);if(nn.setRealPlayer(De),Ae===Sa)Ma.push(nn);else{const Nt=this.playersByElement.get(Ae);Nt&&Nt.length&&(nn.parentPlayer=ao(Nt)),a.push(nn)}}else mi(Yt,Bn.fromStyles),nn.onDestroy(()=>ci(Yt,Bn.toStyles)),wc.push(nn),Y.has(Yt)&&a.push(nn)}),wc.forEach(Vt=>{const Yt=h.get(Vt.element);if(Yt&&Yt.length){const nn=ao(Yt);Vt.setRealPlayer(nn)}}),a.forEach(Vt=>{Vt.parentPlayer?Vt.syncPlayerEvents(Vt.parentPlayer):Vt.destroy()});for(let Vt=0;Vt<gt.length;Vt++){const Yt=gt[Vt],nn=Yt[Io];if(Ba(Yt,Fl),nn&&nn.hasAnimation)continue;let Bn=[];if(_.size){let De=_.get(Yt);De&&De.length&&Bn.push(...De);let Nt=this.driver.query(Yt,Rl,!0);for(let Qt=0;Qt<Nt.length;Qt++){let $t=_.get(Nt[Qt]);$t&&$t.length&&Bn.push(...$t)}}const Ae=Bn.filter(De=>!De.destroyed);Ae.length?an(this,Yt,Ae):this.processLeaveNode(Yt)}return gt.length=0,Ma.forEach(Vt=>{this.players.push(Vt),Vt.onDone(()=>{Vt.destroy();const Yt=this.players.indexOf(Vt);this.players.splice(Yt,1)}),Vt.play()}),Ma}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,n,r,a,h){let p=[];if(n){const _=this.playersByQueriedElement.get(c);_&&(p=_)}else{const _=this.playersByElement.get(c);if(_){const M=!h||h==Ll;_.forEach(F=>{F.queued||!M&&F.triggerName!=a||p.push(F)})}}return(r||a)&&(p=p.filter(_=>!(r&&r!=_.namespaceId||a&&a!=_.triggerName))),p}_beforeAnimationBuild(c,n,r){const h=n.element,p=n.isRemovalTransition?void 0:c,_=n.isRemovalTransition?void 0:n.triggerName;for(const M of n.timelines){const F=M.element,Y=F!==h,ge=Yi(r,F,[]);this._getPreviousPlayers(F,Y,p,_,n.toState).forEach(at=>{const dt=at.getRealPlayer();dt.beforeDestroy&&dt.beforeDestroy(),at.destroy(),ge.push(at)})}mi(h,n.fromStyles)}_buildAnimation(c,n,r,a,h,p){const _=n.triggerName,M=n.element,F=[],Y=new Set,ge=new Set,Je=n.timelines.map(dt=>{const bt=dt.element;Y.add(bt);const gt=bt[Io];if(gt&&gt.removedBeforeQueried)return new it.sf(dt.duration,dt.delay);const on=bt!==M,yn=function Xc(l){const c=[];return Kc(l,c),c}((r.get(bt)||da).map(Di=>Di.getRealPlayer())).filter(Di=>!!Di.element&&Di.element===bt),Dn=h.get(bt),Sn=p.get(bt),hi=kl(this._normalizer,dt.keyframes,Dn,Sn),rr=this._buildPlayer(dt,hi,yn);if(dt.subTimeline&&a&&ge.add(bt),on){const Di=new Gc(c,_,bt);Di.setRealPlayer(rr),F.push(Di)}return rr});F.forEach(dt=>{Yi(this.playersByQueriedElement,dt.element,[]).push(dt),dt.onDone(()=>function Bl(l,c,n){let r=l.get(c);if(r){if(r.length){const a=r.indexOf(n);r.splice(a,1)}0==r.length&&l.delete(c)}return r}(this.playersByQueriedElement,dt.element,dt))}),Y.forEach(dt=>Gr(dt,Bc));const at=ao(Je);return at.onDestroy(()=>{Y.forEach(dt=>Ba(dt,Bc)),ci(M,n.toStyles)}),ge.forEach(dt=>{Yi(a,dt,[]).push(at)}),at}_buildPlayer(c,n,r){return n.length>0?this.driver.animate(c.element,n,c.duration,c.delay,c.easing,r):new it.sf(c.duration,c.delay)}}class Gc{namespaceId;triggerName;element;_player=new it.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(c,n,r){this.namespaceId=c,this.triggerName=n,this.element=r}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((n,r)=>{n.forEach(a=>Ol(c,r,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const n=this._player;n.triggerCallback&&c.onStart(()=>n.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,n){Yi(this._queuedCallbacks,c,[]).push(n)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const n=this._player;n.triggerCallback&&n.triggerCallback(c)}}function fs(l){return l&&1===l.nodeType}function zc(l,c){const n=l.style.display;return l.style.display=c??"none",n}function Wo(l,c,n,r,a){const h=[];n.forEach(M=>h.push(zc(M)));const p=[];r.forEach((M,F)=>{const Y=new Map;M.forEach(ge=>{const Je=c.computeStyle(F,ge,a);Y.set(ge,Je),(!Je||0==Je.length)&&(F[Io]=Nr,p.push(F))}),l.set(F,Y)});let _=0;return n.forEach(M=>zc(M,h[_++])),p}function Wc(l,c){const n=new Map;if(l.forEach(_=>n.set(_,[])),0==c.length)return n;const a=new Set(c),h=new Map;function p(_){if(!_)return 1;let M=h.get(_);if(M)return M;const F=_.parentNode;return M=n.has(F)?F:a.has(F)?1:p(F),h.set(_,M),M}return c.forEach(_=>{const M=p(_);1!==M&&n.get(M).push(_)}),n}function Gr(l,c){l.classList?.add(c)}function Ba(l,c){l.classList?.remove(c)}function an(l,c,n){ao(n).onDone(()=>l.processLeaveNode(c))}function Kc(l,c){for(let n=0;n<l.length;n++){const r=l[n];r instanceof it.PZ?Kc(r.players,c):c.push(r)}}function hm(l,c,n){const r=n.get(l);if(!r)return!1;let a=c.get(l);return a?r.forEach(h=>a.add(h)):c.set(l,r),n.delete(l),!0}class Vl{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(c,n)=>{};constructor(c,n,r){this._driver=n,this._normalizer=r,this._transitionEngine=new Su(c.body,n,r),this._timelineEngine=new dm(c.body,n,r),this._transitionEngine.onRemovalComplete=(a,h)=>this.onRemovalComplete(a,h)}registerTrigger(c,n,r,a,h){const p=c+"-"+a;let _=this._triggerCache[p];if(!_){const M=[],Y=Un(this._driver,h,M,[]);if(M.length)throw function B(){return new e.wOt(3404,!1)}();_=function k_(l,c,n){return new xu(l,c,n)}(a,Y,this._normalizer),this._triggerCache[p]=_}this._transitionEngine.registerTrigger(n,a,_)}register(c,n){this._transitionEngine.register(c,n)}destroy(c,n){this._transitionEngine.destroy(c,n)}onInsert(c,n,r,a){this._transitionEngine.insertNode(c,n,r,a)}onRemove(c,n,r){this._transitionEngine.removeNode(c,n,r)}disableAnimations(c,n){this._transitionEngine.markElementAsDisabled(c,n)}process(c,n,r,a){if("@"==r.charAt(0)){const[h,p]=Nc(r);this._timelineEngine.command(h,n,p,a)}else this._transitionEngine.trigger(c,n,r,a)}listen(c,n,r,a,h){if("@"==r.charAt(0)){const[p,_]=Nc(r);return this._timelineEngine.listen(p,n,_,h)}return this._transitionEngine.listen(c,n,r,a,h)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let Ou=(()=>{class l{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,r,a){this._element=n,this._startStyles=r,this._endStyles=a;let h=l.initialStylesByElement.get(n);h||l.initialStylesByElement.set(n,h=new Map),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&ci(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ci(this._element,this._initialStyles),this._endStyles&&(ci(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(mi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mi(this._element,this._endStyles),this._endStyles=null),ci(this._element,this._initialStyles),this._state=3)}}return l})();function ms(l){let c=null;return l.forEach((n,r)=>{(function F_(l){return"display"===l||"position"===l})(r)&&(c=c||new Map,c.set(r,n))}),c}class fm{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(c,n,r,a){this.element=c,this.keyframes=n,this.options=r,this._specialStyles=a,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const n=[];return c.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(c,n,r){return c.animate(this._convertKeyframesToObject(n),r)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,a)=>{"offset"!==a&&c.set(a,this._finished?r:Go(this.element,a))}),this.currentSnapshot=c}triggerCallback(c){const n="start"===c?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class mm{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}containsElement(c,n){return jc(c,n)}getParentElement(c){return Bs(c)}query(c,n,r){return ki(c,n,r)}computeStyle(c,n,r){return Go(c,n)}animate(c,n,r,a,h,p=[]){const M={duration:r,delay:a,fill:0==a?"both":"forwards"};h&&(M.easing=h);const F=new Map,Y=p.filter(at=>at instanceof fm);(function hs(l,c){return 0===l||0===c})(r,a)&&Y.forEach(at=>{at.currentSnapshot.forEach((dt,bt)=>F.set(bt,dt))});let ge=function Kt(l){return l.length?l[0]instanceof Map?l:l.map(c=>new Map(Object.entries(c))):[]}(n).map(at=>new Map(at));ge=function pi(l,c,n){if(n.size&&c.length){let r=c[0],a=[];if(n.forEach((h,p)=>{r.has(p)||a.push(p),r.set(p,h)}),a.length)for(let h=1;h<c.length;h++){let p=c[h];a.forEach(_=>p.set(_,Go(l,_)))}}return c}(c,ge,F);const Je=function P_(l,c){let n=null,r=null;return Array.isArray(c)&&c.length?(n=ms(c[0]),c.length>1&&(r=ms(c[c.length-1]))):c instanceof Map&&(n=ms(c)),n||r?new Ou(l,n,r):null}(c,ge);return new fm(c,ge,M,Je)}}const rn="@.disabled";class Tu{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(c,n,r,a){this.namespaceId=c,this.delegate=n,this.engine=r,this._onDestroy=a}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,n){return this.delegate.createElement(c,n)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,n){this.delegate.appendChild(c,n),this.engine.onInsert(this.namespaceId,n,c,!1)}insertBefore(c,n,r,a=!0){this.delegate.insertBefore(c,n,r),this.engine.onInsert(this.namespaceId,n,c,a)}removeChild(c,n,r){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(c,n){return this.delegate.selectRootElement(c,n)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,n,r,a){this.delegate.setAttribute(c,n,r,a)}removeAttribute(c,n,r){this.delegate.removeAttribute(c,n,r)}addClass(c,n){this.delegate.addClass(c,n)}removeClass(c,n){this.delegate.removeClass(c,n)}setStyle(c,n,r,a){this.delegate.setStyle(c,n,r,a)}removeStyle(c,n,r){this.delegate.removeStyle(c,n,r)}setProperty(c,n,r){"@"==n.charAt(0)&&n==rn?this.disableAnimations(c,!!r):this.delegate.setProperty(c,n,r)}setValue(c,n){this.delegate.setValue(c,n)}listen(c,n,r,a){return this.delegate.listen(c,n,r,a)}disableAnimations(c,n){this.engine.disableAnimations(c,n)}}class pm extends Tu{factory;constructor(c,n,r,a,h){super(n,r,a,h),this.factory=c,this.namespaceId=n}setProperty(c,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==rn?this.disableAnimations(c,r=void 0===r||!!r):this.engine.process(this.namespaceId,c,n.slice(1),r):this.delegate.setProperty(c,n,r)}listen(c,n,r,a){if("@"==n.charAt(0)){const h=function Tn(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(c);let p=n.slice(1),_="";return"@"!=p.charAt(0)&&([p,_]=function gm(l){const c=l.indexOf(".");return[l.substring(0,c),l.slice(c+1)]}(p)),this.engine.listen(this.namespaceId,h,p,_,M=>{this.factory.scheduleListenerCallback(M._data||-1,r,M)})}return this.delegate.listen(c,n,r,a)}}class Ul{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(c,n,r){this.delegate=c,this.engine=n,this._zone=r,n.onRemovalComplete=(a,h)=>{h?.removeChild(null,a)}}createRenderer(c,n){const a=this.delegate.createRenderer(c,n);if(!c||!n?.data?.animation){const F=this._rendererCache;let Y=F.get(a);return Y||(Y=new Tu("",a,this.engine,()=>F.delete(a)),F.set(a,Y)),Y}const h=n.id,p=n.id+"-"+this._currentId;this._currentId++,this.engine.register(p,c);const _=F=>{Array.isArray(F)?F.forEach(_):this.engine.registerTrigger(h,p,c,F.name,F)};return n.data.animation.forEach(_),new pm(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,n,r){if(c>=0&&c<this._microtaskId)return void this._zone.run(()=>n(r));const a=this._animationCallbacksBuffer;0==a.length&&queueMicrotask(()=>{this._zone.run(()=>{a.forEach(h=>{const[p,_]=h;p(_)}),this._animationCallbacksBuffer=[]})}),a.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(c){this.engine.flush(),this.delegate.componentReplaced?.(c)}}const Ru=[{provide:Na,useFactory:function Pu(){return new zo}},{provide:Vl,useClass:(()=>{class l extends Vl{constructor(n,r,a){super(n,r,a)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||l)(e.KVO(me.q),e.KVO(Ho),e.KVO(Na))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})()},{provide:e._9s,useFactory:function Fu(l,c,n){return new Ul(l,c,n)},deps:[Wi,Vl,e.SKi]}],RC=[{provide:Ho,useFactory:()=>new mm},{provide:e.bc$,useFactory:()=>"BrowserAnimations"},...Ru];var Bt=D(467),kt=D(1594),zr=D(4412),Ct=D(6648);const Yc=new e.nKC("Stripe Publishable Key"),Uu=new e.nKC("Stripe Options"),Qc=new e.nKC("NGX_STRIPE_VERSION");class Zc{version;loader;window;key;options;stripe$=new zr.t(void 0);stripe=this.stripe$.asObservable().pipe((0,Le.p)(c=>!!c));constructor(c,n,r,a,h){this.version=c,this.loader=n,this.window=r,this.key=a,this.options=h,this.loader.asStream().pipe((0,Le.p)(p=>!0===p.loaded),(0,kt.$)(),(0,U.T)(()=>this.window.getNativeWindow().Stripe)).subscribe(p=>{const _=this.options?p(this.key,this.options):p(this.key);_.registerAppInfo(this.getNgxStripeAppInfo(this.version)),this.stripe$.next(_)})}getInstance(){return this.stripe$.getValue()}elements(c){return this.stripe.pipe((0,U.T)(n=>n.elements(c)),(0,kt.$)())}redirectToCheckout(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.redirectToCheckout(c))),(0,kt.$)())}confirmPayment(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.confirmPayment(c))),(0,kt.$)())}confirmAcssDebitPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmAcssDebitPayment(c,n,r))),(0,kt.$)())}confirmUsBankAccountPayment(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmUsBankAccountPayment(c,n))),(0,kt.$)())}confirmAlipayPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmAlipayPayment(c,n,r))),(0,kt.$)())}confirmAuBecsDebitPayment(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmAuBecsDebitPayment(c,n))),(0,kt.$)())}confirmBancontactPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmBancontactPayment(c,n,r))),(0,kt.$)())}confirmBlikPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmBlikPayment(c,n,r))),(0,kt.$)())}confirmBoletoPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmBoletoPayment(c,n,r))),(0,kt.$)())}confirmCardPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmCardPayment(c,n,r))),(0,kt.$)())}confirmCashappPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmCashappPayment(c,n,r))),(0,kt.$)())}confirmCustomerBalancePayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmCustomerBalancePayment(c,n,r))),(0,kt.$)())}confirmEpsPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmEpsPayment(c,n,r))),(0,kt.$)())}confirmFpxPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmFpxPayment(c,n,r))),(0,kt.$)())}confirmGiropayPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmGiropayPayment(c,n,r))),(0,kt.$)())}confirmGrabPayPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmGrabPayPayment(c,n,r))),(0,kt.$)())}confirmIdealPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmIdealPayment(c,n,r))),(0,kt.$)())}confirmKlarnaPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmKlarnaPayment(c,n,r))),(0,kt.$)())}confirmKonbiniPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmKonbiniPayment(c,n,r))),(0,kt.$)())}confirmMobilepayPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmMobilepayPayment(c,n,r))),(0,kt.$)())}confirmMultibancoPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmMultibancoPayment(c,n,r))),(0,kt.$)())}confirmOxxoPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmOxxoPayment(c,n,r))),(0,kt.$)())}confirmP24Payment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmP24Payment(c,n,r))),(0,kt.$)())}confirmPayNowPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmPayNowPayment(c,n,r))),(0,kt.$)())}confirmPayPalPayment(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmPayPalPayment(c,n))),(0,kt.$)())}confirmPixPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmPixPayment(c,n,r))),(0,kt.$)())}confirmPromptPayPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmPromptPayPayment(c,n,r))),(0,kt.$)())}confirmSepaDebitPayment(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmSepaDebitPayment(c,n))),(0,kt.$)())}confirmSofortPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmSofortPayment(c,n,r))),(0,kt.$)())}confirmTwintPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmTwintPayment(c,n,r))),(0,kt.$)())}confirmWechatPayPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmWechatPayPayment(c,n,r))),(0,kt.$)())}handleCardAction(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.handleCardAction(c))),(0,kt.$)())}handleNextAction(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.handleNextAction(c))),(0,kt.$)())}verifyMicrodepositsForPayment(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.verifyMicrodepositsForPayment(c,n))),(0,kt.$)())}createRadarSession(){return this.stripe.pipe((0,L.n)(c=>(0,Ct.H)(c.createRadarSession())),(0,kt.$)())}collectBankAccountForPayment(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.collectBankAccountForPayment(c))),(0,kt.$)())}createPaymentMethod(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.createPaymentMethod(c))),(0,kt.$)())}createConfirmationToken(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.createConfirmationToken(c))),(0,kt.$)())}retrievePaymentIntent(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.retrievePaymentIntent(c))),(0,kt.$)())}confirmSetup(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.confirmSetup(c))),(0,kt.$)())}confirmAcssDebitSetup(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmAcssDebitSetup(c,n,r))),(0,kt.$)())}confirmUsBankAccountSetup(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmUsBankAccountSetup(c,n))),(0,kt.$)())}confirmAuBecsDebitSetup(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmAuBecsDebitSetup(c,n))),(0,kt.$)())}confirmBacsDebitSetup(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmBacsDebitSetup(c,n))),(0,kt.$)())}confirmBancontactSetup(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmBancontactSetup(c,n))),(0,kt.$)())}confirmCardSetup(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmCardSetup(c,n,r))),(0,kt.$)())}confirmCashappSetup(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmCashappSetup(c,n,r))),(0,kt.$)())}confirmIdealSetup(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmIdealSetup(c,n))),(0,kt.$)())}confirmPayPalSetup(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmPayPalSetup(c,n))),(0,kt.$)())}confirmSepaDebitSetup(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.confirmSepaDebitSetup(c,n))),(0,kt.$)())}confirmSofortSetup(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmSofortSetup(c,n,r))),(0,kt.$)())}confirmAffirmPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmAffirmPayment(c,n,r))),(0,kt.$)())}confirmAfterpayClearpayPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmAfterpayClearpayPayment(c,n,r))),(0,kt.$)())}verifyMicrodepositsForSetup(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.verifyMicrodepositsForSetup(c,n))),(0,kt.$)())}collectBankAccountForSetup(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.collectBankAccountForSetup(c))),(0,kt.$)())}retrieveSetupIntent(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.retrieveSetupIntent(c))),(0,kt.$)())}processOrder(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.processOrder(c))),(0,kt.$)())}retrieveOrder(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.retrieveOrder(c))),(0,kt.$)())}paymentRequest(c){return this.getInstance().paymentRequest(c)}createToken(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.createToken(c,n))),(0,kt.$)())}createSource(c,n){return this.stripe.pipe((0,L.n)(r=>(0,Ct.H)(r.createSource(c,n))),(0,kt.$)())}retrieveSource(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.retrieveSource(c))),(0,kt.$)())}verifyIdentity(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.verifyIdentity(c))),(0,kt.$)())}collectFinancialConnectionsAccounts(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.collectFinancialConnectionsAccounts(c))),(0,kt.$)())}collectBankAccountToken(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.collectBankAccountToken(c))),(0,kt.$)())}createEphemeralKeyNonce(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.createEphemeralKeyNonce(c))),(0,kt.$)())}initCheckout(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.initCheckout(c))),(0,kt.$)())}initEmbeddedCheckout(c){return this.stripe.pipe((0,L.n)(n=>(0,Ct.H)(n.initEmbeddedCheckout(c))),(0,kt.$)())}handleCardPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.handleCardPayment(c,n,r))),(0,kt.$)())}confirmPaymentIntent(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmPaymentIntent(c,n,r))),(0,kt.$)())}handleCardSetup(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.handleCardSetup(c,n,r))),(0,kt.$)())}confirmSetupIntent(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.confirmSetupIntent(c,n,r))),(0,kt.$)())}handleFpxPayment(c,n,r){return this.stripe.pipe((0,L.n)(a=>(0,Ct.H)(a.handleFpxPayment(c,n,r))),(0,kt.$)())}getNgxStripeAppInfo(c){return{name:"ngx-stripe",url:"https://ngx-stripe.dev",partner_id:"pp_partner_JR4l1rmvUoPP4V",version:c}}}let Gs=(()=>{class l{platformId;constructor(n){this.platformId=n}getNativeWindow(){return(0,ar.UE)(this.platformId)?window:{}}static \u0275fac=function(r){return new(r||l)(e.KVO(e.Agw))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})(),Oo=(()=>{class l{platformId;constructor(n){this.platformId=n}getNativeDocument(){return(0,ar.UE)(this.platformId)?document:{}}static \u0275fac=function(r){return new(r||l)(e.KVO(e.Agw))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})(),$u=(()=>{class l{platformId;window;document;zone;status=new zr.t({error:!1,loaded:!1,loading:!1});constructor(n,r,a,h){this.platformId=n,this.window=r,this.document=a,this.zone=h}asStream(){return this.load(),this.status.asObservable()}isReady(){return this.status.getValue().loaded}load(){if((0,ar.Vy)(this.platformId))return;const n=this.window.getNativeWindow(),{loaded:r,loading:a,error:h}=this.status.getValue();n.hasOwnProperty("Stripe")?this.status.next({loaded:!0,loading:!1,error:!1}):!r&&!a&&(this.status.next({loaded:!1,loading:!0,error:h}),this.zone.runOutsideAngular(()=>this.injectScript()))}injectScript(){const n=this.document.getNativeDocument().createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src="https://js.stripe.com/basil/stripe.js",n.onload=()=>{this.zone.run(()=>{this.status.next({loaded:!0,loading:!1,error:!1})})},n.onerror=()=>{this.zone.run(()=>{this.status.next({loaded:!1,loading:!1,error:!0})})},this.document.getNativeDocument().body.appendChild(n)}static \u0275fac=function(r){return new(r||l)(e.KVO(e.Agw),e.KVO(Gs),e.KVO(Oo),e.KVO(e.SKi))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})(),Va=(()=>{class l{version;key;options;loader;window;stripe;constructor(n,r,a,h,p){this.version=n,this.key=r,this.options=a,this.loader=h,this.window=p,r&&(this.stripe=new Zc(this.version,this.loader,this.window,r,a))}getStripeReference(){return this.loader.asStream().pipe((0,Le.p)(n=>!0===n.loaded),(0,U.T)(()=>this.window.getNativeWindow().Stripe))}getInstance(){return this.stripe.getInstance()}setKey(n,r){return this.changeKey(n,r)}changeKey(n,r){return this.stripe=new Zc(this.version,this.loader,this.window,n,r),this.stripe}elements(n){return this.stripe.elements(n)}redirectToCheckout(n){return this.stripe.redirectToCheckout(n)}confirmPayment(n){return this.stripe.confirmPayment(n)}confirmAcssDebitPayment(n,r,a){return this.stripe.confirmAcssDebitPayment(n,r,a)}confirmUsBankAccountPayment(n,r){return this.stripe.confirmUsBankAccountPayment(n,r)}confirmAlipayPayment(n,r,a){return this.stripe.confirmAlipayPayment(n,r,a)}confirmAuBecsDebitPayment(n,r){return this.stripe.confirmAuBecsDebitPayment(n,r)}confirmBancontactPayment(n,r,a){return this.stripe.confirmBancontactPayment(n,r,a)}confirmBlikPayment(n,r,a){return this.stripe.confirmBlikPayment(n,r,a)}confirmBoletoPayment(n,r,a){return this.stripe.confirmBoletoPayment(n,r,a)}confirmCardPayment(n,r,a){return this.stripe.confirmCardPayment(n,r,a)}confirmCashappPayment(n,r,a){return this.stripe.confirmCashappPayment(n,r,a)}confirmCustomerBalancePayment(n,r,a){return this.stripe.confirmCustomerBalancePayment(n,r,a)}confirmEpsPayment(n,r,a){return this.stripe.confirmEpsPayment(n,r,a)}confirmFpxPayment(n,r,a){return this.stripe.confirmFpxPayment(n,r,a)}confirmGiropayPayment(n,r,a){return this.stripe.confirmGiropayPayment(n,r,a)}confirmGrabPayPayment(n,r,a){return this.stripe.confirmGrabPayPayment(n,r,a)}confirmIdealPayment(n,r,a){return this.stripe.confirmIdealPayment(n,r,a)}confirmKlarnaPayment(n,r,a){return this.stripe.confirmKlarnaPayment(n,r,a)}confirmKonbiniPayment(n,r,a){return this.stripe.confirmKonbiniPayment(n,r,a)}confirmMobilepayPayment(n,r,a){return this.stripe.confirmMobilepayPayment(n,r,a)}confirmMultibancoPayment(n,r,a){return this.stripe.confirmMultibancoPayment(n,r,a)}confirmOxxoPayment(n,r,a){return this.stripe.confirmOxxoPayment(n,r,a)}confirmP24Payment(n,r,a){return this.stripe.confirmP24Payment(n,r,a)}confirmPayNowPayment(n,r,a){return this.stripe.confirmPayNowPayment(n,r,a)}confirmPayPalPayment(n,r){return this.stripe.confirmPayPalPayment(n,r)}confirmPixPayment(n,r,a){return this.stripe.confirmPixPayment(n,r,a)}confirmPromptPayPayment(n,r,a){return this.stripe.confirmPromptPayPayment(n,r,a)}confirmSepaDebitPayment(n,r){return this.stripe.confirmSepaDebitPayment(n,r)}confirmSofortPayment(n,r,a){return this.stripe.confirmSofortPayment(n,r,a)}confirmTwintPayment(n,r,a){return this.stripe.confirmTwintPayment(n,r,a)}confirmWechatPayPayment(n,r,a){return this.stripe.confirmWechatPayPayment(n,r,a)}handleCardAction(n){return this.stripe.handleCardAction(n)}handleNextAction(n){return this.stripe.handleNextAction(n)}verifyMicrodepositsForPayment(n,r){return this.stripe.verifyMicrodepositsForPayment(n,r)}createRadarSession(){return this.stripe.createRadarSession()}collectBankAccountForPayment(n){return this.stripe.collectBankAccountForPayment(n)}createPaymentMethod(n){return this.stripe.createPaymentMethod(n)}createConfirmationToken(n){return this.stripe.createConfirmationToken(n)}retrievePaymentIntent(n){return this.stripe.retrievePaymentIntent(n)}confirmSetup(n){return this.stripe.confirmSetup(n)}confirmAcssDebitSetup(n,r,a){return this.stripe.confirmAcssDebitSetup(n,r,a)}confirmUsBankAccountSetup(n,r){return this.stripe.confirmUsBankAccountSetup(n,r)}confirmAuBecsDebitSetup(n,r){return this.stripe.confirmAuBecsDebitSetup(n,r)}confirmBacsDebitSetup(n,r){return this.stripe.confirmBacsDebitSetup(n,r)}confirmBancontactSetup(n,r){return this.stripe.confirmBancontactSetup(n,r)}confirmCardSetup(n,r,a){return this.stripe.confirmCardSetup(n,r,a)}confirmCashappSetup(n,r,a){return this.stripe.confirmCashappSetup(n,r,a)}confirmIdealSetup(n,r){return this.stripe.confirmIdealSetup(n,r)}confirmPayPalSetup(n,r){return this.stripe.confirmPayPalSetup(n,r)}confirmSepaDebitSetup(n,r){return this.stripe.confirmSepaDebitSetup(n,r)}confirmSofortSetup(n,r,a){return this.stripe.confirmSofortSetup(n,r,a)}confirmAffirmPayment(n,r,a){return this.stripe.confirmAffirmPayment(n,r,a)}confirmAfterpayClearpayPayment(n,r,a){return this.stripe.confirmAfterpayClearpayPayment(n,r,a)}verifyMicrodepositsForSetup(n,r){return this.stripe.verifyMicrodepositsForSetup(n,r)}collectBankAccountForSetup(n){return this.stripe.collectBankAccountForSetup(n)}retrieveSetupIntent(n){return this.stripe.retrieveSetupIntent(n)}processOrder(n){return this.stripe.processOrder(n)}retrieveOrder(n){return this.stripe.retrieveOrder(n)}paymentRequest(n){return this.stripe.paymentRequest(n)}createToken(n,r){return this.stripe.createToken(n,r)}createSource(n,r){return this.stripe.createSource(n,r)}retrieveSource(n){return this.stripe.retrieveSource(n)}verifyIdentity(n){return this.stripe.verifyIdentity(n)}collectFinancialConnectionsAccounts(n){return this.stripe.collectFinancialConnectionsAccounts(n)}collectBankAccountToken(n){return this.stripe.collectBankAccountToken(n)}createEphemeralKeyNonce(n){return this.stripe.createEphemeralKeyNonce(n)}initCheckout(n){return this.stripe.initCheckout(n)}initEmbeddedCheckout(n){return this.stripe.initEmbeddedCheckout(n)}handleCardPayment(n,r,a){return this.stripe.handleCardPayment(n,r,a)}confirmPaymentIntent(n,r,a){return this.stripe.confirmPaymentIntent(n,r,a)}handleCardSetup(n,r,a){return this.stripe.handleCardSetup(n,r,a)}confirmSetupIntent(n,r,a){return this.stripe.confirmSetupIntent(n,r,a)}handleFpxPayment(n,r,a){return this.stripe.handleFpxPayment(n,r,a)}static \u0275fac=function(r){return new(r||l)(e.KVO(Qc),e.KVO(Yc),e.KVO(Uu),e.KVO($u),e.KVO(Gs))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})(),oi=(()=>{class l{stripeService;constructor(n){this.stripeService=n}elements(n,r={}){return n?Object.keys(r).length>0?n.elements(r):n.elements():Object.keys(r).length>0?this.stripeService.elements(r):this.stripeService.elements()}paymentRequest(n,r){return n?n.paymentRequest(r):this.stripeService.paymentRequest(r)}mergeOptions(n,r){return!r||n&&n.classes||n&&n.classes?n||{}:{...n||{},classes:{base:r,complete:`${r}--complete`,empty:`${r}--empty`,focus:`${r}--focus`,invalid:`${r}--invalid`,webkitAutoFill:`${r}--webkit-autoFill`}}}static \u0275fac=function(r){return new(r||l)(e.KVO(Va))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})(),zl=(()=>{class l{version;baseKey;baseOptions;loader;window;constructor(n,r,a,h,p){this.version=n,this.baseKey=r,this.baseOptions=a,this.loader=h,this.window=p}create(n,r){if(!n&&!this.baseKey)throw new Error("No key defined! Either you need to pass it as a parameter or define it when you call NgxStripeModule.forRoot()");return new Zc(this.version,this.loader,this.window,n||this.baseKey,r||this.baseOptions)}static \u0275fac=function(r){return new(r||l)(e.KVO(Qc),e.KVO(Yc),e.KVO(Uu),e.KVO($u),e.KVO(Gs))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})();function W_(l,c){return[$u,Va,zl,oi,Gs,Oo,{provide:Yc,useValue:l},{provide:Uu,useValue:c},{provide:Qc,useValue:"19.7.0"}]}var ur=D(5312);let Yu=(()=>{class l{static \u0275prov=(0,e.jDH)({token:l,providedIn:"root",factory:()=>new K_((0,e.WQX)(me.q),window)})}return l})();class K_{document;window;offset=()=>[0,0];constructor(c,n){this.document=c,this.window=n}setOffset(c){this.offset=Array.isArray(c)?()=>c:c}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(c){this.window.scrollTo(c[0],c[1])}scrollToAnchor(c){const n=function Tm(l,c){const n=l.getElementById(c)||l.getElementsByName(c)[0];if(n)return n;if("function"==typeof l.createTreeWalker&&l.body&&"function"==typeof l.body.attachShadow){const r=l.createTreeWalker(l.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const h=a.shadowRoot;if(h){const p=h.getElementById(c)||h.querySelector(`[name="${c}"]`);if(p)return p}a=r.nextNode()}}return null}(this.document,c);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(c){this.window.history.scrollRestoration=c}scrollToElement(c){const n=c.getBoundingClientRect(),r=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(r-h[0],a-h[1])}}var Mt=D(5106),sd=D(6365),Cv=D(274),rh=D(1397);let To=(()=>{class l{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Me.B;constructor(n,r,a,h,p,_){this.router=n,this.route=r,this.tabIndexAttribute=a,this.renderer=h,this.el=p,this.locationStrategy=_;const M=p.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===M||"area"===M,this.isAnchorElement?this.subscription=n.events.subscribe(F=>{F instanceof Mt.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,Mt.wO)(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,a,h,p){const _=this.urlTree;return!!(null===_||this.isAnchorElement&&(0!==n||r||a||h||p||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(_,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:(0,e.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const a=this.renderer,h=this.el.nativeElement;null!==r?a.setAttribute(h,n,r):a.removeAttribute(h,n)}get urlTree(){return null===this.routerLinkInput?null:(0,Mt.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(Mt.nX),e.kS0("tabindex"),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(Bi.hb))};static \u0275dir=e.FsC({type:l,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,a){1&r&&e.bIt("click",function(p){return a.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),2&r&&e.BMQ("target",a.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",e.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",e.L39],replaceUrl:[2,"replaceUrl","replaceUrl",e.L39],routerLink:"routerLink"},features:[e.OA$]})}return l})(),ad=(()=>{class l{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new e.bkB;constructor(n,r,a,h,p){this.router=n,this.element=r,this.renderer=a,this.cdr=h,this.link=p,this.routerEventsSubscription=n.events.subscribe(_=>{_ instanceof Mt.wF&&this.update()})}ngAfterContentInit(){(0,zt.of)(this.links.changes,(0,zt.of)(null)).pipe((0,sd.U)()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Ct.H)(n).pipe((0,sd.U)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(a=>!!a)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function Ev(l){return!!l.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>{const h=a.urlTree;return!!h&&n.isActive(h,r)}}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(To,8))};static \u0275dir=e.FsC({type:l,selectors:[["","routerLinkActive",""]],contentQueries:function(r,a,h){if(1&r&&e.wni(h,To,5),2&r){let p;e.mGM(p=e.lsd())&&(a.links=p)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[e.OA$]})}return l})();class Hm{}let Wm=(()=>{class l{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,a,h){this.router=n,this.injector=r,this.preloadingStrategy=a,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe((0,Le.p)(n=>n instanceof Mt.wF),(0,Cv.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const a=[];for(const h of r){h.providers&&!h._injector&&(h._injector=(0,e.Ol2)(h.providers,n,`Route: ${h.path}`));const p=h._injector??n,_=h._loadedInjector??p;(h.loadChildren&&!h._loadedRoutes&&void 0===h.canLoad||h.loadComponent&&!h._loadedComponent)&&a.push(this.preloadConfig(p,h)),(h.children||h._loadedRoutes)&&a.push(this.processRoutes(_,h.children??h._loadedRoutes))}return(0,Ct.H)(a).pipe((0,sd.U)())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let a;a=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):(0,zt.of)(null);const h=a.pipe((0,rh.Z)(p=>null===p?(0,zt.of)(void 0):(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,this.processRoutes(p.injector??n,p.routes))));if(r.loadComponent&&!r._loadedComponent){const p=this.loader.loadComponent(r);return(0,Ct.H)([h,p]).pipe((0,sd.U)())}return h})}static \u0275fac=function(r){return new(r||l)(e.KVO(Mt.Ix),e.KVO(e.uvJ),e.KVO(Hm),e.KVO(Mt.D$))};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Ql=new e.nKC("");let jr=(()=>{class l{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,a,h,p={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=a,this.zone=h,this.options=p,p.scrollPositionRestoration||="disabled",p.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mt.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Mt.wF?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Mt.lW&&n.code===Mt.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mt.OY&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mt.OY(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){e.QTQ()};static \u0275prov=e.jDH({token:l,factory:l.\u0275fac})}return l})();function Po(l,c){return{\u0275kind:l,\u0275providers:c}}function Xm(){const l=(0,e.WQX)(e.zZn);return c=>{const n=l.get(e.o8S);if(c!==n.components[0])return;const r=l.get(Mt.Ix),a=l.get(oh);1===l.get(sh)&&r.initialNavigation(),l.get(ah,null,e.$GK.Optional)?.setUpPreloading(),l.get(Ql,null,e.$GK.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const oh=new e.nKC("",{factory:()=>new Me.B}),sh=new e.nKC("",{providedIn:"root",factory:()=>1}),ah=new e.nKC("");function Km(l){return Po(0,[{provide:ah,useExisting:Wm},{provide:Hm,useExisting:l}])}function Ym(l){return(0,e.ngT)("NgRouterViewTransitions"),Po(9,[{provide:Mt.Pu,useValue:Mt.Lg},{provide:Mt.bK,useValue:{skipNextTransition:!!l?.skipInitialTransition,...l}}])}const Tv=[Bi.aZ,{provide:Mt.Sd,useClass:Mt.nU},Mt.Ix,Mt.Zp,{provide:Mt.nX,useFactory:function cd(l){return l.routerState.root},deps:[Mt.Ix]},Mt.D$,[]];let ys=(()=>{class l{constructor(){}static forRoot(n,r){return{ngModule:l,providers:[Tv,[],{provide:Mt.bw,multi:!0,useValue:n},[],r?.errorHandler?{provide:Mt.XR,useValue:r.errorHandler}:[],{provide:Mt.J_,useValue:r||{}},r?.useHash?{provide:Bi.hb,useClass:R.fw}:{provide:Bi.hb,useClass:Bi.Sm},{provide:Ql,useFactory:()=>{const l=(0,e.WQX)(Yu),c=(0,e.WQX)(e.SKi),n=(0,e.WQX)(Mt.J_),r=(0,e.WQX)(Mt.J2),a=(0,e.WQX)(Mt.Sd);return n.scrollOffset&&l.setOffset(n.scrollOffset),new jr(a,r,l,c,n)}},r?.preloadingStrategy?Km(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Rv(r):[],r?.bindToComponentInputs?Po(8,[Mt.tD,{provide:Mt.c1,useExisting:Mt.tD}]).\u0275providers:[],r?.enableViewTransitions?Ym().\u0275providers:[],[{provide:Zm,useFactory:Xm},{provide:e.iLQ,multi:!0,useExisting:Zm}]]}}static forChild(n){return{ngModule:l,providers:[{provide:Mt.bw,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||l)};static \u0275mod=e.$C({type:l});static \u0275inj=e.G2t({})}return l})();function Rv(l){return["disabled"===l.initialNavigation?Po(3,[(0,e.phd)(()=>{(0,e.WQX)(Mt.Ix).setUpLocationChangeListener()}),{provide:sh,useValue:2}]).\u0275providers:[],"enabledBlocking"===l.initialNavigation?Po(2,[{provide:sh,useValue:0},(0,e.phd)(()=>{const c=(0,e.WQX)(e.zZn);return c.get(Bi.hj,Promise.resolve()).then(()=>new Promise(r=>{const a=c.get(Mt.Ix),h=c.get(oh);(0,Mt.gk)(a,()=>{r(!0)}),c.get(Mt.J2).afterPreactivation=()=>(r(!0),h.closed?(0,zt.of)(void 0):h),a.initialNavigation()}))})]).\u0275providers:[]]}const Zm=new e.nKC("");var yr=D(3022);let fa=(()=>{class l{constructor(n,r){this.authService=n,this.router=r}canActivate(){return this.authService.isAdmin()?Promise.resolve(!0):(this.router.navigate(["/"]),Promise.resolve(!1))}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(yr.u),e.KVO(Mt.Ix))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),$i=(()=>{class l{constructor(n,r){this.authService=n,this.router=r}canActivate(){const n=JSON.parse(localStorage.getItem("currentUser")).id;return this.authService.isConfirmed(n).toPromise().then(r=>(r||this.router.navigate(["/"]),r)).catch(r=>(console.error("Error checking user confirmation status: "+r),this.router.navigate(["/"]),!1))}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(yr.u),e.KVO(Mt.Ix))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function Ws(l,c){if(1&l&&(e.j41(0,"div",8)(1,"div",9)(2,"div",10),e.nrm(3,"i"),e.k0s(),e.j41(4,"h2",11),e.EFF(5),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.k0s(),e.j41(8,"div",13)(9,"span"),e.EFF(10,"Acc\xe9der"),e.k0s(),e.nrm(11,"i",14),e.k0s()()()),2&l){const n=c.$implicit;e.Y8G("routerLink",n.route),e.R7$(2),e.xc7("background-color",n.bgColor)("color",n.color),e.R7$(),e.HbH(n.icon),e.R7$(2),e.JRh(n.title),e.R7$(2),e.JRh(n.description)}}let Av=(()=>{class l{constructor(){this.modules=[{title:"R\xe9solution de probl\xe8me",description:"G\xe9rer les formations de r\xe9solution de probl\xe8mes",route:"/backoffice/formations",icon:"bi-book",color:"#D972FF",bgColor:"rgba(217, 114, 255, 0.2)"},{title:"Histoires",description:"G\xe9rer les histoires des math\xe9matiques",route:"/backoffice/histoire",icon:"bi-clock-history",color:"#FF6B9D",bgColor:"rgba(255, 107, 157, 0.2)"},{title:"Utilisateurs",description:"G\xe9rer les comptes utilisateurs",route:"/backoffice/users",icon:"bi-people",color:"#7DDF64",bgColor:"rgba(125, 223, 100, 0.2)"},{title:"\xc9nigmes de la semaine",description:"G\xe9rer les \xe9nigmes hebdomadaires",route:"/backoffice/weekproblems",icon:"bi-calendar-week",color:"#dfbe64",bgColor:"rgba(223, 190, 100, 0.2)"}]}static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-backoffice"]],decls:11,vars:1,consts:[[1,"backoffice-container"],[1,"backoffice-header"],["routerLink","/",1,"back-link"],[1,"bi","bi-arrow-left"],[1,"backoffice-title","zilla-slab"],[1,"backoffice-subtitle"],[1,"modules-grid"],["class","module-card","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"module-card",3,"routerLink"],[1,"module-card-content"],[1,"module-icon"],[1,"module-title"],[1,"module-description"],[1,"module-action"],[1,"bi","bi-arrow-right"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.nrm(3,"i",3),e.EFF(4," Retourner sur PPMOJ "),e.k0s(),e.j41(5,"h1",4),e.EFF(6,"Backoffice"),e.k0s(),e.j41(7,"p",5),e.EFF(8,"Gestion de l'application"),e.k0s()(),e.j41(9,"div",6),e.DNE(10,Ws,12,9,"div",7),e.k0s()()),2&r&&(e.R7$(10),e.Y8G("ngForOf",a.modules))},dependencies:[ys,To,ad,R.Sq],styles:['.backoffice-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:2rem;background:var(--primary-color);color:var(--secondary-color)}@media (max-width: 768px){.backoffice-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.backoffice-header[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 3rem;text-align:center}@media (max-width: 768px){.backoffice-header[_ngcontent-%COMP%]{margin-bottom:2rem}}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:var(--secondary-color);text-decoration:none;font-size:.9rem;opacity:.8;margin-bottom:1.5rem;transition:all .2s ease}.back-link[_ngcontent-%COMP%]:hover{opacity:1;color:var(--accent-color);transform:translate(-4px)}.back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.backoffice-title[_ngcontent-%COMP%]{font-size:3rem;margin:.5rem 0;color:var(--secondary-color);font-weight:600}@media (max-width: 768px){.backoffice-title[_ngcontent-%COMP%]{font-size:2rem}}.backoffice-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.7;margin:0;color:var(--secondary-color)}@media (max-width: 768px){.backoffice-subtitle[_ngcontent-%COMP%]{font-size:1rem}}.modules-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;max-width:1200px;margin:0 auto}@media (max-width: 768px){.modules-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}}@media (min-width: 769px) and (max-width: 1024px){.modules-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1025px){.modules-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.module-card[_ngcontent-%COMP%]{background:var(--card-background);border:1px solid var(--card-border);border-radius:16px;padding:2rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);text-decoration:none;color:inherit;display:block;position:relative;overflow:hidden;box-shadow:var(--box-shadow)}.module-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--accent-color),color-mix(in srgb,var(--accent-color) 80%,transparent));transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.module-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:var(--box-shadow-elevated);border-color:var(--accent-color)}.module-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.module-card[_ngcontent-%COMP%]:hover   .module-action[_ngcontent-%COMP%]{transform:translate(4px);color:var(--accent-color)}.module-card[_ngcontent-%COMP%]:hover   .module-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.module-card[_ngcontent-%COMP%]:active{transform:translateY(-4px);box-shadow:var(--box-shadow-pressed)}.module-card.active[_ngcontent-%COMP%]{border-color:var(--accent-color);background:color-mix(in srgb,var(--accent-color) 10%,var(--card-background))}.module-card.active[_ngcontent-%COMP%]:before{transform:scaleX(1)}@media (max-width: 768px){.module-card[_ngcontent-%COMP%]{padding:1.5rem}}.module-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:1rem;height:100%}.module-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:20px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;margin-bottom:.5rem}.module-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;transition:all .3s ease;color:inherit}@media (max-width: 768px){.module-icon[_ngcontent-%COMP%]{width:70px;height:70px}.module-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}}.module-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0;color:var(--secondary-color);font-family:Zilla Slab,serif}@media (max-width: 768px){.module-title[_ngcontent-%COMP%]{font-size:1.3rem}}.module-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;opacity:.8;margin:0;color:var(--secondary-color);flex-grow:1;display:flex;align-items:center}@media (max-width: 768px){.module-description[_ngcontent-%COMP%]{font-size:.9rem}}.module-action[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500;font-size:1rem;margin-top:1rem;color:var(--accent-color);transition:all .3s ease}.module-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;transition:all .3s ease}@media (max-width: 768px){.module-action[_ngcontent-%COMP%]{font-size:.9rem}}']})}}return l})();var Zl=D(345);let ep=(()=>{class l{constructor(n){this.sanitizer=n,this.full_url=null}set vid(n){if(!n)return void(this.full_url=null);const r=this.getEmbedUrl(n.trim());this.full_url=r?this.sanitizer.bypassSecurityTrustResourceUrl(r):null}getEmbedUrl(n){if(!n)return null;if(this.isAllowedEmbedUrl(n))return n;const r=this.extractYoutubeId(n);if(r)return`https://www.youtube.com/embed/${r}`;const a=this.extractDailymotionId(n);return a?`https://geo.dailymotion.com/player.html?video=${a}&sharing-enable=false&loop=true`:null}isAllowedEmbedUrl(n){try{const r=typeof window<"u"?window.location.origin:"https://example.com",a=new URL(n,r);if(!a.protocol.startsWith("http"))return!1;const h=a.hostname.toLowerCase();return h.includes("youtube.com")||h.includes("youtu.be")||h.includes("dailymotion.com")}catch{return!1}}extractYoutubeId(n){const r=n.match(/^youtube:(?<id>[a-zA-Z0-9_-]{11})$/);if(r?.groups?.id)return r.groups.id;const a=n.match(/^(?:https?:\/\/)?(?:www\.|m\.)?(?:youtube\.com\/(?:watch\?(?:.*&)?v=|embed\/|v\/)|youtu\.be\/)(?<id>[a-zA-Z0-9_-]{11})/);return a?.groups?.id?a.groups.id:/^[a-zA-Z0-9_-]{11}$/.test(n)?n:null}extractDailymotionId(n){const r=n.match(/^dailymotion:(?<id>[a-zA-Z0-9]+)/);if(r?.groups?.id)return r.groups.id;const a=n.match(/^(?:https?:\/\/)?(?:(?:www|geo)\.)?dailymotion\.com\/(?:embed\/video\/|video\/|player\.html\?video=)?(?<id>[a-zA-Z0-9]+)/);return a?.groups?.id?a.groups.id:/^[a-zA-Z0-9]+$/.test(n)?n:null}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Zl.up))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-dailymotion-player"]],inputs:{vid:"vid"},decls:1,vars:1,consts:[["frameborder","0","width","640","height","360","allowfullscreen","","allow","autoplay; fullscreen; picture-in-picture; web-share",3,"src"]],template:function(r,a){1&r&&e.nrm(0,"iframe",0),2&r&&e.Y8G("src",a.full_url,e.f$h)},encapsulation:2})}}return l})();var Jl=D(7468),co=D(5530);let Xs=(()=>{class l{constructor(n,r){this.http=n,this.internalService=r,this.baseUrl=ur.c.apiUrl}getFormations(){return this.http.get(`${this.baseUrl}/formations`)}getCalendar(){return this.http.get(`${this.baseUrl}/formations/calendar`).pipe((0,U.T)(r=>(console.log(r),r.map(a=>({...a,sessions:a.sessions.map(h=>ch(h))})))))}getFormationById(n){return this.http.get(`${this.baseUrl}/formations/${n}`).pipe((0,U.T)(a=>({...a,sessions:a.sessions.map(h=>ch(h))})))}getFormationByCode(n){return this.http.get(`${this.baseUrl}/formations/code/${n}`)}getNextSession(n){return this.http.get(`${this.baseUrl}/formations/${n}/next`).pipe((0,U.T)(a=>ch(a)))}getFormationAndNextSessionByCode(n){return this.getFormationByCode(n).pipe((0,L.n)(r=>{const a=r.map(h=>this.getNextSession(h.id).pipe((0,U.T)(p=>({...h,sessions:[p],owned:!1}))));return(0,Jl.p)(a)}))}getFormationCategories(){return this.http.get(`${this.baseUrl}/formations/category`)}getCategoryByCode(n){return this.http.get(`${this.baseUrl}/formations/category/${n}`)}buyFormation(n){return this.http.post(`${this.baseUrl}/formations/${n}/buy`,{})}addUserToFormation(n,r){return this.http.post(`${this.baseUrl}/formations/${n}/buy/${r}`,{})}removeUserFromFormation(n,r){return this.http.delete(`${this.baseUrl}/formations/${n}/users/${r}`)}listFormationUsers(n){return this.http.get(`${this.baseUrl}/formations/${n}/users`)}updateFormationCategory(n){return this.http.put(`${this.baseUrl}/formations/category/${n.code}`,n)}updateFormation(n){return this.http.put(`${this.baseUrl}/formations/${n.id}`,n)}addFormation(n){return this.http.post(`${this.baseUrl}/formations`,n)}deleteFormation(n){return this.http.delete(`${this.baseUrl}/formations/${n}`)}updateFormationSession(n,r,a){return this.http.put(`${this.baseUrl}/formations/${n}/sessions/${r}`,a)}addFormationSession(n,r){return this.http.post(`${this.baseUrl}/formations/${n}/sessions`,r)}deleteFormationSession(n,r){return this.http.delete(`${this.baseUrl}/formations/${n}/sessions/${r}`)}uploadFormationImage(n){const r=new FormData;return r.append("image",n),this.http.post(`${ur.c.apiUrl}/formations/upload-image`,r)}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(v.Qq),e.KVO(co.P))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function ch(l){let c="\xe0 venir...",n="\xe0 venir...";if(null!=l.delivery_date){l.delivery_date=l.delivery_date+"Z";const r=new Date(l.delivery_date),a=new Date(l.delivery_date);a.setMinutes(a.getMinutes()+l.duration_minutes),n=r.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),c=r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})+" - "+a.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}return{...l,delivery_date:new Date(l.delivery_date),calculated_jour:n,calculated_horaire:c}}function Nv(l,c){if(1&l&&(e.j41(0,"option",22),e.EFF(1),e.k0s()),2&l){const n=c.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.category_name," ")}}function aE(l,c){if(1&l&&(e.j41(0,"div")(1,"label",19),e.EFF(2,"Cat\xe9gorie"),e.k0s(),e.j41(3,"select",20),e.DNE(4,Nv,2,2,"option",21),e.k0s(),e.nrm(5,"br"),e.k0s()),2&l){const n=e.XpG();e.R7$(4),e.Y8G("ngForOf",n.categories)}}function jv(l,c){if(1&l&&(e.j41(0,"div")(1,"label"),e.EFF(2,"Cat\xe9gorie"),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.k0s()),2&l){const n=e.XpG();e.R7$(4),e.SpI(" ",n.getCategoryName()," ")}}function ma(l,c){1&l&&(e.j41(0,"span",39)(1,"h3"),e.EFF(2,"La session est pass\xe9e"),e.k0s()())}function Lv(l,c){if(1&l){const n=e.RV6();e.j41(0,"div")(1,"form",3),e.bIt("ngSubmit",function(a){const h=e.eBV(n).$implicit,p=e.XpG(2);return e.Njj(p.onEditSession(h,a))}),e.j41(2,"div",24)(3,"div")(4,"h3"),e.EFF(5),e.k0s(),e.DNE(6,ma,3,0,"span",38),e.j41(7,"label",25),e.EFF(8,"Date et Heure de d\xe9but"),e.k0s(),e.nrm(9,"input",26),e.EFF(10),e.nI1(11,"date"),e.nrm(12,"br"),e.j41(13,"label",27),e.EFF(14,"Dur\xe9e en minutes"),e.k0s(),e.nrm(15,"input",28)(16,"br"),e.j41(17,"label",29),e.EFF(18,"Intevenant(s)"),e.k0s(),e.nrm(19,"input",30)(20,"br"),e.j41(21,"label",31),e.EFF(22,"Lien de la visio"),e.k0s(),e.nrm(23,"input",32)(24,"br"),e.j41(25,"label",33),e.EFF(26,"Lien de la rediffusion (Dailymotion ou YouTube)"),e.k0s(),e.j41(27,"input",34),e.bIt("input",function(a){e.eBV(n);const h=e.XpG(2);return e.Njj(h.normalizeReplayLink(a))}),e.k0s(),e.nrm(28,"br"),e.k0s(),e.j41(29,"div"),e.nrm(30,"app-dailymotion-player",35)(31,"br"),e.k0s()(),e.j41(32,"button",17),e.EFF(33,"\u270f\ufe0f Modifier"),e.k0s(),e.j41(34,"button",18),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.onDeleteSession(a))}),e.EFF(35," \u274c Supprimer "),e.k0s(),e.nrm(36,"hr"),e.k0s()()}if(2&l){let n;const r=c.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("formGroup",r.form),e.R7$(4),e.Lme(" \u270f\ufe0f Modifier session du ",r.calculated_jour," ",r.calculated_horaire," "),e.R7$(),e.Y8G("ngIf",r.delivery_date<a.dateNow),e.R7$(4),e.SpI(" fuseau horaire : ",e.i5U(11,6,null==r.form.value?null:r.form.value.delivery_date,"z")," "),e.R7$(20),e.Y8G("vid",null!==(n=null==r.form.value?null:r.form.value.replay_link)&&void 0!==n?n:"")}}function dh(l,c){if(1&l){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",40),e.bIt("click",function(){let a;const h=e.eBV(n).$implicit,p=e.XpG(2);return e.Njj(p.removeUserFromFormation(null!==(a=h.id)&&void 0!==a?a:0))}),e.EFF(9," \u274c Supprimer "),e.k0s()()()}if(2&l){const n=c.$implicit;e.R7$(2),e.JRh(n.id),e.R7$(2),e.JRh(n.username),e.R7$(2),e.JRh(n.email)}}function uh(l,c){if(1&l){const n=e.RV6();e.j41(0,"div"),e.nrm(1,"hr"),e.j41(2,"h2"),e.EFF(3,"Cr\xe9neaux horaires"),e.k0s(),e.DNE(4,Lv,37,9,"div",23),e.j41(5,"form",3),e.bIt("ngSubmit",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h.onCreationSession(a))}),e.j41(6,"div",24)(7,"div")(8,"h3"),e.EFF(9,"\u2795 Ajouter une session"),e.k0s(),e.j41(10,"label",25),e.EFF(11,"Date et Heure de d\xe9but"),e.k0s(),e.nrm(12,"input",26),e.EFF(13),e.nI1(14,"date"),e.nrm(15,"br"),e.j41(16,"label",27),e.EFF(17,"Dur\xe9e en minutes"),e.k0s(),e.nrm(18,"input",28)(19,"br"),e.j41(20,"label",29),e.EFF(21,"Intevenant(s)"),e.k0s(),e.nrm(22,"input",30)(23,"br"),e.j41(24,"label",31),e.EFF(25,"Lien de la visio"),e.k0s(),e.nrm(26,"input",32)(27,"br"),e.j41(28,"label",33),e.EFF(29,"Lien de la rediffusion (Dailymotion ou YouTube)"),e.k0s(),e.j41(30,"input",34),e.bIt("input",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h.normalizeReplayLink(a))}),e.k0s(),e.nrm(31,"br"),e.k0s(),e.j41(32,"div"),e.nrm(33,"app-dailymotion-player",35),e.k0s()(),e.j41(34,"button",17),e.EFF(35,"\u2795 Ajouter"),e.k0s()(),e.nrm(36,"hr"),e.j41(37,"h2"),e.EFF(38,"Achats de la formation"),e.k0s(),e.j41(39,"form",3),e.bIt("ngSubmit",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h.onAddUsersToFormation(a))}),e.j41(40,"table",36)(41,"thead")(42,"tr")(43,"th"),e.EFF(44,"id"),e.k0s(),e.j41(45,"th"),e.EFF(46,"username"),e.k0s(),e.j41(47,"th"),e.EFF(48,"email"),e.k0s(),e.j41(49,"th"),e.EFF(50,"action"),e.k0s()()(),e.j41(51,"tbody")(52,"tr")(53,"td"),e.nrm(54,"input",37),e.k0s(),e.nrm(55,"td")(56,"td"),e.j41(57,"td")(58,"button",17),e.EFF(59,"\u2795 Donner la formation"),e.k0s()()(),e.DNE(60,dh,10,3,"tr",23),e.k0s()()()()}if(2&l){let n;const r=e.XpG();e.R7$(4),e.Y8G("ngForOf",r.formation.sessions),e.R7$(),e.Y8G("formGroup",r.sessionForm),e.R7$(8),e.SpI(" fuseau horaire : ",e.i5U(14,6,null==r.sessionForm.value?null:r.sessionForm.value.delivery_date,"z")," "),e.R7$(20),e.Y8G("vid",null!==(n=null==r.sessionForm.value?null:r.sessionForm.value.replay_link)&&void 0!==n?n:""),e.R7$(6),e.Y8G("formGroup",r.userForm),e.R7$(21),e.Y8G("ngForOf",r.users)}}let hh=(()=>{class l{constructor(n,r){this.formationService=n,this.route=r,this.formation={id:0,name:"",description:"",category:0,price:0,img_link:"",document_link:"",displayed:!0,owned:!1,sessions:[]},this.dateNow=new Date,this.returnToHistoire=!1,this.showCategorySelect=!0,this.form=new S.gE({name:new S.MJ("Nouvelle formation"),description:new S.MJ(""),category:new S.MJ(1),price:new S.MJ(0),img_link:new S.MJ(""),document_link:new S.MJ(""),displayed:new S.MJ(!0)}),this.sessionForm=new S.gE({delivery_date:new S.MJ(""),duration_minutes:new S.MJ(0),speaker:new S.MJ(""),live_link:new S.MJ(""),replay_link:new S.MJ("")}),this.users=[],this.userForm=new S.gE({user_id:new S.MJ("")}),this.imgUrl=h=>{if(!h)return"";let p=h.startsWith("http")?h:`${ur.c.apiUrl}${h}`;return p=p.replace("/formations/image/","/formations/image/lowered/"),p};const a=this.route.snapshot.queryParamMap.get("source");this.returnToHistoire="histoire"===a,this.formationService.getFormationCategories().subscribe(h=>{if(this.categories=h,this.checkIfHistoireCategory(),0!==this.formation.id&&this.formation.category){const p=this.categories.find(_=>_.id===this.formation.category);p&&("HISTOIRE"===p.code||"PROBLEME"===p.code)&&(this.showCategorySelect=!1)}}),this.route.params.subscribe(h=>{if(console.log(h),0==h.id){const p=this.route.snapshot.queryParamMap.get("source"),_=this.route.snapshot.queryParamMap.get("cat");if(this.showCategorySelect=!p||"histoire"!==p&&"probleme"!==p,_)this.formation.category=parseInt(_),this.form.controls.category.setValue(this.formation.category);else if(p&&this.categories){const M="histoire"===p?"HISTOIRE":"PROBLEME",F=this.categories.find(Y=>Y.code===M);F&&(this.formation.category=F.id,this.form.controls.category.setValue(F.id))}this.checkIfHistoireCategory(),console.log(this.formation)}else this.formationService.getFormationById(parseInt(h.id)).subscribe(p=>{if(this.formation=p,console.log(this.formation),this.form.controls.name.setValue(this.formation.name),this.form.controls.description.setValue(this.formation.description),this.form.controls.category.setValue(this.formation.category),this.form.controls.price.setValue(this.formation.price),this.form.controls.img_link.setValue(this.formation.img_link),this.form.controls.document_link.setValue(this.formation.document_link),this.form.controls.displayed.setValue(this.formation.displayed??!0),this.checkIfHistoireCategory(),this.categories){const _=this.categories.find(M=>M.id===this.formation.category);_&&("HISTOIRE"===_.code||"PROBLEME"===_.code)&&(this.showCategorySelect=!1)}this.formation.sessions=this.formation.sessions.sort((_,M)=>_.delivery_date.getTime()-M.delivery_date.getTime()||_.duration_minutes-M.duration_minutes),this.formation.sessions.forEach(_=>{const M=_.delivery_date;M.setMinutes(M.getMinutes()-M.getTimezoneOffset()),_.form=new S.gE({delivery_date:new S.MJ(M.toISOString().slice(0,-1)),duration_minutes:new S.MJ(_.duration_minutes),speaker:new S.MJ(_.speaker),live_link:new S.MJ(_.live_link),replay_link:new S.MJ(_.replay_link)})})}),this.formationService.listFormationUsers(parseInt(h.id)).subscribe(p=>{this.users=p})})}importImage(n){const a=n.target.files?.[0];a&&(this.form.disable(),this.formationService.uploadFormationImage(a).subscribe({next:({image_url:h})=>{this.form.patchValue({img_link:h}),console.log("Image uploaded, URL:",h),this.form.enable()},error:()=>{this.form.enable()}}))}onSubmit(){if(console.log(this.form.value),0==this.formation.id){const n={...this.form.value,category:parseInt(this.form.value.category)||0,price:parseInt(this.form.value.price)||0,displayed:this.form.value.displayed??!0,document_link:this.form.value.document_link||"",img_link:this.form.value.img_link||""};console.log("Sending formation data:",n),this.formationService.addFormation(n).subscribe({next:r=>{console.log(r),window.location.href="/backoffice/formation/"+r.id},error:r=>{console.error("Error creating formation:",r),alert("Erreur lors de la cr\xe9ation: "+(r.error?.message||r.message||"Erreur inconnue"))}})}else this.form.value.id=this.formation.id,this.formationService.updateFormation(this.form.value).subscribe({next:n=>{console.log(n),window.location.reload()},error:n=>{console.error("Error updating formation:",n),alert("Erreur lors de la modification: "+(n.error?.message||n.message||"Erreur inconnue"))}})}onDelete(){confirm("Etes-vous s\xfbr de vouloir supprimer cette formation ?\nCette action est irr\xe9versible et supprimera toutes les sessions associ\xe9es, ainsi que tout les achats.")&&this.formationService.deleteFormation(this.formation.id).subscribe(n=>{console.log(n),window.location.href=this.returnToHistoire?"/backoffice/histoire":"/backoffice/formations"})}normalizeReplayLink(n){const r=n.target;if(!r)return;const a=r.value?.trim()??"";if(!a)return;const h=this.extractYoutubeId(a),p=this.extractDailymotionId(a);let _=a;h?_=`https://www.youtube.com/embed/${h}`:p&&(_=`https://geo.dailymotion.com/player.html?video=${p}&sharing-enable=false&loop=true`),_!==r.value&&(r.value=_,r.dispatchEvent(new Event("input")))}extractYoutubeId(n){const r=n.match(/^youtube:(?<id>[a-zA-Z0-9_-]{11})$/);if(r?.groups?.id)return r.groups.id;const a=n.match(/^(?:https?:\/\/)?(?:www\.|m\.)?(?:youtube\.com\/(?:watch\?(?:.*&)?v=|embed\/|v\/)|youtu\.be\/)(?<id>[a-zA-Z0-9_-]{11})/);return a?.groups?.id?a.groups.id:/^[a-zA-Z0-9_-]{11}$/.test(n)?n:null}extractDailymotionId(n){const r=n.match(/^dailymotion:(?<id>[a-zA-Z0-9]+)/);if(r?.groups?.id)return r.groups.id;const a=n.match(/^(?:https?:\/\/)?(?:(?:www|geo)\.)?dailymotion\.com\/(?:embed\/video\/|video\/|player\.html\?video=)?(?<id>[a-zA-Z0-9]+)/);return a?.groups?.id?a.groups.id:/^[a-zA-Z0-9]+$/.test(n)?n:null}onEditSession(n,r){this.formationService.updateFormationSession(n.formation_id,n.formation_availability_id,{...n.form.value,delivery_date:new Date(n.form.value.delivery_date).toISOString(),formation_id:n.formation_id,formation_availability_id:n.formation_availability_id}).subscribe(a=>{console.log(a),window.location.reload()})}onDeleteSession(n){this.formationService.deleteFormationSession(n.formation_id,n.formation_availability_id).subscribe(r=>{console.log(r),window.location.reload()})}onCreationSession(n){this.formationService.addFormationSession(this.formation.id,{...this.sessionForm.value,delivery_date:new Date(this.sessionForm.value.delivery_date).toISOString(),formation_id:this.formation.id}).subscribe(r=>{console.log(r),window.location.reload()})}onAddUsersToFormation(n){this.formationService.addUserToFormation(this.formation.id,this.userForm.value.user_id).subscribe(a=>{console.log(a),window.location.reload()})}removeUserFromFormation(n){this.formationService.removeUserFromFormation(this.formation.id,n).subscribe(r=>{console.log(r),window.location.reload()})}checkIfHistoireCategory(){this.categories&&this.formation.category&&"HISTOIRE"===this.categories.find(r=>r.id===this.formation.category)?.code&&(this.returnToHistoire=!0)}getCategoryName(){return this.categories&&this.form.value.category&&this.categories.find(r=>r.id===this.form.value.category)?.category_name||"Cat\xe9gorie s\xe9lectionn\xe9e"}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Xs),e.rXU(Mt.nX))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-formation"]],decls:40,vars:12,consts:[[1,"overflow-auto","m-3"],["href","/backoffice"],[3,"href"],[3,"ngSubmit","formGroup"],["for","name"],["type","text","formControlName","name","id","name","size","80"],["for","description"],["cols","100","rows","10","formControlName","description","id","description"],[4,"ngIf"],["for","price"],["type","number","formControlName","price","id","price","min","0"],["for","document_link"],["type","text","formControlName","document_link","id","document_link"],["for","img_link"],["type","text","formControlName","img_link","id","img_link"],["type","file","accept","image/*",3,"change"],[2,"height","100px",3,"src"],["type","submit"],["type","button",3,"click"],["for","category"],["formControlName","category","id","category"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-row","justify-content-between"],["for","delivery_date"],["type","datetime-local","formControlName","delivery_date","id","delivery_date"],["for","duration_minutes"],["type","number","min","0","formControlName","duration_minutes","id","duration_minutes"],["for","speaker"],["type","text","formControlName","speaker","id","speaker"],["for","live_link"],["type","text","formControlName","live_link","id","live_link"],["for","replay_link"],["type","text","formControlName","replay_link","id","replay_link",3,"input"],[3,"vid"],[1,"table"],["type","text","formControlName","user_id","id","user_id"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"click"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"a",1),e.EFF(2,"retour au backoffice"),e.k0s(),e.nrm(3,"br"),e.j41(4,"a",2),e.EFF(5),e.k0s(),e.j41(6,"h1"),e.EFF(7),e.k0s(),e.j41(8,"form",3),e.bIt("ngSubmit",function(){return a.onSubmit()}),e.j41(9,"label",4),e.EFF(10),e.k0s(),e.nrm(11,"input",5)(12,"br"),e.j41(13,"label",6),e.EFF(14),e.k0s(),e.nrm(15,"br")(16,"textarea",7)(17,"br"),e.DNE(18,aE,6,1,"div",8)(19,jv,6,1,"div",8),e.j41(20,"label",9),e.EFF(21,"Prix"),e.k0s(),e.nrm(22,"input",10)(23,"br"),e.j41(24,"label",11),e.EFF(25,"URL documents suppl\xe9mentaires"),e.k0s(),e.nrm(26,"input",12)(27,"br"),e.j41(28,"label",13),e.EFF(29,"URL image"),e.k0s(),e.nrm(30,"input",14),e.j41(31,"input",15),e.bIt("change",function(p){return a.importImage(p)}),e.k0s(),e.nrm(32,"br")(33,"img",16)(34,"br"),e.j41(35,"button",17),e.EFF(36),e.k0s(),e.j41(37,"button",18),e.bIt("click",function(){return a.onDelete()}),e.EFF(38,"\u274c Supprimer"),e.k0s()(),e.DNE(39,uh,61,9,"div",8),e.k0s()),2&r&&(e.R7$(4),e.Y8G("href",a.returnToHistoire?"/backoffice/histoire":"/backoffice/formations",e.B4B),e.R7$(),e.SpI(" ",a.returnToHistoire?"retour aux histoires":"retour aux r\xe9solutions de probl\xe8me"," "),e.R7$(2),e.Lme("",0===a.formation.id?"Cr\xe9er":"Modifier"," ",a.returnToHistoire?"une histoire":a.showCategorySelect?"une formation":"une r\xe9solution de probl\xe8me",""),e.R7$(),e.Y8G("formGroup",a.form),e.R7$(2),e.JRh(a.returnToHistoire?"Nom de l'histoire":a.showCategorySelect?"Nom de la formation":"Nom de la r\xe9solution de probl\xe8me"),e.R7$(4),e.JRh(a.returnToHistoire?"Description de l'histoire":a.showCategorySelect?"Description de la formation":"Description de la r\xe9solution de probl\xe8me"),e.R7$(4),e.Y8G("ngIf",a.showCategorySelect),e.R7$(),e.Y8G("ngIf",!a.showCategorySelect&&a.categories),e.R7$(14),e.Y8G("src",a.imgUrl(null==a.form.value?null:a.form.value.img_link),e.B4B),e.R7$(3),e.SpI(" ",0===a.formation.id?"\u2795 Cr\xe9er":"\u270f\ufe0f Modifier"," "),e.R7$(3),e.Y8G("ngIf",0!==a.formation.id))},dependencies:[R.Sq,R.bT,S.YN,S.qT,S.xH,S.y7,S.me,S.Q0,S.wz,S.BC,S.cb,S.VZ,S.X1,S.j4,S.JD,ep,R.vh],encapsulation:2})}}return l})();const tp=()=>["/backoffice/formation/0"],dd=l=>({cat:l,source:"probleme"}),fh=l=>["/backoffice/formation",l];function ec(l,c){if(1&l&&(e.j41(0,"div",16)(1,"div",17),e.nrm(2,"i",33),e.j41(3,"div",19)(4,"label"),e.EFF(5,"Description"),e.k0s(),e.j41(6,"span",45),e.EFF(7),e.k0s()()()()),2&l){const n=e.XpG().$implicit;e.R7$(7),e.JRh(n.value.category.category_description)}}function ud(l,c){if(1&l&&(e.j41(0,"div",56),e.nrm(1,"img",57),e.k0s()),2&l){const n=e.XpG().$implicit,r=e.XpG(2);e.R7$(),e.Y8G("src",r.imgUrl(n.img_link),e.B4B)("alt",n.name)}}function Ks(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",46),e.DNE(1,ud,2,2,"div",47),e.j41(2,"div",48)(3,"h4",49),e.EFF(4),e.k0s(),e.j41(5,"div",50)(6,"span",51),e.nrm(7,"i"),e.EFF(8),e.k0s()(),e.j41(9,"div",52)(10,"a",53),e.nrm(11,"i",54),e.EFF(12," Modifier "),e.k0s(),e.j41(13,"button",55),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.onToggleDisplay(a))}),e.nrm(14,"i"),e.EFF(15),e.k0s()()()()}if(2&l){const n=c.$implicit;e.R7$(),e.Y8G("ngIf",n.img_link),e.R7$(3),e.JRh(n.name),e.R7$(2),e.AVh("displayed",n.displayed)("hidden",!n.displayed),e.R7$(),e.HbH(n.displayed?"bi bi-eye-fill":"bi bi-eye-slash-fill"),e.R7$(),e.SpI(" ",n.displayed?"Affich\xe9e":"Masqu\xe9e"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(15,fh,n.id)),e.R7$(3),e.AVh("active",n.displayed),e.R7$(),e.HbH(n.displayed?"bi bi-eye-slash":"bi bi-eye"),e.R7$(),e.SpI(" ",n.displayed?"Masquer":"Afficher"," ")}}function mh(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e.nrm(4,"i",11),e.EFF(5),e.k0s(),e.j41(6,"div",12)(7,"span",13),e.nrm(8,"i",14),e.EFF(9," Active "),e.k0s()()(),e.j41(10,"div",15)(11,"div",16)(12,"div",17),e.nrm(13,"i",18),e.j41(14,"div",19)(15,"label"),e.EFF(16,"Nom de cat\xe9gorie"),e.k0s(),e.j41(17,"span"),e.EFF(18),e.k0s()()()(),e.j41(19,"div",16)(20,"div",17),e.nrm(21,"i",20),e.j41(22,"div",19)(23,"label"),e.EFF(24,"Code cat\xe9gorie"),e.k0s(),e.j41(25,"span",21),e.EFF(26),e.k0s(),e.j41(27,"span",22),e.EFF(28,"\u26a0\ufe0f Donn\xe9e sensible"),e.k0s()()()(),e.DNE(29,ec,8,1,"div",23),e.k0s()(),e.j41(30,"div",24)(31,"div",9)(32,"h3",25),e.nrm(33,"i",26),e.EFF(34," Modifier la cat\xe9gorie "),e.k0s()(),e.j41(35,"div",15)(36,"form",27),e.bIt("ngSubmit",function(){const a=e.eBV(n).$implicit,h=e.XpG();return e.Njj(h.onSubmit(a.value.category.id,a.value.form))}),e.j41(37,"div",28)(38,"label",29),e.nrm(39,"i",18),e.EFF(40," Nom de cat\xe9gorie "),e.k0s(),e.nrm(41,"input",30),e.k0s(),e.j41(42,"div",28)(43,"label",29),e.nrm(44,"i",20),e.EFF(45," Code cat\xe9gorie "),e.j41(46,"span",31),e.EFF(47,"\u26a0\ufe0f Donn\xe9e sensible"),e.k0s()(),e.nrm(48,"input",32),e.k0s(),e.j41(49,"div",28)(50,"label",29),e.nrm(51,"i",33),e.EFF(52," Description de cat\xe9gorie "),e.k0s(),e.nrm(53,"textarea",34),e.k0s(),e.j41(54,"button",35),e.nrm(55,"i",36),e.EFF(56," Enregistrer les modifications "),e.k0s()()()(),e.j41(57,"div",37)(58,"div",9)(59,"h3",25),e.nrm(60,"i",38),e.EFF(61),e.k0s()(),e.j41(62,"div",15)(63,"div",39),e.DNE(64,Ks,16,17,"div",40),e.j41(65,"div",41)(66,"div",42),e.nrm(67,"i",43),e.j41(68,"h4"),e.EFF(69,"Nouvelle R\xe9solution de probl\xe8me"),e.k0s(),e.j41(70,"a",44),e.EFF(71," Cr\xe9er une r\xe9solution de probl\xe8me "),e.k0s()()()()()()()}if(2&l){const n=c.$implicit;e.R7$(5),e.SpI(" Cat\xe9gorie #",n.value.category.id," "),e.R7$(13),e.JRh(n.value.category.category_name),e.R7$(8),e.JRh(n.value.category.code),e.R7$(3),e.Y8G("ngIf",n.value.category.category_description),e.R7$(7),e.Y8G("formGroup",n.value.form),e.R7$(2),e.Mz_("for","category_name_",n.value.category.id,""),e.R7$(3),e.Mz_("id","category_name_",n.value.category.id,""),e.R7$(2),e.Mz_("for","code_",n.value.category.id,""),e.R7$(5),e.Mz_("id","code_",n.value.category.id,""),e.R7$(2),e.Mz_("for","category_description_",n.value.category.id,""),e.R7$(3),e.Mz_("id","category_description_",n.value.category.id,""),e.R7$(8),e.SpI(" Formations (",n.value.formations.length,") "),e.R7$(3),e.Y8G("ngForOf",n.value.formations),e.R7$(6),e.Y8G("routerLink",e.lJ4(21,tp))("queryParams",e.eq3(22,dd,n.value.category.id))}}let hd=(()=>{class l{constructor(n){this.formationService=n,this.categories={},this.imgUrl=r=>{if(!r)return"";let a=r.startsWith("http")?r:`${ur.c.apiUrl}${r}`;return a=a.replace("/formations/image/","/formations/image/lowered/"),a},this.formationService.getFormationCategories().subscribe(r=>{r.filter(h=>"HISTOIRE"!==h.code).forEach(h=>{const p=new S.gE({category_name:new S.MJ(h.category_name),category_description:new S.MJ(h.category_description),code:new S.MJ(h.code)});this.formationService.getFormationByCode(h.code).subscribe(_=>{const M=_.filter((F,Y,ge)=>Y===ge.findIndex(Je=>Je.id===F.id));this.categories[h.id]={category:h,formations:M,form:p}})}),console.log(this.categories)})}onSubmit(n,r){const a=r.get("category_name")?.value,h=r.get("code")?.value,p=r.get("category_description")?.value;this.formationService.updateFormationCategory({id:n,category_name:a,code:h,category_description:p}).subscribe(()=>{console.log("Formation category updated")})}onToggleDisplay(n){this.formationService.updateFormation({...n,displayed:!n.displayed}).subscribe(()=>{this.formationService.getFormationCategories().subscribe(r=>{r.filter(h=>"HISTOIRE"!==h.code).forEach(h=>{this.formationService.getFormationByCode(h.code).subscribe(p=>{const _=p.filter((M,F,Y)=>F===Y.findIndex(ge=>ge.id===M.id));this.categories[h.id].formations=_})})})})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Xs))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-formations"]],decls:10,vars:3,consts:[[1,"backoffice-page-container"],[1,"backoffice-header"],["routerLink","/backoffice",1,"back-link"],[1,"bi","bi-arrow-left"],[1,"page-title","zilla-slab"],[1,"categories-container"],["class","category-section",4,"ngFor","ngForOf"],[1,"category-section"],[1,"category-info-card"],[1,"card-header"],[1,"category-id"],[1,"bi","bi-folder-fill"],[1,"category-status"],[1,"status-badge","active"],[1,"bi","bi-check-circle-fill"],[1,"card-content"],[1,"info-row"],[1,"info-item"],[1,"bi","bi-tag"],[1,"info-content"],[1,"bi","bi-code-slash"],[1,"code-badge"],[1,"warning-text"],["class","info-row",4,"ngIf"],[1,"category-edit-card"],[1,"card-title"],[1,"bi","bi-pencil-square"],[1,"edit-category-form",3,"ngSubmit","formGroup"],[1,"form-group"],[3,"for"],["type","text","formControlName","category_name","placeholder","Nom de la cat\xe9gorie",1,"form-input",3,"id"],[1,"warning-badge"],["type","text","formControlName","code","placeholder","Code de la cat\xe9gorie",1,"form-input",3,"id"],[1,"bi","bi-file-text"],["formControlName","category_description","rows","6","placeholder","Description de la cat\xe9gorie",1,"form-textarea",3,"id"],["type","submit",1,"btn","btn-primary","btn-elevated"],[1,"bi","bi-check-circle"],[1,"formations-list-card"],[1,"bi","bi-book"],[1,"formations-grid"],["class","formation-card",4,"ngFor","ngForOf"],[1,"formation-card","new-formation-card"],[1,"new-formation-content"],[1,"bi","bi-plus-circle"],[1,"btn","btn-primary","btn-elevated",3,"routerLink","queryParams"],[1,"description-text"],[1,"formation-card"],["class","formation-image",4,"ngIf"],[1,"formation-content"],[1,"formation-name"],[1,"formation-status"],[1,"status-badge"],[1,"formation-actions"],[1,"btn-action","edit",3,"routerLink"],[1,"bi","bi-pencil"],[1,"btn-action","toggle",3,"click"],[1,"formation-image"],[3,"src","alt"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.nrm(3,"i",3),e.EFF(4," Retour au backoffice "),e.k0s(),e.j41(5,"h1",4),e.EFF(6,"Gestion des R\xe9solutions de probl\xe8me"),e.k0s()(),e.j41(7,"div",5),e.DNE(8,mh,72,24,"div",6),e.nI1(9,"keyvalue"),e.k0s()()),2&r&&(e.R7$(8),e.Y8G("ngForOf",e.bMT(9,1,a.categories)))},dependencies:[R.Sq,R.bT,R.lG,S.YN,S.qT,S.me,S.BC,S.cb,S.X1,S.j4,S.JD,ys,To],styles:[".backoffice-page-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:2rem;background:var(--primary-color);color:var(--secondary-color);overflow-y:auto;overflow-x:hidden}@media (max-width: 768px){.backoffice-page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.backoffice-header[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto 2rem}@media (max-width: 768px){.backoffice-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:var(--secondary-color);text-decoration:none;font-size:.9rem;opacity:.8;margin-bottom:1.5rem;transition:all .2s ease}.back-link[_ngcontent-%COMP%]:hover{opacity:1;color:var(--accent-color);transform:translate(-4px)}.back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;margin:0;color:var(--secondary-color);font-weight:600}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:2rem}}.categories-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:2.5rem}@media (max-width: 768px){.categories-container[_ngcontent-%COMP%]{gap:2rem}}.category-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.category-info-card[_ngcontent-%COMP%], .category-edit-card[_ngcontent-%COMP%], .formations-list-card[_ngcontent-%COMP%]{background:var(--card-background);border:1px solid var(--card-border);border-radius:16px;padding:1.5rem;box-shadow:var(--box-shadow);transition:all .3s ease}.category-info-card[_ngcontent-%COMP%]:hover, .category-edit-card[_ngcontent-%COMP%]:hover, .formations-list-card[_ngcontent-%COMP%]:hover{box-shadow:var(--box-shadow-elevated)}@media (max-width: 768px){.category-info-card[_ngcontent-%COMP%], .category-edit-card[_ngcontent-%COMP%], .formations-list-card[_ngcontent-%COMP%]{padding:1.25rem}}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;margin-bottom:1rem;border-bottom:1px solid var(--card-border)}.card-title[_ngcontent-%COMP%]{font-size:1.3rem;margin:0;color:var(--secondary-color);font-family:Zilla Slab,serif;display:flex;align-items:center;gap:.5rem;font-weight:600}.card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color);font-size:1.2rem}.category-id[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;font-weight:600;color:var(--secondary-color)}.category-id[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color);font-size:1.3rem}.category-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .8rem;border-radius:8px;font-size:.85rem;font-weight:500}.category-status[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:color-mix(in srgb,#7DDF64 20%,transparent);border:1px solid #7DDF64;color:#7ddf64}.category-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--accent-color);margin-top:.25rem;flex-shrink:0}.info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex:1;min-width:0}.info-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);text-transform:uppercase;font-weight:600;letter-spacing:.5px}.info-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:var(--secondary-color);word-break:break-word}.code-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .6rem;background:color-mix(in srgb,#ed2525 20%,transparent);border:1px solid #ed2525;border-radius:8px;font-weight:600;color:#ed2525;font-size:.9rem;font-family:monospace;margin-right:.5rem}.warning-text[_ngcontent-%COMP%]{font-size:.75rem!important;color:#ed2525!important;font-style:italic}.description-text[_ngcontent-%COMP%]{white-space:pre-wrap;line-height:1.6;max-height:200px;overflow-y:auto;padding:.5rem;background:var(--primary-color);border-radius:8px;border:1px solid var(--card-border)}.edit-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:var(--secondary-color);display:flex;align-items:center;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color);font-size:1rem}.warning-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .5rem;background:color-mix(in srgb,#ed2525 20%,transparent);border:1px solid #ed2525;border-radius:6px;color:#ed2525;margin-left:auto}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:var(--primary-color);border:1px solid var(--card-border);border-radius:8px;color:var(--secondary-color);font-size:.95rem;font-family:Work Sans,sans-serif;transition:all .2s ease}.form-input[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 3px color-mix(in srgb,var(--accent-color) 20%,transparent)}.form-input[_ngcontent-%COMP%]::placeholder, .form-textarea[_ngcontent-%COMP%]::placeholder{color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);opacity:.6}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.formations-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}@media (max-width: 768px){.formations-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.formation-card[_ngcontent-%COMP%]{background:var(--primary-color);border:1px solid var(--card-border);border-radius:12px;padding:1.5rem;transition:all .3s ease;display:flex;flex-direction:column;gap:1rem}.formation-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--box-shadow-elevated);border-color:var(--accent-color)}.formation-card.new-formation-card[_ngcontent-%COMP%]{border:2px dashed var(--card-border);background:color-mix(in srgb,var(--card-background) 50%,transparent);align-items:center;justify-content:center;min-height:250px}.formation-card.new-formation-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);background:color-mix(in srgb,var(--accent-color) 10%,var(--card-background))}.formation-image[_ngcontent-%COMP%]{width:100%;height:150px;border-radius:8px;overflow:hidden;background:var(--card-background);display:flex;align-items:center;justify-content:center}.formation-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.formation-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex-grow:1}.formation-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin:0;color:var(--secondary-color);font-family:Zilla Slab,serif}.formation-status[_ngcontent-%COMP%]{margin-top:auto}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .8rem;border-radius:8px;font-size:.85rem;font-weight:500}.status-badge.displayed[_ngcontent-%COMP%]{background:color-mix(in srgb,#7DDF64 20%,transparent);border:1px solid #7DDF64;color:#7ddf64}.status-badge.hidden[_ngcontent-%COMP%]{background:color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 20%,transparent);border:1px solid color-mix(in srgb,rgb(199,199,199) 80%,white 20%);color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%)}.status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.formation-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.btn-action[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:8px;font-size:.85rem;font-weight:500;text-decoration:none;transition:all .2s ease;cursor:pointer;border:1px solid transparent;background:transparent;color:var(--secondary-color);font-family:Work Sans,sans-serif}.btn-action.edit[_ngcontent-%COMP%]{color:var(--accent-color);border-color:var(--accent-color)}.btn-action.edit[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color) 20%,transparent);transform:translateY(-2px)}.btn-action.toggle[_ngcontent-%COMP%]{color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);border-color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%)}.btn-action.toggle[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 20%,transparent);transform:translateY(-2px)}.btn-action.toggle.active[_ngcontent-%COMP%]{color:#7ddf64;border-color:#7ddf64}.btn-action.toggle.active[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,#7DDF64 20%,transparent)}.btn-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.new-formation-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;text-align:center;width:100%}.new-formation-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--accent-color);opacity:.6}.new-formation-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;margin:0;color:var(--secondary-color);font-family:Zilla Slab,serif}"]})}}return l})();const tc=()=>["/backoffice/formation/0"],ph=l=>({cat:l,source:"histoire"}),gh=l=>["/backoffice/formation",l],fd=()=>({source:"histoire"});function np(l,c){if(1&l&&(e.j41(0,"div",16)(1,"div",17),e.nrm(2,"i",33),e.j41(3,"div",19)(4,"label"),e.EFF(5,"Description"),e.k0s(),e.j41(6,"span",45),e.EFF(7),e.k0s()()()()),2&l){const n=e.XpG().$implicit;e.R7$(7),e.JRh(n.value.category.category_description)}}function _h(l,c){if(1&l&&(e.j41(0,"div",56),e.nrm(1,"img",57),e.k0s()),2&l){const n=e.XpG().$implicit,r=e.XpG(2);e.R7$(),e.Y8G("src",r.imgUrl(n.img_link),e.B4B)("alt",n.name)}}function Ya(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",46),e.DNE(1,_h,2,2,"div",47),e.j41(2,"div",48)(3,"h4",49),e.EFF(4),e.k0s(),e.j41(5,"div",50)(6,"span",51),e.nrm(7,"i"),e.EFF(8),e.k0s()(),e.j41(9,"div",52)(10,"a",53),e.nrm(11,"i",54),e.EFF(12," Modifier "),e.k0s(),e.j41(13,"button",55),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.onToggleDisplay(a))}),e.nrm(14,"i"),e.EFF(15),e.k0s()()()()}if(2&l){const n=c.$implicit;e.R7$(),e.Y8G("ngIf",n.img_link),e.R7$(3),e.JRh(n.name),e.R7$(2),e.AVh("displayed",n.displayed)("hidden",!n.displayed),e.R7$(),e.HbH(n.displayed?"bi bi-eye-fill":"bi bi-eye-slash-fill"),e.R7$(),e.SpI(" ",n.displayed?"Affich\xe9e":"Masqu\xe9e"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(16,gh,n.id))("queryParams",e.lJ4(18,fd)),e.R7$(3),e.AVh("active",n.displayed),e.R7$(),e.HbH(n.displayed?"bi bi-eye-slash":"bi bi-eye"),e.R7$(),e.SpI(" ",n.displayed?"Masquer":"Afficher"," ")}}function ip(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e.nrm(4,"i",11),e.EFF(5),e.k0s(),e.j41(6,"div",12)(7,"span",13),e.nrm(8,"i",14),e.EFF(9," Active "),e.k0s()()(),e.j41(10,"div",15)(11,"div",16)(12,"div",17),e.nrm(13,"i",18),e.j41(14,"div",19)(15,"label"),e.EFF(16,"Nom de cat\xe9gorie"),e.k0s(),e.j41(17,"span"),e.EFF(18),e.k0s()()()(),e.j41(19,"div",16)(20,"div",17),e.nrm(21,"i",20),e.j41(22,"div",19)(23,"label"),e.EFF(24,"Code cat\xe9gorie"),e.k0s(),e.j41(25,"span",21),e.EFF(26),e.k0s(),e.j41(27,"span",22),e.EFF(28,"\u26a0\ufe0f Donn\xe9e sensible"),e.k0s()()()(),e.DNE(29,np,8,1,"div",23),e.k0s()(),e.j41(30,"div",24)(31,"div",9)(32,"h3",25),e.nrm(33,"i",26),e.EFF(34," Modifier la cat\xe9gorie "),e.k0s()(),e.j41(35,"div",15)(36,"form",27),e.bIt("ngSubmit",function(){const a=e.eBV(n).$implicit,h=e.XpG();return e.Njj(h.onSubmit(a.value.category.id,a.value.form))}),e.j41(37,"div",28)(38,"label",29),e.nrm(39,"i",18),e.EFF(40," Nom de cat\xe9gorie "),e.k0s(),e.nrm(41,"input",30),e.k0s(),e.j41(42,"div",28)(43,"label",29),e.nrm(44,"i",20),e.EFF(45," Code cat\xe9gorie "),e.j41(46,"span",31),e.EFF(47,"\u26a0\ufe0f Donn\xe9e sensible"),e.k0s()(),e.nrm(48,"input",32),e.k0s(),e.j41(49,"div",28)(50,"label",29),e.nrm(51,"i",33),e.EFF(52," Description de cat\xe9gorie "),e.k0s(),e.nrm(53,"textarea",34),e.k0s(),e.j41(54,"button",35),e.nrm(55,"i",36),e.EFF(56," Enregistrer les modifications "),e.k0s()()()(),e.j41(57,"div",37)(58,"div",9)(59,"h3",25),e.nrm(60,"i",38),e.EFF(61),e.k0s()(),e.j41(62,"div",15)(63,"div",39),e.DNE(64,Ya,16,19,"div",40),e.j41(65,"div",41)(66,"div",42),e.nrm(67,"i",43),e.j41(68,"h4"),e.EFF(69,"Nouvelle Histoire"),e.k0s(),e.j41(70,"a",44),e.EFF(71," Cr\xe9er une histoire "),e.k0s()()()()()()()}if(2&l){const n=c.$implicit;e.R7$(5),e.SpI(" Cat\xe9gorie #",n.value.category.id," "),e.R7$(13),e.JRh(n.value.category.category_name),e.R7$(8),e.JRh(n.value.category.code),e.R7$(3),e.Y8G("ngIf",n.value.category.category_description),e.R7$(7),e.Y8G("formGroup",n.value.form),e.R7$(2),e.Mz_("for","category_name_",n.value.category.id,""),e.R7$(3),e.Mz_("id","category_name_",n.value.category.id,""),e.R7$(2),e.Mz_("for","code_",n.value.category.id,""),e.R7$(5),e.Mz_("id","code_",n.value.category.id,""),e.R7$(2),e.Mz_("for","category_description_",n.value.category.id,""),e.R7$(3),e.Mz_("id","category_description_",n.value.category.id,""),e.R7$(8),e.SpI(" Histoires (",n.value.histoires.length,") "),e.R7$(3),e.Y8G("ngForOf",n.value.histoires),e.R7$(6),e.Y8G("routerLink",e.lJ4(21,tc))("queryParams",e.eq3(22,ph,n.value.category.id))}}let rp=(()=>{class l{constructor(n){this.formationService=n,this.categories={},this.imgUrl=r=>r?r.startsWith("http")?r:`${ur.c.apiUrl}${r}`:"",this.formationService.getFormationCategories().subscribe(r=>{r.filter(h=>"HISTOIRE"===h.code).forEach(h=>{const p=new S.gE({category_name:new S.MJ(h.category_name),category_description:new S.MJ(h.category_description),code:new S.MJ(h.code)});this.formationService.getFormationByCode(h.code).subscribe(_=>{const M=_.filter((F,Y,ge)=>Y===ge.findIndex(Je=>Je.id===F.id));this.categories[h.id]={category:h,histoires:M,form:p}})}),console.log(this.categories)})}onSubmit(n,r){const a=r.get("category_name")?.value,h=r.get("code")?.value,p=r.get("category_description")?.value;this.formationService.updateFormationCategory({id:n,category_name:a,code:h,category_description:p}).subscribe(()=>{console.log("Histoire category updated")})}onToggleDisplay(n){this.formationService.updateFormation({...n,displayed:!n.displayed}).subscribe(()=>{this.formationService.getFormationCategories().subscribe(r=>{r.filter(h=>"HISTOIRE"===h.code).forEach(h=>{this.formationService.getFormationByCode(h.code).subscribe(p=>{const _=p.filter((M,F,Y)=>F===Y.findIndex(ge=>ge.id===M.id));this.categories[h.id].histoires=_})})})})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Xs))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-histoire-backoffice"]],decls:10,vars:3,consts:[[1,"backoffice-page-container"],[1,"backoffice-header"],["routerLink","/backoffice",1,"back-link"],[1,"bi","bi-arrow-left"],[1,"page-title","zilla-slab"],[1,"categories-container"],["class","category-section",4,"ngFor","ngForOf"],[1,"category-section"],[1,"category-info-card"],[1,"card-header"],[1,"category-id"],[1,"bi","bi-folder-fill"],[1,"category-status"],[1,"status-badge","active"],[1,"bi","bi-check-circle-fill"],[1,"card-content"],[1,"info-row"],[1,"info-item"],[1,"bi","bi-tag"],[1,"info-content"],[1,"bi","bi-code-slash"],[1,"code-badge"],[1,"warning-text"],["class","info-row",4,"ngIf"],[1,"category-edit-card"],[1,"card-title"],[1,"bi","bi-pencil-square"],[1,"edit-category-form",3,"ngSubmit","formGroup"],[1,"form-group"],[3,"for"],["type","text","formControlName","category_name","placeholder","Nom de la cat\xe9gorie",1,"form-input",3,"id"],[1,"warning-badge"],["type","text","formControlName","code","placeholder","Code de la cat\xe9gorie",1,"form-input",3,"id"],[1,"bi","bi-file-text"],["formControlName","category_description","rows","6","placeholder","Description de la cat\xe9gorie",1,"form-textarea",3,"id"],["type","submit",1,"btn","btn-primary","btn-elevated"],[1,"bi","bi-check-circle"],[1,"formations-list-card"],[1,"bi","bi-book"],[1,"formations-grid"],["class","formation-card",4,"ngFor","ngForOf"],[1,"formation-card","new-formation-card"],[1,"new-formation-content"],[1,"bi","bi-plus-circle"],[1,"btn","btn-primary","btn-elevated",3,"routerLink","queryParams"],[1,"description-text"],[1,"formation-card"],["class","formation-image",4,"ngIf"],[1,"formation-content"],[1,"formation-name"],[1,"formation-status"],[1,"status-badge"],[1,"formation-actions"],[1,"btn-action","edit",3,"routerLink","queryParams"],[1,"bi","bi-pencil"],[1,"btn-action","toggle",3,"click"],[1,"formation-image"],[3,"src","alt"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.nrm(3,"i",3),e.EFF(4," Retour au backoffice "),e.k0s(),e.j41(5,"h1",4),e.EFF(6,"Gestion des Histoires"),e.k0s()(),e.j41(7,"div",5),e.DNE(8,ip,72,24,"div",6),e.nI1(9,"keyvalue"),e.k0s()()),2&r&&(e.R7$(8),e.Y8G("ngForOf",e.bMT(9,1,a.categories)))},dependencies:[R.Sq,R.bT,R.lG,S.YN,S.qT,S.me,S.BC,S.cb,S.X1,S.j4,S.JD,ys,To],styles:[".backoffice-page-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:2rem;background:var(--primary-color);color:var(--secondary-color);overflow-y:auto;overflow-x:hidden}@media (max-width: 768px){.backoffice-page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.backoffice-header[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto 2rem}@media (max-width: 768px){.backoffice-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:var(--secondary-color);text-decoration:none;font-size:.9rem;opacity:.8;margin-bottom:1.5rem;transition:all .2s ease}.back-link[_ngcontent-%COMP%]:hover{opacity:1;color:var(--accent-color);transform:translate(-4px)}.back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;margin:0;color:var(--secondary-color);font-weight:600}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:2rem}}.categories-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:2.5rem}@media (max-width: 768px){.categories-container[_ngcontent-%COMP%]{gap:2rem}}.category-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.category-info-card[_ngcontent-%COMP%], .category-edit-card[_ngcontent-%COMP%], .formations-list-card[_ngcontent-%COMP%]{background:var(--card-background);border:1px solid var(--card-border);border-radius:16px;padding:1.5rem;box-shadow:var(--box-shadow);transition:all .3s ease}.category-info-card[_ngcontent-%COMP%]:hover, .category-edit-card[_ngcontent-%COMP%]:hover, .formations-list-card[_ngcontent-%COMP%]:hover{box-shadow:var(--box-shadow-elevated)}@media (max-width: 768px){.category-info-card[_ngcontent-%COMP%], .category-edit-card[_ngcontent-%COMP%], .formations-list-card[_ngcontent-%COMP%]{padding:1.25rem}}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;margin-bottom:1rem;border-bottom:1px solid var(--card-border)}.card-title[_ngcontent-%COMP%]{font-size:1.3rem;margin:0;color:var(--secondary-color);font-family:Zilla Slab,serif;display:flex;align-items:center;gap:.5rem;font-weight:600}.card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color);font-size:1.2rem}.category-id[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;font-weight:600;color:var(--secondary-color)}.category-id[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color);font-size:1.3rem}.category-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .8rem;border-radius:8px;font-size:.85rem;font-weight:500}.category-status[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:color-mix(in srgb,#7DDF64 20%,transparent);border:1px solid #7DDF64;color:#7ddf64}.category-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--accent-color);margin-top:.25rem;flex-shrink:0}.info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex:1;min-width:0}.info-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);text-transform:uppercase;font-weight:600;letter-spacing:.5px}.info-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:var(--secondary-color);word-break:break-word}.code-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .6rem;background:color-mix(in srgb,#ed2525 20%,transparent);border:1px solid #ed2525;border-radius:8px;font-weight:600;color:#ed2525;font-size:.9rem;font-family:monospace;margin-right:.5rem}.warning-text[_ngcontent-%COMP%]{font-size:.75rem!important;color:#ed2525!important;font-style:italic}.description-text[_ngcontent-%COMP%]{white-space:pre-wrap;line-height:1.6;max-height:200px;overflow-y:auto;padding:.5rem;background:var(--primary-color);border-radius:8px;border:1px solid var(--card-border)}.edit-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:var(--secondary-color);display:flex;align-items:center;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color);font-size:1rem}.warning-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .5rem;background:color-mix(in srgb,#ed2525 20%,transparent);border:1px solid #ed2525;border-radius:6px;color:#ed2525;margin-left:auto}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:var(--primary-color);border:1px solid var(--card-border);border-radius:8px;color:var(--secondary-color);font-size:.95rem;font-family:Work Sans,sans-serif;transition:all .2s ease}.form-input[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 3px color-mix(in srgb,var(--accent-color) 20%,transparent)}.form-input[_ngcontent-%COMP%]::placeholder, .form-textarea[_ngcontent-%COMP%]::placeholder{color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);opacity:.6}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.formations-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}@media (max-width: 768px){.formations-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.formation-card[_ngcontent-%COMP%]{background:var(--primary-color);border:1px solid var(--card-border);border-radius:12px;padding:1.5rem;transition:all .3s ease;display:flex;flex-direction:column;gap:1rem}.formation-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--box-shadow-elevated);border-color:var(--accent-color)}.formation-card.new-formation-card[_ngcontent-%COMP%]{border:2px dashed var(--card-border);background:color-mix(in srgb,var(--card-background) 50%,transparent);align-items:center;justify-content:center;min-height:250px}.formation-card.new-formation-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);background:color-mix(in srgb,var(--accent-color) 10%,var(--card-background))}.formation-image[_ngcontent-%COMP%]{width:100%;height:150px;border-radius:8px;overflow:hidden;background:var(--card-background);display:flex;align-items:center;justify-content:center}.formation-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.formation-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex-grow:1}.formation-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin:0;color:var(--secondary-color);font-family:Zilla Slab,serif}.formation-status[_ngcontent-%COMP%]{margin-top:auto}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .8rem;border-radius:8px;font-size:.85rem;font-weight:500}.status-badge.displayed[_ngcontent-%COMP%]{background:color-mix(in srgb,#7DDF64 20%,transparent);border:1px solid #7DDF64;color:#7ddf64}.status-badge.hidden[_ngcontent-%COMP%]{background:color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 20%,transparent);border:1px solid color-mix(in srgb,rgb(199,199,199) 80%,white 20%);color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%)}.status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.formation-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.btn-action[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:8px;font-size:.85rem;font-weight:500;text-decoration:none;transition:all .2s ease;cursor:pointer;border:1px solid transparent;background:transparent;color:var(--secondary-color);font-family:Work Sans,sans-serif}.btn-action.edit[_ngcontent-%COMP%]{color:var(--accent-color);border-color:var(--accent-color)}.btn-action.edit[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color) 20%,transparent);transform:translateY(-2px)}.btn-action.toggle[_ngcontent-%COMP%]{color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);border-color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%)}.btn-action.toggle[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 20%,transparent);transform:translateY(-2px)}.btn-action.toggle.active[_ngcontent-%COMP%]{color:#7ddf64;border-color:#7ddf64}.btn-action.toggle.active[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,#7DDF64 20%,transparent)}.btn-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.new-formation-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;text-align:center;width:100%}.new-formation-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--accent-color);opacity:.6}.new-formation-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;margin:0;color:var(--secondary-color);font-family:Zilla Slab,serif}"]})}}return l})();function op(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.downloadCSV())}),e.nrm(1,"i",10),e.EFF(2," T\xe9l\xe9charger en CSV "),e.k0s()}}function vh(l,c){if(1&l&&(e.j41(0,"tr",16)(1,"td",17),e.EFF(2),e.k0s(),e.j41(3,"td",18)(4,"span",19),e.EFF(5),e.k0s()(),e.j41(6,"td",20),e.EFF(7),e.k0s(),e.j41(8,"td",21)(9,"span",22),e.EFF(10),e.k0s()(),e.j41(11,"td",23)(12,"span",24),e.EFF(13),e.k0s()(),e.j41(14,"td",25)(15,"span",26),e.EFF(16),e.k0s()(),e.j41(17,"td",27)(18,"span",28),e.nrm(19,"i"),e.EFF(20),e.k0s()(),e.j41(21,"td",29),e.EFF(22),e.k0s()()),2&l){const n=c.$implicit,r=e.XpG(2);e.R7$(2),e.JRh(n.id),e.R7$(3),e.JRh(n.username||"N/A"),e.R7$(2),e.JRh(n.email||"N/A"),e.R7$(3),e.JRh(n.token_coin||0),e.R7$(3),e.JRh(n.mojettes||0),e.R7$(2),e.AVh("admin","admin"===n.role)("user","admin"!==n.role),e.R7$(),e.SpI(" ",n.role||"user"," "),e.R7$(2),e.AVh("confirmed",n.confirmed)("unconfirmed",!n.confirmed),e.R7$(),e.HbH(n.confirmed?"bi bi-check-circle-fill":"bi bi-x-circle-fill"),e.R7$(),e.SpI(" ",n.confirmed?"Confirm\xe9":"Non confirm\xe9"," "),e.R7$(2),e.JRh(r.formatDate(n.created_at))}}function sp(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"table",13)(3,"thead")(4,"tr")(5,"th",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.sortUsers("id"))}),e.nrm(6,"i"),e.EFF(7," ID "),e.k0s(),e.j41(8,"th",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.sortUsers("username"))}),e.nrm(9,"i"),e.EFF(10," Pseudo "),e.k0s(),e.j41(11,"th",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.sortUsers("email"))}),e.nrm(12,"i"),e.EFF(13," Email "),e.k0s(),e.j41(14,"th",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.sortUsers("token_coin"))}),e.nrm(15,"i"),e.EFF(16," Tokens "),e.k0s(),e.j41(17,"th",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.sortUsers("mojettes"))}),e.nrm(18,"i"),e.EFF(19," Mojettes "),e.k0s(),e.j41(20,"th",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.sortUsers("role"))}),e.nrm(21,"i"),e.EFF(22," R\xf4le "),e.k0s(),e.j41(23,"th",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.sortUsers("confirmed"))}),e.nrm(24,"i"),e.EFF(25," Statut "),e.k0s(),e.j41(26,"th",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.sortUsers("created_at"))}),e.nrm(27,"i"),e.EFF(28," Date de cr\xe9ation "),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,vh,23,18,"tr",15),e.k0s()()()()}if(2&l){const n=e.XpG();e.R7$(6),e.HbH("bi "+n.getSortIcon("id")),e.R7$(3),e.HbH("bi "+n.getSortIcon("username")),e.R7$(3),e.HbH("bi "+n.getSortIcon("email")),e.R7$(3),e.HbH("bi "+n.getSortIcon("token_coin")),e.R7$(3),e.HbH("bi "+n.getSortIcon("mojettes")),e.R7$(3),e.HbH("bi "+n.getSortIcon("role")),e.R7$(3),e.HbH("bi "+n.getSortIcon("confirmed")),e.R7$(3),e.HbH("bi "+n.getSortIcon("created_at")),e.R7$(3),e.Y8G("ngForOf",n.sortedUsers)}}function ap(l,c){1&l&&(e.j41(0,"div",30),e.nrm(1,"i",31),e.j41(2,"h3"),e.EFF(3,"Aucun utilisateur trouv\xe9"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Il n'y a aucun utilisateur dans le syst\xe8me pour le moment."),e.k0s()())}let bh=(()=>{class l{constructor(n){this.authService=n,this.users=[],this.sortedUsers=[],this.sortField="created_at",this.sortDirection="desc",this.authService.getUsers().subscribe(r=>{this.users=r,this.sortedUsers=[...r],this.sortUsers()})}sortUsers(n){n&&(this.sortField===n?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortField=n,this.sortDirection="asc")),this.sortedUsers=[...this.users].sort((r,a)=>{let h=r[this.sortField],p=a[this.sortField];return null==h?1:null==p?-1:("created_at"===this.sortField&&(h=new Date(h).getTime(),p=new Date(p).getTime()),"string"==typeof h&&"string"==typeof p&&(h=h.toLowerCase(),p=p.toLowerCase()),h<p?"asc"===this.sortDirection?-1:1:h>p?"asc"===this.sortDirection?1:-1:0)})}formatDate(n){return n?new Date(n).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A"}getSortIcon(n){return this.sortField!==n?"bi-arrow-down-up":"asc"===this.sortDirection?"bi-arrow-up":"bi-arrow-down"}downloadCSV(){if(0===this.sortedUsers.length)return;const r=this.sortedUsers.map(Y=>[Y.id?.toString()||"",Y.username||"N/A",Y.email||"N/A",Y.token_coin?.toString()||"0",Y.mojettes?.toString()||"0",Y.role||"user",Y.confirmed?"Confirm\xe9":"Non confirm\xe9",Y.created_at?this.formatDateForCSV(Y.created_at):"N/A"]),h=[["ID","Pseudo","Email","Tokens","Mojettes","R\xf4le","Statut","Date de cr\xe9ation"].join(","),...r.map(Y=>Y.map(ge=>(Y=>Y.includes(",")||Y.includes('"')||Y.includes("\n")?`"${Y.replace(/"/g,'""')}"`:Y)(ge.toString())).join(","))].join("\n"),_=new Blob(["\ufeff"+h],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a"),F=URL.createObjectURL(_);M.setAttribute("href",F),M.setAttribute("download",`utilisateurs_${(new Date).toISOString().split("T")[0]}.csv`),M.style.visibility="hidden",document.body.appendChild(M),M.click(),document.body.removeChild(M)}formatDateForCSV(n){return n?new Date(n).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A"}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(yr.u))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-users"]],decls:13,vars:5,consts:[["noUsers",""],[1,"backoffice-page-container"],[1,"backoffice-header"],["routerLink","/backoffice",1,"back-link"],[1,"bi","bi-arrow-left"],[1,"page-title","zilla-slab"],[1,"page-subtitle"],["class","download-csv-button",3,"click",4,"ngIf"],["class","users-container",4,"ngIf","ngIfElse"],[1,"download-csv-button",3,"click"],[1,"bi","bi-download"],[1,"users-container"],[1,"users-table-wrapper"],[1,"users-table"],[1,"sortable",3,"click"],["class","user-row",4,"ngFor","ngForOf"],[1,"user-row"],[1,"user-id"],[1,"user-username"],[1,"username-badge"],[1,"user-email"],[1,"user-tokens"],[1,"token-badge"],[1,"user-mojettes"],[1,"mojette-badge"],[1,"user-role"],[1,"role-badge"],[1,"user-status"],[1,"status-badge"],[1,"user-created-at"],[1,"empty-state"],[1,"bi","bi-people"]],template:function(r,a){if(1&r&&(e.j41(0,"div",1)(1,"div",2)(2,"a",3),e.nrm(3,"i",4),e.EFF(4," Retour au backoffice "),e.k0s(),e.j41(5,"h1",5),e.EFF(6,"Gestion des Utilisateurs"),e.k0s(),e.j41(7,"p",6),e.EFF(8),e.k0s(),e.DNE(9,op,3,0,"button",7),e.k0s(),e.DNE(10,sp,31,17,"div",8)(11,ap,6,0,"ng-template",null,0,e.C5r),e.k0s()),2&r){const h=e.sdS(12);e.R7$(8),e.Lme("",a.users.length," utilisateur",a.users.length>1?"s":""," au total"),e.R7$(),e.Y8G("ngIf",a.users.length>0),e.R7$(),e.Y8G("ngIf",a.users.length>0)("ngIfElse",h)}},dependencies:[R.Sq,R.bT,ys,To],styles:[".backoffice-page-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:2rem;background:var(--primary-color);color:var(--secondary-color);overflow-y:auto;overflow-x:hidden}@media (max-width: 768px){.backoffice-page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.backoffice-header[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto 2rem;text-align:center}@media (max-width: 768px){.backoffice-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:var(--secondary-color);text-decoration:none;font-size:.9rem;opacity:.8;margin-bottom:1.5rem;transition:all .2s ease}.back-link[_ngcontent-%COMP%]:hover{opacity:1;color:var(--accent-color);transform:translate(-4px)}.back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;margin:.5rem 0;color:var(--secondary-color);font-weight:600}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:2rem}}.page-subtitle[_ngcontent-%COMP%]{font-size:1rem;opacity:.7;margin:.5rem 0 1rem;color:var(--secondary-color)}.download-csv-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:var(--accent-color);color:var(--primary-color);border:none;border-radius:8px;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s ease;margin-top:.5rem}.download-csv-button[_ngcontent-%COMP%]:hover{opacity:.9;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.download-csv-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.download-csv-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}@media (max-width: 768px){.download-csv-button[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.85rem}}.users-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.users-table-wrapper[_ngcontent-%COMP%]{background:var(--card-background);border:1px solid var(--card-border);border-radius:16px;padding:1.5rem;box-shadow:var(--box-shadow);overflow-x:auto}@media (max-width: 768px){.users-table-wrapper[_ngcontent-%COMP%]{padding:1rem}}.users-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9rem}@media (max-width: 1024px){.users-table[_ngcontent-%COMP%]{font-size:.85rem}}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--primary-color)}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:2px solid var(--card-border)}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem .75rem;text-align:left;font-weight:600;color:var(--secondary-color);font-size:.95rem;white-space:nowrap}@media (max-width: 768px){.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem .5rem;font-size:.85rem}}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease;position:relative}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]:hover{color:var(--accent-color);opacity:.9}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;margin-right:.5rem;font-size:.85rem;opacity:.6;transition:opacity .2s ease;vertical-align:middle}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{opacity:1}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--card-border);transition:all .2s ease}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color) 5%,transparent)}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem;color:var(--secondary-color)}@media (max-width: 768px){.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem}}.user-id[_ngcontent-%COMP%]{font-weight:600;color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);font-family:monospace}.user-created-at[_ngcontent-%COMP%]{font-size:.85rem;color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);white-space:nowrap}.user-username[_ngcontent-%COMP%]   .username-badge[_ngcontent-%COMP%]{display:inline-block;padding:.35rem .75rem;background:color-mix(in srgb,var(--accent-color) 20%,transparent);border:1px solid var(--accent-color);border-radius:8px;font-weight:500;color:var(--accent-color)}.user-email[_ngcontent-%COMP%]{word-break:break-word;max-width:250px;font-size:.9rem}.token-badge[_ngcontent-%COMP%], .mojette-badge[_ngcontent-%COMP%]{display:inline-block;padding:.3rem .6rem;background:color-mix(in srgb,#dfbe64 20%,transparent);border:1px solid #dfbe64;border-radius:8px;font-weight:600;color:#dfbe64;font-family:monospace;font-size:.9rem}.role-badge[_ngcontent-%COMP%]{display:inline-block;padding:.35rem .75rem;border-radius:8px;font-weight:600;font-size:.85rem;text-transform:uppercase}.role-badge.admin[_ngcontent-%COMP%]{background:color-mix(in srgb,#ed2525 20%,transparent);border:1px solid #ed2525;color:#ed2525}.role-badge.user[_ngcontent-%COMP%]{background:color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 20%,transparent);border:1px solid color-mix(in srgb,rgb(199,199,199) 80%,white 20%);color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:8px;font-weight:500;font-size:.85rem}.status-badge.confirmed[_ngcontent-%COMP%]{background:color-mix(in srgb,#7DDF64 20%,transparent);border:1px solid #7DDF64;color:#7ddf64}.status-badge.unconfirmed[_ngcontent-%COMP%]{background:color-mix(in srgb,#ed2525 20%,transparent);border:1px solid #ed2525;color:#ed2525}.status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.empty-state[_ngcontent-%COMP%]{max-width:500px;margin:4rem auto;text-align:center;padding:3rem 2rem;background:var(--card-background);border:1px solid var(--card-border);border-radius:16px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);opacity:.5;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 0 .5rem;color:var(--secondary-color);font-family:Zilla Slab,serif}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);margin:0}@media (max-width: 768px){.users-table-wrapper[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.users-table-wrapper[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;padding:1rem;background:var(--primary-color);border:1px solid var(--card-border);border-radius:12px}.users-table-wrapper[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:.5rem 0;text-align:right}.users-table-wrapper[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:600;color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%)}}"]})}}return l})();var Sr=D(9437),Cs=D(8810);let Qa=(()=>{class l{constructor(n,r){this.http=n,this.internalService=r,this.baseUrl=ur.c.apiUrl,this.internalService.getUser().subscribe(a=>{a&&a.id&&(this.userId=a.id)})}getWeekProblems(){return this.http.get(`${this.baseUrl}/week_problems`).pipe((0,Sr.W)(this.handleError))}getWeekProblemById(n){return this.http.get(`${this.baseUrl}/week_problems/${n}`).pipe((0,Sr.W)(this.handleError))}getCurrentWeekProblem(){return this.http.get(`${this.baseUrl}/week_problems/current`).pipe((0,Sr.W)(this.handleError))}createWeekProblem(n){return this.http.post(`${this.baseUrl}/week_problems`,n).pipe((0,Sr.W)(this.handleError))}updateWeekProblem(n,r){return this.http.put(`${this.baseUrl}/week_problems/${n}`,r).pipe((0,Sr.W)(this.handleError))}deleteWeekProblem(n){return this.http.delete(`${this.baseUrl}/week_problems/${n}`).pipe((0,Sr.W)(this.handleError))}verifyWeekProblem(n,r,a,h=0){return this.http.post(`${this.baseUrl}/week_problems/${n}/verify`,{values:r,indice:a,helps_used:h}).pipe((0,Sr.W)(this.handleError))}uploadWeekProblemImage(n){const r=`${this.baseUrl}/week_problems/upload-image`,a=new FormData;return a.append("image",n),this.http.post(r,a).pipe((0,Sr.W)(this.handleError))}hasCompletedWeekProblem(n){return this.http.get(`${this.baseUrl}/week_problems/${n}/completed`).pipe((0,Sr.W)(this.handleError))}getCompletedWeekProblems(){return this.http.get(`${this.baseUrl}/week_problems/completed`).pipe((0,Sr.W)(this.handleError))}getWeekProblemCompletions(n){return this.http.get(`${this.baseUrl}/week_problems/${n}/completions`).pipe((0,Sr.W)(this.handleError))}handleError(n){let r="Unable to complete the request";return r=n.error instanceof ErrorEvent?"An error occurred:"+n.error.message:"Server error occurred. Please try again later.",(0,Cs.$)(()=>new Error(r))}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(v.Qq),e.KVO(co.P))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function Wr(l,c){1&l&&(e.j41(0,"div",54)(1,"div",55)(2,"span",56),e.EFF(3,"Chargement..."),e.k0s()(),e.j41(4,"p"),e.EFF(5,"Chargement..."),e.k0s()())}function lE(l,c){if(1&l&&(e.j41(0,"div",57),e.nrm(1,"i",58),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&l){const n=e.XpG();e.R7$(3),e.JRh(n.error)}}function md(l,c){1&l&&(e.j41(0,"div",59),e.nrm(1,"div",60),e.j41(2,"span"),e.EFF(3,"Envoi de l'image en cours..."),e.k0s()())}function Bv(l,c){if(1&l&&(e.j41(0,"div",61),e.nrm(1,"img",62),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.Y8G("src",n.getImageUrl(),e.B4B)}}function Za(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",66),e.bIt("click",function(){e.eBV(n);const a=e.XpG().index,h=e.XpG();return e.Njj(h.removeVariable(a))}),e.nrm(1,"i",67),e.k0s()}}function yh(l,c){if(1&l&&(e.j41(0,"div",63),e.nrm(1,"input",64),e.DNE(2,Za,2,0,"button",65),e.k0s()),2&l){const n=c.index,r=e.XpG();e.R7$(),e.Y8G("formControlName",n),e.R7$(),e.Y8G("ngIf",r.variables.length>1)}}function lp(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",66),e.bIt("click",function(){e.eBV(n);const a=e.XpG().index,h=e.XpG();return e.Njj(h.removeValueList(a))}),e.nrm(1,"i",67),e.k0s()}}function cp(l,c){if(1&l&&(e.j41(0,"div",63),e.nrm(1,"input",68),e.DNE(2,lp,2,0,"button",65),e.k0s()),2&l){const n=c.index,r=e.XpG();e.R7$(),e.Y8G("formControlName",n),e.R7$(),e.Y8G("ngIf",r.values_list.length>1)}}function dp(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",66),e.bIt("click",function(){e.eBV(n);const a=e.XpG().index,h=e.XpG();return e.Njj(h.removeSolution(a))}),e.nrm(1,"i",67),e.k0s()}}function Ch(l,c){if(1&l&&(e.j41(0,"div",63),e.nrm(1,"input",69),e.DNE(2,dp,2,0,"button",65),e.k0s()),2&l){const n=c.index,r=e.XpG();e.R7$(),e.Y8G("formControlName",n),e.R7$(),e.Y8G("ngIf",r.solution.length>1)}}function Eh(l,c){if(1&l&&(e.j41(0,"div",70),e.nrm(1,"i",58),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&l){const n=e.XpG();e.R7$(3),e.JRh(n.jsonError)}}function Vv(l,c){if(1&l&&(e.j41(0,"div",71),e.nrm(1,"i",72),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&l){const n=e.XpG();e.R7$(3),e.JRh(n.jsonSuccess)}}function up(l,c){if(1&l&&(e.j41(0,"div",57),e.nrm(1,"i",58),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&l){const n=e.XpG();e.R7$(3),e.JRh(n.submitError)}}function cE(l,c){if(1&l&&(e.j41(0,"div",73),e.nrm(1,"i",72),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&l){const n=e.XpG();e.R7$(3),e.JRh(n.submitSuccess)}}let Gi=(()=>{class l{constructor(n,r,a,h){this.fb=n,this.route=r,this.router=a,this.weekProblemService=h,this.loading=!1,this.error=null,this.submitError=null,this.jsonError=null,this.jsonSuccess=null,this.submitSuccess=null,this.isEdit=!1,this.problemId=0,this.imageUrl=null,this.imageUploading=!1,this.weekProblemForm=this.fb.group({nb_val_to_find:[null,S.k0.required],problem_statement:["",S.k0.required],problem_question:["",S.k0.required],figure_path:["",S.k0.required],reward_mojette:[0,S.k0.required],reward_token_coin:[0,S.k0.required],variables:this.fb.array([this.fb.control("",S.k0.required)]),values_list:this.fb.array([this.fb.control("",S.k0.required)]),solution:this.fb.array([this.fb.control("",S.k0.required)]),date:["",S.k0.required]}),this.route.paramMap.subscribe(p=>{const _=Number(p.get("id"));this.problemId=_,this.isEdit=0!==_,this.isEdit&&(this.loading=!0,this.weekProblemService.getWeekProblemById(String(_)).subscribe({next:M=>{this.patchForm(M),this.loading=!1},error:M=>{this.error=M.message||"Erreur lors du chargement",this.loading=!1}}))})}patchForm(n){this.weekProblemForm.patchValue({nb_val_to_find:n.nb_val_to_find,problem_statement:n.problem_statement??"",problem_question:n.problem_question??"",figure_path:n.figure_path,reward_mojette:n.reward_mojette??0,reward_token_coin:n.reward_token_coin??0,date:n.date}),this.imageUrl=n.figure_path,this.variables.clear(),n.variables.forEach(r=>this.variables.push(this.fb.control(r,S.k0.required))),0===this.variables.length&&this.addVariable(),this.values_list.clear(),n.values_list.forEach(r=>this.values_list.push(this.fb.control(JSON.stringify(r),S.k0.required))),0===this.values_list.length&&this.addValueList(),this.solution.clear(),n.solution.forEach(r=>this.solution.push(this.fb.control(JSON.stringify(r),S.k0.required))),0===this.solution.length&&this.addSolution()}get variables(){return this.weekProblemForm.get("variables")}get values_list(){return this.weekProblemForm.get("values_list")}get solution(){return this.weekProblemForm.get("solution")}getJsonPreview(){const n=this.weekProblemForm.value,r={variables:n.variables,values_list:n.values_list.map(a=>{try{return JSON.parse(a)}catch{return a}}),solution:n.solution.map(a=>{try{return JSON.parse(a)}catch{return a}}),date:n.date||(new Date).toISOString().split("T")[0],nb_val_to_find:n.nb_val_to_find,reward_mojette:n.reward_mojette,reward_token_coin:n.reward_token_coin,problem_statement:n.problem_statement,problem_question:n.problem_question};return JSON.stringify(r,null,2)}formatJsonIndentation(n){try{const r=JSON.parse(n);return JSON.stringify(r,null,2)}catch{return n}}copyJsonToClipboard(){const n=this.getJsonPreview();navigator.clipboard.writeText(n).then(()=>{this.jsonSuccess="JSON copi\xe9 dans le presse-papiers!",this.jsonError=null,setTimeout(()=>this.jsonSuccess=null,3e3)}).catch(r=>{console.error("Erreur lors de la copie:",r),this.jsonError="Erreur lors de la copie"})}applyJsonFromTextarea(n){const r=n?.target||document.querySelector(".json-preview");if(r)try{const a=r.value.trim();if(!a)return void(this.jsonError="Le JSON ne peut pas \xeatre vide");const h=JSON.parse(a);r.value=this.formatJsonIndentation(a),this.weekProblemForm.patchValue({nb_val_to_find:h.nb_val_to_find??null,problem_statement:h.problem_statement??"",problem_question:h.problem_question??"",figure_path:h.figure_path??"",reward_mojette:h.reward_mojette??0,reward_token_coin:h.reward_token_coin??0,date:h.date??(new Date).toISOString().split("T")[0]}),this.variables.clear(),Array.isArray(h.variables)&&h.variables.forEach(p=>{this.variables.push(this.fb.control(p,S.k0.required))}),0===this.variables.length&&this.addVariable(),this.values_list.clear(),Array.isArray(h.values_list)&&h.values_list.forEach(p=>{this.values_list.push(this.fb.control(JSON.stringify(p),S.k0.required))}),0===this.values_list.length&&this.addValueList(),this.solution.clear(),Array.isArray(h.solution)&&h.solution.forEach(p=>{this.solution.push(this.fb.control(JSON.stringify(p),S.k0.required))}),0===this.solution.length&&this.addSolution(),this.jsonError=null,this.submitError=null,this.jsonSuccess="JSON appliqu\xe9 avec succ\xe8s!",setTimeout(()=>this.jsonSuccess=null,3e3)}catch(a){this.jsonError=`Erreur lors du parsing JSON: ${a.message}`}}addVariable(){this.variables.push(this.fb.control("",S.k0.required))}removeVariable(n){this.variables.length>1&&this.variables.removeAt(n)}addValueList(){this.values_list.push(this.fb.control("",S.k0.required))}removeValueList(n){this.values_list.length>1&&this.values_list.removeAt(n)}addSolution(){this.solution.push(this.fb.control("",S.k0.required))}removeSolution(n){this.solution.length>1&&this.solution.removeAt(n)}importImage(n){const a=n.target.files?.[0];a&&(this.imageUploading=!0,this.weekProblemService.uploadWeekProblemImage(a).subscribe({next:({image_url:h})=>{this.weekProblemForm.patchValue({figure_path:h}),this.imageUrl=h,this.imageUploading=!1},error:h=>{this.submitError=h.message||"Erreur lors de l'upload",this.imageUploading=!1}}))}getImageUrl(){if(!this.imageUrl)return"";if(this.imageUrl.startsWith("http")||this.imageUrl.startsWith("/assets"))return this.imageUrl;if(this.imageUrl.startsWith("/week_problems/image/")){let n=`${ur.c.apiUrl}${this.imageUrl}`;return n=n.replace("/week_problems/image/","/week_problems/image/lowered/"),n}return this.imageUrl}submit(){this.submitSuccess=null,this.submitError=null,this.loading=!0;const n=this.weekProblemForm.value,r={...n,variables:n.variables,values_list:n.values_list.map(a=>JSON.parse(a)),solution:n.solution.map(a=>JSON.parse(a))};this.isEdit?this.weekProblemService.updateWeekProblem(this.problemId,r).subscribe({next:()=>{this.submitSuccess="Modification enregistr\xe9e",this.loading=!1,setTimeout(()=>this.router.navigate(["/backoffice/weekproblems"]),700)},error:a=>{this.submitError=a.message||"Erreur lors de la modification",this.loading=!1}}):this.weekProblemService.createWeekProblem(r).subscribe({next:()=>{this.submitSuccess="\xc9nigme cr\xe9\xe9e",this.loading=!1,setTimeout(()=>this.router.navigate(["/backoffice/weekproblems"]),700)},error:a=>{this.submitError=a.message||"Erreur lors de la cr\xe9ation",this.loading=!1}})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(S.ok),e.rXU(Mt.nX),e.rXU(Mt.Ix),e.rXU(Qa))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-backoffice-weekproblem"]],decls:117,vars:20,consts:[[1,"weekproblem-container"],[1,"backoffice-header"],["href","/backoffice/weekproblems",1,"back-link"],[1,"bi","bi-arrow-left"],[1,"page-title"],[1,"content-wrapper"],["class","loading-state",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[1,"week-problem-form",3,"formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-group"],["for","nb_val_to_find"],["id","nb_val_to_find","type","number","formControlName","nb_val_to_find","min","1",1,"form-control"],["for","date"],["id","date","type","date","formControlName","date",1,"form-control"],["for","problem_statement"],["id","problem_statement","formControlName","problem_statement","rows","4","placeholder","D\xe9crivez le probl\xe8me...",1,"form-control"],["for","problem_question"],["id","problem_question","formControlName","problem_question","rows","3","placeholder","Posez la question...",1,"form-control"],["for","image_input"],[1,"file-input-wrapper"],["id","image_input","type","file","accept","image/*",1,"file-input",3,"change"],["for","image_input",1,"file-label"],[1,"bi","bi-cloud-upload"],["class","upload-status",4,"ngIf"],["class","image-preview",4,"ngIf"],[1,"form-row"],["for","reward_mojette"],["id","reward_mojette","type","number","formControlName","reward_mojette","min","0",1,"form-control"],["for","reward_token_coin"],["id","reward_token_coin","type","number","formControlName","reward_token_coin","min","0",1,"form-control"],[1,"section-header"],[1,"section-hint"],["formArrayName","variables",1,"array-form"],["class","array-item",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-add","btn-sm",3,"click"],[1,"bi","bi-plus-circle"],["formArrayName","values_list",1,"array-form"],["formArrayName","solution",1,"array-form"],[1,"json-preview-wrapper"],["spellcheck","false","placeholder","Collez votre JSON ici...",1,"json-preview",3,"value"],[1,"json-actions"],["type","button","title","Copier le JSON",1,"btn","btn-add","btn-sm",3,"click"],[1,"bi","bi-clipboard"],["type","button","title","Appliquer le JSON",1,"btn","btn-add","btn-sm",3,"click"],[1,"bi","bi-arrow-repeat"],["class","alert alert-json-error","style","margin-top: 1rem; margin-bottom: 0;",4,"ngIf"],["class","alert alert-json-success","style","margin-top: 1rem; margin-bottom: 0;",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-primary","btn-lg",3,"click","disabled"],[1,"bi"],["href","/backoffice/weekproblems",1,"btn","btn-outline","btn-lg"],[1,"loading-state"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-error"],[1,"bi","bi-exclamation-triangle-fill"],[1,"upload-status"],[1,"spinner-border","spinner-sm"],[1,"image-preview"],["alt","Aper\xe7u de l'illustration",3,"src"],[1,"array-item"],["placeholder","Variable",1,"form-control",3,"formControlName"],["type","button","class","btn-remove","title","Supprimer",3,"click",4,"ngIf"],["type","button","title","Supprimer",1,"btn-remove",3,"click"],[1,"bi","bi-trash"],["placeholder","[valeur1, valeur2, ...]",1,"form-control",3,"formControlName"],["placeholder","[solution1, solution2, ...]",1,"form-control",3,"formControlName"],[1,"alert","alert-json-error",2,"margin-top","1rem","margin-bottom","0"],[1,"alert","alert-json-success",2,"margin-top","1rem","margin-bottom","0"],[1,"bi","bi-check-circle-fill"],[1,"alert","alert-success"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.nrm(3,"i",3),e.EFF(4," Retour \xe0 la liste "),e.k0s(),e.j41(5,"h1",4),e.EFF(6),e.k0s()(),e.j41(7,"div",5),e.DNE(8,Wr,6,0,"div",6)(9,lE,4,1,"div",7),e.j41(10,"form",8)(11,"div",9)(12,"h2",10),e.EFF(13,"Informations de base"),e.k0s(),e.j41(14,"div",11)(15,"label",12),e.EFF(16,"Nombre de valeurs \xe0 trouver *"),e.k0s(),e.nrm(17,"input",13),e.k0s(),e.j41(18,"div",11)(19,"label",14),e.EFF(20,"Date du lundi de la semaine *"),e.k0s(),e.nrm(21,"input",15),e.k0s()(),e.j41(22,"div",9)(23,"h2",10),e.EFF(24,"Description du probl\xe8me"),e.k0s(),e.j41(25,"div",11)(26,"label",16),e.EFF(27,"\xc9nonc\xe9 du probl\xe8me *"),e.k0s(),e.nrm(28,"textarea",17),e.k0s(),e.j41(29,"div",11)(30,"label",18),e.EFF(31,"Question du probl\xe8me *"),e.k0s(),e.nrm(32,"textarea",19),e.k0s()(),e.j41(33,"div",9)(34,"h2",10),e.EFF(35,"Illustration"),e.k0s(),e.j41(36,"div",11)(37,"label",20),e.EFF(38,"Illustration de l'\xe9nigme *"),e.k0s(),e.j41(39,"div",21)(40,"input",22),e.bIt("change",function(p){return a.importImage(p)}),e.k0s(),e.j41(41,"label",23),e.nrm(42,"i",24),e.j41(43,"span"),e.EFF(44,"Cliquez pour s\xe9lectionner une image"),e.k0s()()(),e.DNE(45,md,4,0,"div",25)(46,Bv,2,1,"div",26),e.k0s()(),e.j41(47,"div",9)(48,"h2",10),e.EFF(49,"R\xe9compenses"),e.k0s(),e.j41(50,"div",27)(51,"div",11)(52,"label",28),e.EFF(53,"R\xe9compense (Mojettes)"),e.k0s(),e.nrm(54,"input",29),e.k0s(),e.j41(55,"div",11)(56,"label",30),e.EFF(57,"R\xe9compense (Token Coins)"),e.k0s(),e.nrm(58,"input",31),e.k0s()()(),e.j41(59,"div",9)(60,"div",32)(61,"h2",10),e.EFF(62,"Variables"),e.k0s(),e.j41(63,"p",33),e.EFF(64,'Une par ligne, exemple : "c", puis "a+b", ...'),e.k0s()(),e.j41(65,"div",34),e.DNE(66,yh,3,2,"div",35),e.j41(67,"button",36),e.bIt("click",function(){return a.addVariable()}),e.nrm(68,"i",37),e.EFF(69," Ajouter une variable "),e.k0s()()(),e.j41(70,"div",9)(71,"div",32)(72,"h2",10),e.EFF(73,"Liste des valeurs"),e.k0s(),e.j41(74,"p",33),e.EFF(75,"Un tableau \xe0 chaque ligne, exemple: [1,2,3]"),e.k0s()(),e.j41(76,"div",38),e.DNE(77,cp,3,2,"div",35),e.j41(78,"button",36),e.bIt("click",function(){return a.addValueList()}),e.nrm(79,"i",37),e.EFF(80," Ajouter un tableau de valeurs "),e.k0s()()(),e.j41(81,"div",9)(82,"div",32)(83,"h2",10),e.EFF(84,"Solutions"),e.k0s(),e.j41(85,"p",33),e.EFF(86,"Un tableau \xe0 chaque ligne, exemple: [1,2,3]"),e.k0s()(),e.j41(87,"div",39),e.DNE(88,Ch,3,2,"div",35),e.j41(89,"button",36),e.bIt("click",function(){return a.addSolution()}),e.nrm(90,"i",37),e.EFF(91," Ajouter une solution "),e.k0s()()(),e.j41(92,"div",9)(93,"h2",10),e.EFF(94,"Aper\xe7u JSON"),e.k0s(),e.j41(95,"p",33),e.EFF(96,"Vous pouvez copier ce JSON ou le coller depuis un fichier existant"),e.k0s(),e.j41(97,"div",40)(98,"textarea",41),e.EFF(99,"          "),e.k0s(),e.j41(100,"div",42)(101,"button",43),e.bIt("click",function(){return a.copyJsonToClipboard()}),e.nrm(102,"i",44),e.EFF(103," Copier le JSON "),e.k0s(),e.j41(104,"button",45),e.bIt("click",function(){return a.applyJsonFromTextarea()}),e.nrm(105,"i",46),e.EFF(106," Appliquer le JSON "),e.k0s()(),e.DNE(107,Eh,4,1,"div",47)(108,Vv,4,1,"div",48),e.k0s()(),e.DNE(109,up,4,1,"div",7)(110,cE,4,1,"div",49),e.j41(111,"div",50)(112,"button",51),e.bIt("click",function(){return a.submit()}),e.nrm(113,"i",52),e.EFF(114),e.k0s(),e.j41(115,"a",53),e.EFF(116," Annuler "),e.k0s()()()()()),2&r&&(e.R7$(6),e.SpI("",a.isEdit?"Modifier":"Cr\xe9er"," une \xc9nigme de la semaine"),e.R7$(2),e.Y8G("ngIf",a.loading),e.R7$(),e.Y8G("ngIf",a.error),e.R7$(),e.Y8G("formGroup",a.weekProblemForm),e.R7$(35),e.Y8G("ngIf",a.imageUploading),e.R7$(),e.Y8G("ngIf",a.imageUrl),e.R7$(20),e.Y8G("ngForOf",a.variables.controls),e.R7$(11),e.Y8G("ngForOf",a.values_list.controls),e.R7$(11),e.Y8G("ngForOf",a.solution.controls),e.R7$(10),e.Y8G("value",a.getJsonPreview()),e.R7$(9),e.Y8G("ngIf",a.jsonError),e.R7$(),e.Y8G("ngIf",a.jsonSuccess),e.R7$(),e.Y8G("ngIf",a.submitError),e.R7$(),e.Y8G("ngIf",a.submitSuccess),e.R7$(2),e.Y8G("disabled",a.loading),e.R7$(),e.AVh("bi-floppy-disk",a.isEdit)("bi-plus-circle",!a.isEdit),e.R7$(),e.SpI(" ",a.isEdit?"Enregistrer les modifications":"Cr\xe9er l'\xe9nigme"," "))},dependencies:[S.X1,S.qT,S.me,S.Q0,S.BC,S.cb,S.VZ,S.j4,S.JD,S.v8,S.YN,R.MD,R.Sq,R.bT],styles:[".weekproblem-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#0f0f0f,#1a1a1a);padding:2rem 1rem;overflow-y:auto}.backoffice-header[_ngcontent-%COMP%]{max-width:900px;margin:0 auto 2rem}.backoffice-header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#999;text-decoration:none;font-size:.9rem;margin-bottom:1rem;transition:color .2s ease}.backoffice-header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{color:#fff}.backoffice-header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-2px)}.backoffice-header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .2s ease}.backoffice-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;margin:0}.content-wrapper[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center;color:#999}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}.alert[_ngcontent-%COMP%]{padding:1rem 1.25rem;margin-bottom:1.5rem;border-radius:8px;display:flex;align-items:center;gap:.75rem;font-size:.95rem}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;flex-shrink:0}.alert.alert-error[_ngcontent-%COMP%]{background-color:#ffffff1a;border:1px solid rgba(255,255,255,.3);color:#fff}.alert.alert-success[_ngcontent-%COMP%]{background-color:#66ff661a;border:1px solid rgba(102,255,102,.3);color:#6f6}.alert.alert-json-error[_ngcontent-%COMP%]{background-color:#ff6b6b40!important;border:1px solid rgba(255,107,107,.6)!important;color:#f44!important}.alert.alert-json-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .alert.alert-json-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f44!important}.alert.alert-json-success[_ngcontent-%COMP%]{background-color:#4caf5040!important;border:1px solid rgba(76,175,80,.6)!important;color:#4caf50!important}.alert.alert-json-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .alert.alert-json-success[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4caf50!important}.week-problem-form[_ngcontent-%COMP%]{background:#ffffff05;border:1px solid rgba(255,255,255,.05);border-radius:12px;padding:2rem;backdrop-filter:blur(10px)}.form-section[_ngcontent-%COMP%]{margin-bottom:2.5rem;padding-bottom:2.5rem;border-bottom:1px solid rgba(255,255,255,.05)}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff;margin:0 0 .5rem}.form-section[_ngcontent-%COMP%]   .section-hint[_ngcontent-%COMP%]{font-size:.85rem;color:#888;margin:0;font-style:italic}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#fff;font-size:.95rem}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:6px;color:#fff;font-family:inherit;font-size:.95rem;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;background:#ffffff14;border-color:#ffffff4d;box-shadow:0 0 0 3px #64c8ff1a}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff4d}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.file-input-wrapper[_ngcontent-%COMP%]{position:relative}.file-input-wrapper[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{display:none}.file-input-wrapper[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;background:#64c8ff0d;border:2px dashed rgba(100,200,255,.3);border-radius:8px;cursor:pointer;transition:all .2s ease}.file-input-wrapper[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem;color:#64c8ff}.file-input-wrapper[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:.95rem}.file-input-wrapper[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{background:#64c8ff1a;border-color:#64c8ff80}.upload-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:1rem;padding:.75rem;background:#64c8ff0d;border-radius:6px;color:#64c8ff;font-size:.9rem}.upload-status[_ngcontent-%COMP%]   .spinner-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.image-preview[_ngcontent-%COMP%]{margin-top:1.5rem;border-radius:8px;overflow:hidden;background:#0000004d;border:1px solid rgba(255,255,255,.1)}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto;max-height:300px;object-fit:cover}.array-form[_ngcontent-%COMP%]{background:#ffffff05;border:1px solid rgba(255,255,255,.05);border-radius:8px;padding:1rem;margin-bottom:1rem}.array-item[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:.75rem;align-items:stretch}.array-item[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1}.array-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{flex-shrink:0;width:40px;padding:0;background:#ff66661a;border:1px solid rgba(255,102,102,.3);border-radius:6px;color:#f66;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.array-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]:hover{background:#f663;border-color:#ff666680}.array-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border:none;border-radius:6px;font-weight:500;cursor:pointer;font-size:.95rem;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s ease;text-decoration:none}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#64c8ff,#4ab8ff);color:#000}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #64c8ff4d;transform:translateY(-2px)}.btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn.btn-secondary[_ngcontent-%COMP%]{background:#64c8ff1a;border:1px solid rgba(100,200,255,.3);color:#64c8ff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#64c8ff33;border-color:#64c8ff80}.btn.btn-add[_ngcontent-%COMP%]{background:#64c8ff33;border:1px solid rgba(100,200,255,.5);color:#fff;font-weight:600}.btn.btn-add[_ngcontent-%COMP%]:hover{background:#64c8ff4d;border-color:#64c8ffcc}.btn.btn-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.2);color:#fff}.btn.btn-outline[_ngcontent-%COMP%]:hover{background:#ffffff0d;border-color:#fff6}.btn.btn-sm[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.85rem}.btn.btn-lg[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1rem}.json-preview-wrapper[_ngcontent-%COMP%]{position:relative;margin-top:1rem}.json-preview[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:6px;color:#64c8ff;font-family:Monaco,Menlo,Ubuntu Mono,Courier New,monospace;font-size:.85rem;line-height:1.5;resize:vertical;min-height:350px;overflow:auto}.json-preview[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff3}.json-preview[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.json-preview[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d;border-radius:4px}.json-preview[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#64c8ff4d;border-radius:4px}.json-preview[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64c8ff80}.json-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:1rem}.json-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;justify-content:center}@media (max-width: 600px){.json-actions[_ngcontent-%COMP%]{flex-direction:column}}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem;padding-top:2rem;border-top:1px solid rgba(255,255,255,.05)}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;justify-content:center}@media (max-width: 600px){.form-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return l})();function pd(l,c){if(1&l&&(e.j41(0,"div",15),e.nrm(1,"i",16),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&l){const n=e.XpG(2);e.R7$(3),e.JRh(n.error||n.deleteError||n.toggleError)}}function hp(l,c){if(1&l&&(e.j41(0,"div",17),e.nrm(1,"i",18),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&l){const n=e.XpG(2);e.R7$(3),e.JRh(n.deleteSuccess||n.toggleSuccess)}}function si(l,c){if(1&l&&(e.j41(0,"div",12),e.DNE(1,pd,4,1,"div",13)(2,hp,4,1,"div",14),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.error||n.deleteError||n.toggleError),e.R7$(),e.Y8G("ngIf",n.deleteSuccess||n.toggleSuccess)}}function Ja(l,c){if(1&l&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&l){const n=e.XpG().$implicit,r=e.XpG(3);e.R7$(),e.SpI(" - Semaine ",r.getISOWeekFromString(n.date),"")}}function el(l,c){if(1&l&&(e.j41(0,"div",31),e.nrm(1,"i",45),e.j41(2,"div",33)(3,"label"),e.EFF(4,"Semaine"),e.k0s(),e.j41(5,"span",38),e.EFF(6),e.k0s()()()),2&l){const n=e.XpG().$implicit,r=e.XpG(3);e.R7$(6),e.SpI("#",r.getISOWeekFromString(n.date),"")}}function Es(l,c){if(1&l&&(e.j41(0,"div",31),e.nrm(1,"img",46),e.j41(2,"div",33)(3,"label"),e.EFF(4,"R\xe9compense Mojettes"),e.k0s(),e.j41(5,"span",38),e.EFF(6),e.k0s()()()),2&l){const n=e.XpG().$implicit;e.R7$(6),e.JRh(n.reward_mojette)}}function nc(l,c){if(1&l&&(e.j41(0,"div",31),e.nrm(1,"img",47),e.j41(2,"div",33)(3,"label"),e.EFF(4,"R\xe9compense Tokens"),e.k0s(),e.j41(5,"span",38),e.EFF(6),e.k0s()()()),2&l){const n=e.XpG().$implicit;e.R7$(6),e.JRh(n.reward_token_coin)}}function gd(l,c){if(1&l&&(e.j41(0,"div",30)(1,"div",31),e.nrm(2,"i",48),e.j41(3,"div",33)(4,"label"),e.EFF(5,"Figure"),e.k0s(),e.j41(6,"span",49),e.EFF(7),e.k0s()()()()),2&l){const n=e.XpG().$implicit;e.R7$(7),e.JRh(n.figure_path)}}function Uv(l,c){if(1&l&&(e.j41(0,"span",53),e.EFF(1),e.k0s()),2&l){const n=c.$implicit;e.R7$(),e.SpI(" ",n," ")}}function $v(l,c){if(1&l&&(e.j41(0,"div",30)(1,"div",31),e.nrm(2,"i",50),e.j41(3,"div",33)(4,"label"),e.EFF(5,"Variables"),e.k0s(),e.j41(6,"div",51),e.DNE(7,Uv,2,1,"span",52),e.k0s()()()()),2&l){const n=e.XpG().$implicit;e.R7$(7),e.Y8G("ngForOf",n.variables)}}function tl(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",23)(1,"div",24)(2,"div",25),e.EFF(3),e.DNE(4,Ja,2,1,"span",26),e.k0s(),e.j41(5,"div",27)(6,"span",28),e.nrm(7,"i"),e.EFF(8),e.k0s()()(),e.j41(9,"div",29)(10,"div",30)(11,"div",31),e.nrm(12,"i",32),e.j41(13,"div",33)(14,"label"),e.EFF(15,"Date"),e.k0s(),e.j41(16,"span"),e.EFF(17),e.k0s()()(),e.DNE(18,el,7,1,"div",34),e.k0s(),e.j41(19,"div",35),e.DNE(20,Es,7,1,"div",34)(21,nc,7,1,"div",34),e.k0s(),e.DNE(22,gd,8,1,"div",36),e.j41(23,"div",30)(24,"div",31),e.nrm(25,"i",37),e.j41(26,"div",33)(27,"label"),e.EFF(28,"Nombre de valeurs \xe0 trouver"),e.k0s(),e.j41(29,"span",38),e.EFF(30),e.k0s()()()(),e.DNE(31,$v,8,1,"div",36),e.k0s(),e.j41(32,"div",39)(33,"button",40),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(3);return e.Njj(h.onEdit(a.id))}),e.nrm(34,"i",41),e.EFF(35," Modifier "),e.k0s(),e.j41(36,"button",42),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(3);return e.Njj(h.onToggleDisplay(a.id,a.displayed))}),e.nrm(37,"i"),e.EFF(38),e.k0s(),e.j41(39,"button",43),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(3);return e.Njj(h.onDelete(a.id))}),e.nrm(40,"i",44),e.EFF(41," Supprimer "),e.k0s()()()}if(2&l){let n,r;const a=c.$implicit;e.R7$(3),e.SpI(" #",a.id,""),e.R7$(),e.Y8G("ngIf",a.date),e.R7$(2),e.AVh("displayed",a.displayed)("hidden",!a.displayed),e.R7$(),e.HbH(a.displayed?"bi bi-eye-fill":"bi bi-eye-slash-fill"),e.R7$(),e.SpI(" ",a.displayed?"Affich\xe9e":"Masqu\xe9e"," "),e.R7$(9),e.JRh(a.date||"Non d\xe9finie"),e.R7$(),e.Y8G("ngIf",a.date),e.R7$(2),e.Y8G("ngIf",(null!==(n=a.reward_mojette)&&void 0!==n?n:0)>0),e.R7$(),e.Y8G("ngIf",(null!==(r=a.reward_token_coin)&&void 0!==r?r:0)>0),e.R7$(),e.Y8G("ngIf",a.figure_path),e.R7$(8),e.JRh(a.nb_val_to_find||0),e.R7$(),e.Y8G("ngIf",a.variables&&a.variables.length>0),e.R7$(5),e.AVh("active",a.displayed),e.R7$(),e.HbH(a.displayed?"bi bi-eye-slash":"bi bi-eye"),e.R7$(),e.SpI(" ",a.displayed?"Masquer":"Afficher"," ")}}function Gv(l,c){if(1&l&&(e.j41(0,"div",21),e.DNE(1,tl,42,21,"div",22),e.k0s()),2&l){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.weekProblems)}}function nl(l,c){1&l&&(e.j41(0,"div",54),e.nrm(1,"i",45),e.j41(2,"h3"),e.EFF(3,"Aucune \xe9nigme trouv\xe9e"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Il n'y a aucune \xe9nigme de la semaine dans le syst\xe8me pour le moment."),e.k0s(),e.j41(6,"a",9),e.nrm(7,"i",10),e.EFF(8," Cr\xe9er la premi\xe8re \xe9nigme "),e.k0s()())}function Hv(l,c){if(1&l&&(e.j41(0,"div",19),e.DNE(1,Gv,2,1,"div",20)(2,nl,9,0,"ng-template",null,1,e.C5r),e.k0s()),2&l){const n=e.sdS(3),r=e.XpG();e.R7$(),e.Y8G("ngIf",r.weekProblems.length>0)("ngIfElse",n)}}function fp(l,c){1&l&&(e.j41(0,"div",55),e.nrm(1,"div",56),e.j41(2,"p"),e.EFF(3,"Chargement des \xe9nigmes..."),e.k0s()())}let ic=(()=>{class l{constructor(n,r){this.weekProblemService=n,this.router=r,this.weekProblems=[],this.loading=!1,this.error=null,this.deleteError=null,this.deleteSuccess=null,this.toggleError=null,this.toggleSuccess=null,this.loadWeekProblems()}loadWeekProblems(){this.loading=!0,this.error=null,this.weekProblemService.getWeekProblems().subscribe({next:n=>{this.weekProblems=n,this.loading=!1},error:n=>{this.error=n.message||"Erreur lors du chargement",this.loading=!1}})}onEdit(n){this.router.navigate(["/backoffice/weekproblem",n])}onToggleDisplay(n,r){this.toggleError=null,this.toggleSuccess=null,this.weekProblemService.updateWeekProblem(n,{displayed:!r}).subscribe({next:()=>{this.toggleSuccess=r?"\xc9nigme masqu\xe9e.":"\xc9nigme affich\xe9e.",this.loadWeekProblems()},error:a=>{this.toggleError=a.message||"Erreur lors du changement d'affichage"}})}onDelete(n){confirm("Supprimer cette \xe9nigme de la semaine ?")&&(this.deleteError=null,this.weekProblemService.deleteWeekProblem(n).subscribe({next:()=>{this.deleteSuccess="\xc9nigme supprim\xe9e.",this.loadWeekProblems()},error:r=>{this.deleteError=r.message||"Erreur lors de la suppression"}}))}getISOWeekNumber(n){const r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),a=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-a);const h=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r-h)/864e5+1)/7)}getISOWeekFromString(n){return n?this.getISOWeekNumber(new Date(n)):0}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Qa),e.rXU(Mt.Ix))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-backoffice-weekproblems"]],decls:15,vars:3,consts:[["loadingState",""],["emptyState",""],[1,"backoffice-page-container"],[1,"backoffice-header"],["routerLink","/backoffice",1,"back-link"],[1,"bi","bi-arrow-left"],[1,"page-title","zilla-slab"],["class","alerts-container",4,"ngIf"],[1,"actions-bar"],["routerLink","/backoffice/weekproblem/0",1,"btn","btn-primary","btn-elevated"],[1,"bi","bi-plus-circle"],["class","weekproblems-container",4,"ngIf","ngIfElse"],[1,"alerts-container"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-error"],[1,"bi","bi-exclamation-triangle-fill"],[1,"alert","alert-success"],[1,"bi","bi-check-circle-fill"],[1,"weekproblems-container"],["class","weekproblems-grid",4,"ngIf","ngIfElse"],[1,"weekproblems-grid"],["class","weekproblem-card",4,"ngFor","ngForOf"],[1,"weekproblem-card"],[1,"card-header"],[1,"weekproblem-id"],[4,"ngIf"],[1,"weekproblem-status"],[1,"status-badge"],[1,"card-content"],[1,"info-row"],[1,"info-item"],[1,"bi","bi-calendar3"],[1,"info-content"],["class","info-item",4,"ngIf"],[1,"info-row","rewards-row"],["class","info-row",4,"ngIf"],[1,"bi","bi-question-circle"],[1,"number-badge"],[1,"card-actions"],[1,"btn-action","edit",3,"click"],[1,"bi","bi-pencil"],[1,"btn-action","toggle",3,"click"],[1,"btn-action","delete",3,"click"],[1,"bi","bi-trash"],[1,"bi","bi-calendar-week"],["src","assets/boutique/formations/formation_beans.png","alt","Mojettes",2,"width","30px","height","30px","object-fit","contain","margin-right","6px"],["src","assets/boutique/formations/formation_unique_resized.png","alt","Tokens",2,"width","30px","height","30px","object-fit","contain","margin-right","6px"],[1,"bi","bi-image"],[1,"truncate"],[1,"bi","bi-sliders"],[1,"variables-list"],["class","variable-badge",4,"ngFor","ngForOf"],[1,"variable-badge"],[1,"empty-state"],[1,"loading-state"],[1,"spinner"]],template:function(r,a){if(1&r&&(e.j41(0,"div",2)(1,"div",3)(2,"a",4),e.nrm(3,"i",5),e.EFF(4," Retour au backoffice "),e.k0s(),e.j41(5,"h1",6),e.EFF(6,"Gestion des \xc9nigmes de la semaine"),e.k0s()(),e.DNE(7,si,3,2,"div",7),e.j41(8,"div",8)(9,"a",9),e.nrm(10,"i",10),e.EFF(11," Nouvelle \xe9nigme de la semaine "),e.k0s()(),e.DNE(12,Hv,4,2,"div",11)(13,fp,4,0,"ng-template",null,0,e.C5r),e.k0s()),2&r){const h=e.sdS(14);e.R7$(7),e.Y8G("ngIf",a.error||a.deleteError||a.deleteSuccess||a.toggleError||a.toggleSuccess),e.R7$(5),e.Y8G("ngIf",!a.loading)("ngIfElse",h)}},dependencies:[S.X1,S.YN,R.MD,R.Sq,R.bT,ys,To],styles:[".backoffice-page-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:2rem;background:var(--primary-color);color:var(--secondary-color);overflow-y:auto;overflow-x:hidden}@media (max-width: 768px){.backoffice-page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.backoffice-header[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto 2rem}@media (max-width: 768px){.backoffice-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:var(--secondary-color);text-decoration:none;font-size:.9rem;opacity:.8;margin-bottom:1.5rem;transition:all .2s ease}.back-link[_ngcontent-%COMP%]:hover{opacity:1;color:var(--accent-color);transform:translate(-4px)}.back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;margin:0;color:var(--secondary-color);font-weight:600}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:2rem}}.alerts-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto 1.5rem;display:flex;flex-direction:column;gap:.75rem}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;border-radius:12px;font-size:.95rem;font-weight:500}.alert.alert-error[_ngcontent-%COMP%]{background:color-mix(in srgb,#ed2525 20%,transparent);border:1px solid #ed2525;color:#ed2525}.alert.alert-success[_ngcontent-%COMP%]{background:color-mix(in srgb,#7DDF64 20%,transparent);border:1px solid #7DDF64;color:#7ddf64}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.actions-bar[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto 2rem}@media (max-width: 768px){.actions-bar[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.weekproblems-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.weekproblems-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}@media (max-width: 768px){.weekproblems-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}@media (min-width: 1200px){.weekproblems-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(400px,1fr))}}.weekproblem-card[_ngcontent-%COMP%]{background:var(--card-background);border:1px solid var(--card-border);border-radius:16px;padding:1.5rem;box-shadow:var(--box-shadow);transition:all .3s ease;display:flex;flex-direction:column;gap:1.25rem}.weekproblem-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--box-shadow-elevated);border-color:var(--accent-color)}@media (max-width: 768px){.weekproblem-card[_ngcontent-%COMP%]{padding:1.25rem}}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;border-bottom:1px solid var(--card-border)}.weekproblem-id[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--accent-color);font-family:Zilla Slab,serif}.weekproblem-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .8rem;border-radius:8px;font-size:.85rem;font-weight:500}.weekproblem-status[_ngcontent-%COMP%]   .status-badge.displayed[_ngcontent-%COMP%]{background:color-mix(in srgb,#7DDF64 20%,transparent);border:1px solid #7DDF64;color:#7ddf64}.weekproblem-status[_ngcontent-%COMP%]   .status-badge.hidden[_ngcontent-%COMP%]{background:color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 20%,transparent);border:1px solid color-mix(in srgb,rgb(199,199,199) 80%,white 20%);color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%)}.weekproblem-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex-grow:1}.info-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--accent-color);margin-top:.25rem;flex-shrink:0}.info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;flex:1;min-width:0}.info-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);text-transform:uppercase;font-weight:600;letter-spacing:.5px}.info-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:var(--secondary-color);word-break:break-word}.truncate[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.number-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .6rem;background:color-mix(in srgb,var(--accent-color) 20%,transparent);border:1px solid var(--accent-color);border-radius:8px;font-weight:600;color:var(--accent-color);font-size:.9rem}.variables-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.25rem}.variable-badge[_ngcontent-%COMP%]{display:inline-block;padding:.3rem .6rem;background:color-mix(in srgb,#dfbe64 20%,transparent);border:1px solid #dfbe64;border-radius:8px;font-size:.8rem;font-weight:500;color:#dfbe64;font-family:monospace}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap;padding-top:1rem;border-top:1px solid var(--card-border)}.btn-action[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem 1rem;border-radius:8px;font-size:.85rem;font-weight:500;transition:all .2s ease;cursor:pointer;border:1px solid transparent;background:transparent;color:var(--secondary-color);font-family:Work Sans,sans-serif}.btn-action.edit[_ngcontent-%COMP%]{color:var(--accent-color);border-color:var(--accent-color)}.btn-action.edit[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color) 20%,transparent);transform:translateY(-2px)}.btn-action.toggle[_ngcontent-%COMP%]{color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);border-color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%)}.btn-action.toggle[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 20%,transparent);transform:translateY(-2px)}.btn-action.toggle.active[_ngcontent-%COMP%]{color:#7ddf64;border-color:#7ddf64}.btn-action.toggle.active[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,#7DDF64 20%,transparent)}.btn-action.delete[_ngcontent-%COMP%]{color:#ed2525;border-color:#ed2525}.btn-action.delete[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,#ed2525 20%,transparent);transform:translateY(-2px)}.btn-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.empty-state[_ngcontent-%COMP%]{max-width:500px;margin:4rem auto;text-align:center;padding:3rem 2rem;background:var(--card-background);border:1px solid var(--card-border);border-radius:16px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);opacity:.5;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 0 .5rem;color:var(--secondary-color);font-family:Zilla Slab,serif}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);margin:0 0 1.5rem}.loading-state[_ngcontent-%COMP%]{max-width:500px;margin:4rem auto;text-align:center;padding:3rem 2rem}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto 1.5rem;border:4px solid var(--card-border);border-top-color:var(--accent-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:color-mix(in srgb,rgb(199,199,199) 80%,white 20%);margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})}}return l})();var _d=D(983);const wh=(0,le.BQ)({passive:!0});let mp=(()=>{class l{constructor(n,r){this._platform=n,this._ngZone=r,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return _d.w;const r=(0,te.i8)(n),a=this._monitoredElements.get(r);if(a)return a.subject;const h=new Me.B,p="cdk-text-field-autofilled",_=M=>{"cdk-text-field-autofill-start"!==M.animationName||r.classList.contains(p)?"cdk-text-field-autofill-end"===M.animationName&&r.classList.contains(p)&&(r.classList.remove(p),this._ngZone.run(()=>h.next({target:M.target,isAutofilled:!1}))):(r.classList.add(p),this._ngZone.run(()=>h.next({target:M.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",_,wh),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:h,unlisten:()=>{r.removeEventListener("animationstart",_,wh)}}),h}stopMonitoring(n){const r=(0,te.i8)(n),a=this._monitoredElements.get(r);a&&(a.unlisten(),a.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((n,r)=>this.stopMonitoring(r))}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(le.OD),e.KVO(e.SKi))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const zv=new e.nKC("MAT_INPUT_VALUE_ACCESSOR"),Wv=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Dh=0,il=(()=>{class l{get disabled(){return this._disabled}set disabled(n){this._disabled=(0,te.he)(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(S.k0.required)??!1}set required(n){this._required=(0,te.he)(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&(0,le.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=(0,te.he)(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,r,a,h,p,_,M,F,Y,ge){this._elementRef=n,this._platform=r,this.ngControl=a,this._autofillMonitor=F,this._ngZone=Y,this._formField=ge,this._uid="mat-input-"+Dh++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Me.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(dt=>(0,le.MU)().has(dt)),this._iOSKeyupListener=dt=>{const bt=dt.target;!bt.value&&0===bt.selectionStart&&0===bt.selectionEnd&&(bt.setSelectionRange(1,1),bt.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const Je=this._elementRef.nativeElement,at=Je.nodeName.toLowerCase();this._inputValueAccessor=M||Je,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&Y.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new q.X0(_,a,p,h,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===at,this._isTextarea="textarea"===at,this._isInFormField=!!ge,this._isNativeSelect&&(this.controlType=Je.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){const n=this._getPlaceholder();if(n!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=n,n?r.setAttribute("placeholder",n):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Wv.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,r=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.aKT),e.rXU(le.OD),e.rXU(S.vO,10),e.rXU(S.cV,8),e.rXU(S.j4,8),e.rXU(q.es),e.rXU(zv,10),e.rXU(mp),e.rXU(e.SKi),e.rXU(fr,8))}}static{this.\u0275dir=e.FsC({type:l,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,a){1&r&&e.bIt("focus",function(){return a._focusChanged(!0)})("blur",function(){return a._focusChanged(!1)})("input",function(){return a._onInput()}),2&r&&(e.Mr5("id",a.id)("disabled",a.disabled)("required",a.required),e.BMQ("name",a.name||null)("readonly",a.readonly&&!a._isNativeSelect||null)("aria-invalid",a.empty&&a.required?null:a.errorState)("aria-required",a.required)("id",a.id),e.AVh("mat-input-server",a._isServer)("mat-mdc-form-field-textarea-control",a._isInFormField&&a._isTextarea)("mat-mdc-form-field-input-control",a._isInFormField)("mdc-text-field__input",a._isInFormField)("mat-mdc-native-select-inline",a._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[e.Jv_([{provide:Ht,useExisting:l}]),e.OA$]})}}return l})();var Oi=D(9847);let pp=(()=>{class l{constructor(n,r){this.http=n,this.internalService=r,this.baseUrl=ur.c.apiUrl,this.internalService.getUser().subscribe(a=>{a&&a.id&&(this.userId=a.id)})}getProblems(){return this.http.get(`${this.baseUrl}/problems`)}getProblemById(n){return this.http.get(`${this.baseUrl}/problems/${n}`).pipe((0,Sr.W)(this.handleError))}getProblemsCompletedByUser(){return this.http.get(`${this.baseUrl}/problems/completed`)}get_level(n,r){return this.http.get(`${this.baseUrl}/users/${n}/levels/${r}`)}verifySolution(n,r,a,h){return this.http.post(`${this.baseUrl}/problems/${n}/verify`,{values:a,indice:r,helps_used:h},{observe:"response"})}getProblemHint(n,r){return this.http.get(`${this.baseUrl}/problems/${n}/hint/${r}`)}hasUserSolvedProblem(n){return this.http.get(`${this.baseUrl}/problems/${n}/completed`)}handleError(n){let r="Unable to complete the request";return r=n.error instanceof ErrorEvent?"An error occurred:"+n.error.message:"Server error occurred. Please try again later.",(0,Cs.$)(()=>new Error(r))}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(v.Qq),e.KVO(co.P))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),xh=(()=>{class l{constructor(n,r){this.http=n,this.internalService=r,this.baseUrl=ur.c.apiUrl}getCurrentCarre(){return this.http.get(`${this.baseUrl}/carres/current`)}getRandomCarre(){return this.http.get(`${this.baseUrl}/carres/random`)}postSolvedCarre(n,r,a){return this.http.post(`${this.baseUrl}/carres/${n}/verify`,{solution:r,completion_time:a})}getCarresCompletedByUser(){return this.http.get(`${this.baseUrl}/carres/complete`)}hasUserSolvedCarre(n){return this.http.get(`${this.baseUrl}/carres/${n}/completed`)}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(v.Qq),e.KVO(co.P))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),rc=(()=>{class l{constructor(n,r){this.http=n,this.internalService=r,this.baseUrl=ur.c.apiUrl,this.internalService.getUser().subscribe(a=>{a&&a.id&&(this.userId=a.id)})}getCurrentMojetteGrid(){return this.http.get(`${this.baseUrl}/mojettes/current`)}getMojettesGridByLevel(n){return this.http.get(`${this.baseUrl}/mojettes?level=${n}`)}getNthLastMojetteGridByLevel(n,r){return this.http.get(`${this.baseUrl}/mojettes/${n}/level/${r}`)}getMojetteHint(n){return this.http.get(`${this.baseUrl}/mojettes/${n}/hint`)}verifySolution(n,r){return this.http.post(`${this.baseUrl}/verify-mojette-solution`,{id:n,solution:r})}hasUserSolvedGrid(n){return this.http.get(`${this.baseUrl}/mojettes/${n}/completed`)}getDailyGrid(){return this.http.get(`${this.baseUrl}/mojettes/daily`)}getGridById(n){return this.http.get(`${this.baseUrl}/mojettes/grid/${n}`)}getDailyGridid(n){return this.http.get(`${this.baseUrl}/mojettes/daily?day=${n}`)}getDailyGridsCompletionStatus(){return this.http.get(`${this.baseUrl}/mojettes/daily/completed`)}getMojettesCompletedByUser(){return this.http.get(`${this.baseUrl}/mojettes/complete`)}getMojetteLeaderboard(n,r=10,a=1){return this.http.get(`${this.baseUrl}/mojettes/${n}/leaderboard?size=${r}&range=${a}`)}postSolvedMojette(n,r,a,h){return this.http.post(`${this.baseUrl}/mojettes/${n}/verify`,{grid:r,helps_used:a,completion_time:h})}handleError(n){let r="Unable to complete the request";return r=n.error instanceof ErrorEvent?"An error occurred:"+n.error.message:"Server error occurred. Please try again later.",(0,Cs.$)(()=>new Error(r))}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(v.Qq),e.KVO(co.P))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const Kv=(l,c)=>({"message-success":l,"message-error":c});function bd(l,c){1&l&&e.nrm(0,"input",13)}function Mh(l,c){if(1&l){const n=e.RV6();e.j41(0,"label",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.setCurrentTab(2))}),e.EFF(1,"Admin"),e.k0s()}}function Sh(l,c){if(1&l&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&l){const n=e.XpG(2);e.R7$(),e.JRh(n.username)}}function rl(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Ce nom d'utilisateur est d\xe9j\xe0 utilis\xe9. "),e.k0s())}function yd(l,c){if(1&l&&(e.j41(0,"mat-form-field",34),e.nrm(1,"input",35),e.DNE(2,rl,2,0,"mat-error",20),e.k0s()),2&l){let n;const r=e.XpG(2);e.R7$(),e.Y8G("formControl",r.getField("newUsername")),e.R7$(),e.Y8G("ngIf",null==(n=r.getField("newUsername").errors)?null:n.alreadyUsed)}}function Cd(l,c){if(1&l&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&l){const n=e.XpG(2);e.R7$(),e.JRh(n.email)}}function ol(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Cet e-mail est d\xe9j\xe0 utilis\xe9. "),e.k0s())}function Ih(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," L'e-mail n'est pas valide. "),e.k0s())}function kh(l,c){if(1&l&&(e.j41(0,"mat-form-field",34),e.nrm(1,"input",36),e.DNE(2,ol,2,0,"mat-error",20)(3,Ih,2,0,"mat-error",20),e.k0s()),2&l){let n,r;const a=e.XpG(2);e.R7$(),e.Y8G("formControl",a.getField("newEmail")),e.R7$(),e.Y8G("ngIf",null==(n=a.getField("newEmail").errors)?null:n.alreadyUsed),e.R7$(),e.Y8G("ngIf",null==(r=a.getField("newEmail").errors)?null:r.email)}}function gp(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function _p(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Le mot de passe actuel est incorrect. "),e.k0s())}function Oh(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Le mot de passe est trop court (6 min). "),e.k0s())}function qv(l,c){if(1&l&&(e.j41(0,"div",37)(1,"label",38),e.EFF(2,"Mot de passe actuel :"),e.k0s(),e.j41(3,"mat-form-field",34),e.nrm(4,"input",39),e.DNE(5,gp,2,0,"mat-error",20)(6,_p,2,0,"mat-error",20)(7,Oh,2,0,"mat-error",20),e.k0s()()),2&l){let n,r,a;const h=e.XpG(2);e.R7$(4),e.Y8G("formControl",h.getField("currentPassword")),e.R7$(),e.Y8G("ngIf",null==(n=h.getField("currentPassword").errors)?null:n.required),e.R7$(),e.Y8G("ngIf",null==(r=h.getField("currentPassword").errors)?null:r.incorrect),e.R7$(),e.Y8G("ngIf",null==(a=h.getField("currentPassword").errors)?null:a.minlength)}}function Yv(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Le mot de passe est trop court (6 min). "),e.k0s())}function sl(l,c){if(1&l&&(e.j41(0,"div",40)(1,"label",41),e.EFF(2,"Nouveau mot de passe :"),e.k0s(),e.j41(3,"mat-form-field",34),e.nrm(4,"input",42),e.DNE(5,Yv,2,0,"mat-error",20),e.k0s()()),2&l){let n;const r=e.XpG(2);e.R7$(4),e.Y8G("formControl",r.getField("newPassword")),e.R7$(),e.Y8G("ngIf",null==(n=r.getField("newPassword").errors)?null:n.minlength)}}function oc(l,c){1&l&&(e.j41(0,"div",45)(1,"span",46),e.EFF(2,"Chargement..."),e.k0s()())}function vp(l,c){if(1&l&&(e.j41(0,"div",43),e.DNE(1,oc,3,0,"div",44),e.EFF(2),e.k0s()),2&l){const n=e.XpG(2);e.Y8G("ngClass",e.l_i(3,Kv,"success"===n.downloadMessageType,"error"===n.downloadMessageType)),e.R7$(),e.Y8G("ngIf",n.isDownloadingData),e.R7$(),e.SpI(" ",n.downloadMessage," ")}}function Qv(l,c){1&l&&(e.j41(0,"span",45)(1,"span",46),e.EFF(2,"Chargement..."),e.k0s()())}function bp(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",47)(1,"div",48)(2,"div",49)(3,"h5",50),e.EFF(4,"Supprimer votre compte"),e.k0s(),e.j41(5,"button",51),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.cancelDeleteAccount())}),e.k0s()(),e.j41(6,"div",52)(7,"div",53),e.nrm(8,"i",54),e.j41(9,"strong"),e.EFF(10,"Attention:"),e.k0s(),e.EFF(11," Cette action est irr\xe9versible! "),e.k0s(),e.nrm(12,"br"),e.j41(13,"p"),e.EFF(14,"Si vous supprimez votre compte:"),e.k0s(),e.j41(15,"ul")(16,"li"),e.EFF(17,"Votre nom d'utilisateur et email seront anonymis\xe9s"),e.k0s(),e.j41(18,"li"),e.EFF(19,"Toutes vos donn\xe9es personnelles seront conserv\xe9es \xe0 titre archiv\xe9"),e.k0s(),e.j41(20,"li"),e.EFF(21,"Vous ne pourrez pas vous connecter avec ce compte"),e.k0s()(),e.j41(22,"p",55)(23,"strong"),e.EFF(24,"\xcates-vous vraiment s\xfbr de vouloir continuer?"),e.k0s()(),e.j41(25,"div",56)(26,"input",57),e.bIt("change",function(a){e.eBV(n);const h=e.XpG(2);return e.Njj(h.deleteConfirmed=a.target.checked)}),e.k0s(),e.j41(27,"label",58),e.EFF(28," Oui, je suis s\xfbr de vouloir supprimer mon compte "),e.k0s()()(),e.j41(29,"div",59)(30,"button",60),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.cancelDeleteAccount())}),e.EFF(31," Annuler "),e.k0s(),e.j41(32,"button",61),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.confirmDeleteAccount())}),e.DNE(33,Qv,3,0,"span",44),e.EFF(34," Je comprends, supprimer mon compte "),e.k0s()()()()}if(2&l){const n=e.XpG(2);e.R7$(5),e.Y8G("disabled",n.isDeletingAccount),e.R7$(21),e.Y8G("checked",n.deleteConfirmed)("disabled",n.isDeletingAccount),e.R7$(4),e.Y8G("disabled",n.isDeletingAccount),e.R7$(2),e.Y8G("disabled",n.isDeletingAccount||!1===n.deleteConfirmed),e.R7$(),e.Y8G("ngIf",n.isDeletingAccount)}}function uE(l,c){1&l&&(e.j41(0,"div",45)(1,"span",46),e.EFF(2,"Chargement..."),e.k0s()())}function yp(l,c){if(1&l&&(e.j41(0,"div",62),e.DNE(1,uE,3,0,"div",44),e.EFF(2),e.k0s()),2&l){const n=e.XpG(2);e.Y8G("ngClass",e.l_i(3,Kv,"success"===n.deleteMessageType,"error"===n.deleteMessageType)),e.R7$(),e.Y8G("ngIf",n.isDeletingAccount),e.R7$(),e.SpI(" ",n.deleteMessage," ")}}function Zv(l,c){if(1&l){const n=e.RV6();e.j41(0,"form",15),e.bIt("ngSubmit",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.sendUpdateForm())}),e.j41(1,"button",16),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.toggleEditionMode())}),e.nrm(2,"i",17),e.k0s(),e.j41(3,"div",18)(4,"label",19),e.EFF(5,"Pseudo :"),e.k0s(),e.DNE(6,Sh,2,1,"span",20)(7,yd,3,2,"mat-form-field",21),e.k0s(),e.j41(8,"div",22)(9,"label",23),e.EFF(10,"E-Mail :"),e.k0s(),e.DNE(11,Cd,2,1,"span",20)(12,kh,4,3,"mat-form-field",21),e.k0s(),e.DNE(13,qv,8,4,"div",24)(14,sl,6,2,"div",25),e.j41(15,"div",26)(16,"button",27),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.downloadUserData())}),e.nrm(17,"i",28),e.EFF(18," T\xe9l\xe9charger mes donn\xe9es "),e.k0s(),e.j41(19,"button",29),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.requestDeleteAccount())}),e.nrm(20,"i",30),e.EFF(21," Supprimer mon compte "),e.k0s()(),e.DNE(22,vp,3,6,"div",31)(23,bp,35,6,"div",32)(24,yp,3,6,"div",33),e.k0s()}if(2&l){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("ngIf",!n.isEditing),e.R7$(),e.Y8G("ngIf",n.isEditing),e.R7$(4),e.Y8G("ngIf",!n.isEditing),e.R7$(),e.Y8G("ngIf",n.isEditing),e.R7$(),e.Y8G("ngIf",n.isEditing),e.R7$(),e.Y8G("ngIf",n.isEditing),e.R7$(2),e.Y8G("disabled",n.isDownloadingData),e.R7$(6),e.Y8G("ngIf",n.downloadMessage),e.R7$(),e.Y8G("ngIf",n.showDeleteConfirmation),e.R7$(),e.Y8G("ngIf",n.deleteMessage)}}function Cp(l,c){if(1&l&&(e.j41(0,"div",63)(1,"button",64),e.EFF(2," Valider "),e.k0s(),e.j41(3,"button",65),e.EFF(4," Supprimer votre compte "),e.k0s()()),2&l){const n=e.XpG();e.R7$(),e.Y8G("disabled",!n.isEditing)}}function Th(l,c){if(1&l&&(e.j41(0,"div",66)(1,"div",67)(2,"span",68),e.EFF(3,"Informations : "),e.k0s(),e.j41(4,"div",69),e.nrm(5,"img",70),e.j41(6,"span",71),e.EFF(7),e.k0s(),e.j41(8,"button",72),e.EFF(9,"Obtenir plus"),e.k0s()()(),e.nrm(10,"br"),e.j41(11,"div",67)(12,"span",68),e.EFF(13,"Tour de France :"),e.k0s(),e.j41(14,"ul",73)(15,"li"),e.EFF(16),e.k0s(),e.j41(17,"li"),e.EFF(18),e.k0s(),e.j41(19,"li"),e.EFF(20),e.k0s()()(),e.j41(21,"div",67)(22,"span",68),e.EFF(23,"Jeu Mojette :"),e.k0s(),e.j41(24,"ul",73)(25,"li"),e.EFF(26),e.k0s(),e.j41(27,"li"),e.EFF(28),e.k0s()()(),e.j41(29,"div",67)(30,"span",68),e.EFF(31,"Carr\xe9 par Terre :"),e.k0s(),e.j41(32,"ul",73)(33,"li"),e.EFF(34),e.k0s(),e.j41(35,"li"),e.EFF(36),e.k0s()()()()),2&l){const n=e.XpG();e.R7$(7),e.SpI("Mojettes : ",n.mojettes,""),e.R7$(9),e.SpI("Probl\xe8mes r\xe9solus (maths) : ",n.nbM,""),e.R7$(2),e.SpI("Probl\xe8mes r\xe9solus (informatique) : ",n.nbI,""),e.R7$(2),e.SpI("D\xe9fis de r\xe9gion : ",n.nbR,""),e.R7$(6),e.SpI("Nombre de grilles r\xe9solue : ",n.nbMojetteSolved,""),e.R7$(2),e.SpI("Meilleur Temps : ",n.pbMojette,""),e.R7$(6),e.SpI("Nombre de Carr\xe9 par Terre r\xe9solus : ",n.nbCarresSolved,""),e.R7$(2),e.SpI("Meilleur Temps : ",n.pbCarre,"")}}function Jv(l,c){1&l&&(e.j41(0,"div",74)(1,"h2",75),e.EFF(2,"Panel Administrateur"),e.k0s(),e.j41(3,"ul",76)(4,"div",77)(5,"a",78)(6,"span"),e.EFF(7,"acc\xe8s backoffice"),e.k0s()()()()())}let Ep=(()=>{class l{constructor(n,r,a,h,p,_,M){this.internalService=n,this.authService=r,this.problemService=a,this.carreService=h,this.mojetteService=p,this.renderer=_,this.el=M,this.userId=0,this.username="",this.email="",this.mojettes=0,this.problemsSolved=[],this.nbM=0,this.nbI=0,this.nbR=0,this.nbMojetteSolved=0,this.nbCarresSolved=0,this.pbMojette=" - ",this.pbCarre=" - ",this.currentTab=0,this.form=new S.gE({newEmail:new S.MJ("",[S.k0.email]),newUsername:new S.MJ("",[S.k0.minLength(3),S.k0.maxLength(20)]),newPassword:new S.MJ("",[S.k0.minLength(6)]),currentPassword:new S.MJ("",[S.k0.required,S.k0.minLength(6)])}),this.serverError={},this.isEditing=!1,this.isInputDirty=[!1,!1,!1,!1],this.isadmin=!1,this.willmodifiedEmailEnabled=!0,this.willmodifiedPWEnabled=!0,this.willDeleteEnabled=!0,this.willmodifiedUNEnabled=!0,this.isDownloadingData=!1,this.downloadMessage="",this.downloadMessageType="",this.isDeletingAccount=!1,this.showDeleteConfirmation=!1,this.deleteConfirmed=!1,this.deleteMessage="",this.deleteMessageType="",this.setCurrentTab=F=>this.currentTab=F,this.toggleEditionMode=()=>this.isEditing=!this.isEditing,this.getField=F=>this.form.get(F),this.sendUpdateForm=()=>{if(this.form.invalid)return;const Y=Object.fromEntries(Object.entries({username:this.form.value.newUsername,email:this.form.value.newEmail,oldPassword:this.form.value.currentPassword,password:this.form.value.newPassword}).filter(([ge,Je])=>""!=Je));this.serverError={},this.authService.updateUserById(this.userId,Y).subscribe(ge=>{this.authService.getUserById(this.userId).subscribe(Je=>{this.updateUserInfo(Je),this.isEditing=!1,this.form.reset()})},ge=>{if(console.error(ge),this.serverError[ge.status]=!0,console.log(ge.error.message),409==ge.status){const Je=ge.error.message.split(" ")[0];this.getField(Je).setErrors({alreadyUsed:!0})}(401===ge.status||403===ge.status)&&this.getField("currentPassword").setErrors({incorrect:!0})})},this.updateUserInfo=F=>{this.authService.sendUpdateUserInfo(F),this.username=F.username,this.email=F.email,this.mojettes=F.mojettes},this.resetForm=()=>{this.form.reset(),this.getField("username").markAsUntouched(),this.getField("username").markAsPristine()},this.internalService.getUser().subscribe(F=>{F&&(F.id&&(this.userId=F.id),F.username&&(this.username=F.username),F.mojettes&&(this.mojettes=F.mojettes),F.email&&(this.email=F.email))}),this.isadmin=this.authService.isAdmin()}ngOnInit(){this.problemService.getProblemsCompletedByUser().subscribe(n=>{this.problemsSolved=Object.values(n).filter(r=>null!=r.user_id),this.nbM=this.problemsSolved.filter(r=>0==r.type).length,this.nbI=this.problemsSolved.filter(r=>1==r.type).length,this.nbR=this.problemsSolved.filter(r=>2==r.type).length}),this.carreService.getCarresCompletedByUser().subscribe(n=>{this.nbCarresSolved=Object.keys(n).length,this.pbCarre=Math.min(...Object.values(n).map(r=>parseInt(r.completion_time,10))).toString()}),this.mojetteService.getMojettesCompletedByUser().subscribe(n=>{this.nbMojetteSolved=Object.keys(n).length,this.pbMojette=Math.min(...Object.values(n).map(r=>parseInt(r.completion_time,10))).toString()})}logout(){this.authService.logout()}deleteAccount(){this.willDeleteEnabled&&(this.willDeleteEnabled=!1,this.openDialog(),this.authService.willdeleteUser().subscribe(),setTimeout(()=>{this.willDeleteEnabled=!0},12e3))}openDialog(){const n=document.getElementById("myDialog1");n instanceof HTMLDialogElement?n.showModal():console.error("L'\xe9l\xe9ment n'est pas un HTMLDialogElement")}closeDialog(){const n=document.getElementById("myDialog1");n instanceof HTMLDialogElement?n.close():console.error("L'\xe9l\xe9ment n'est pas un HTMLDialogElement")}downloadUserData(){this.isDownloadingData=!0,this.downloadMessage="T\xe9l\xe9chargement de vos donn\xe9es...",this.downloadMessageType="",this.authService.exportUserData(this.userId).subscribe(n=>{const r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`user_data_${this.userId}_${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),this.isDownloadingData=!1,this.downloadMessage="Vos donn\xe9es ont \xe9t\xe9 t\xe9l\xe9charg\xe9es avec succ\xe8s!",this.downloadMessageType="success",setTimeout(()=>{this.downloadMessage="",this.downloadMessageType=""},4e3)},n=>{console.error("Erreur lors du t\xe9l\xe9chargement:",n),this.isDownloadingData=!1,this.downloadMessage="Erreur lors du t\xe9l\xe9chargement de vos donn\xe9es. Veuillez r\xe9essayer.",this.downloadMessageType="error",setTimeout(()=>{this.downloadMessage="",this.downloadMessageType=""},4e3)})}requestDeleteAccount(){this.showDeleteConfirmation=!0}cancelDeleteAccount(){this.showDeleteConfirmation=!1,this.deleteConfirmed=!1,this.deleteMessage="",this.deleteMessageType=""}confirmDeleteAccount(){this.isDeletingAccount=!0,this.deleteMessage="Suppression de votre compte en cours...",this.deleteMessageType="",this.authService.deleteUserAccount(this.userId).subscribe(n=>{console.log("Compte supprim\xe9 avec succ\xe8s",n),this.isDeletingAccount=!1,this.showDeleteConfirmation=!1,this.deleteMessage="Votre compte a \xe9t\xe9 supprim\xe9 avec succ\xe8s. Vous allez \xeatre d\xe9connect\xe9...",this.deleteMessageType="success",setTimeout(()=>{this.authService.logout()},2e3)},n=>{console.error("Erreur lors de la suppression:",n),this.isDeletingAccount=!1,this.deleteMessage="Erreur lors de la suppression de votre compte. Veuillez r\xe9essayer.",this.deleteMessageType="error",setTimeout(()=>{this.deleteMessage="",this.deleteMessageType=""},4e3)})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(co.P),e.rXU(yr.u),e.rXU(pp),e.rXU(xh),e.rXU(rc),e.rXU(e.sFG),e.rXU(e.aKT))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-account"]],viewQuery:function(r,a){if(1&r&&e.GBs(Oi._,5),2&r){let h;e.mGM(h=e.lsd())&&(a.navbar=h.first)}},hostAttrs:[1,"dark-theme"],decls:16,vars:6,consts:[[1,"card","primary-card","account-card"],["role","group","aria-label","Vertical radio toggle button group",1,"btn-group-vertical","card-tab-header","d-flex","flex-row"],["type","radio","name","vbtn-radio","id","vbtn-radio1","autocomplete","off","checked","",1,"btn-check"],["for","vbtn-radio1",1,"btn","btn-outline-danger","btn-tab-label",3,"click"],["type","radio","name","vbtn-radio","id","vbtn-radio2","autocomplete","off",1,"btn-check"],["for","vbtn-radio2",1,"btn","btn-outline-danger","btn-tab-label",3,"click"],["type","radio","class","btn-check","name","vbtn-radio","id","vbtn-radio3","autocomplete","off",4,"ngIf"],["class","btn btn-outline-danger btn-tab-label","for","vbtn-radio3",3,"click",4,"ngIf"],[1,"account-card-content","container","position-relative","d-flex","flex-column","no-scrollbar"],["id","formInfo","class","edit-account-form",3,"formGroup","ngSubmit",4,"ngIf"],["class","card-footer button-container d-flex justify-content-between",4,"ngIf"],["class","informations-account d-flex flex-column",4,"ngIf"],["class","admin-panel",4,"ngIf"],["type","radio","name","vbtn-radio","id","vbtn-radio3","autocomplete","off",1,"btn-check"],["for","vbtn-radio3",1,"btn","btn-outline-danger","btn-tab-label",3,"click"],["id","formInfo",1,"edit-account-form",3,"ngSubmit","formGroup"],["type","button",1,"btn","btn-icon","square","btn-sm","edit-btn","position-absolute",3,"click"],[1,"bi","bi-pen"],[1,"form-field","username","d-flex","flex-column"],["for","newUsername-input",1,"btn","form-label"],[4,"ngIf"],["class","register-form-field","appearance","outline",4,"ngIf"],[1,"form-field","email","d-flex","flex-column"],["for","newEmail-input",1,"btn","form-label"],["class","form-field currentPasswordConfirm d-flex flex-column",4,"ngIf"],["class","form-field newPassword d-flex flex-column",4,"ngIf"],[1,"rgpd-buttons","d-flex","justify-content-between","align-items-center","gap-2"],["type","button","title","T\xe9l\xe9charger toutes vos donn\xe9es",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"bi","bi-download"],["type","button","title","Supprimer d\xe9finitivement votre compte",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["class","download-message",3,"ngClass",4,"ngIf"],["class","delete-confirmation-overlay",4,"ngIf"],["class","delete-message",3,"ngClass",4,"ngIf"],["appearance","outline",1,"register-form-field"],["matInput","","placeholder","Nom d'utilisateur","name","newUsername-input","type","text",3,"formControl"],["matInput","","placeholder","Email","name","newEmail-input","type","email",3,"formControl"],[1,"form-field","currentPasswordConfirm","d-flex","flex-column"],["for","currentPassword-input",1,"btn","form-label"],["matInput","","placeholder","Mot de passe","name","currentPassword-input","type","password","required","",3,"formControl"],[1,"form-field","newPassword","d-flex","flex-column"],["for","newPassword-input",1,"btn","form-label"],["matInput","","placeholder","Mot de passe","name","newPassword-input","type","password",3,"formControl"],[1,"download-message",3,"ngClass"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"],[1,"delete-confirmation-overlay"],[1,"delete-confirmation-modal"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["role","alert",1,"alert","alert-danger"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mt-3"],[1,"form-check","mt-3"],["type","checkbox","id","deleteConfirmCheckbox",1,"form-check-input",3,"change","checked","disabled"],["for","deleteConfirmCheckbox",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"delete-message",3,"ngClass"],[1,"card-footer","button-container","d-flex","justify-content-between"],["form","formInfo","type","submit",1,"btn","btn-primary","btn-sm",3,"disabled"],["disabled","","data-bs-toggle","dropdown",1,"btn","btn-danger","btm-sm"],[1,"informations-account","d-flex","flex-column"],[1,"informations-container","d-flex","flex-column"],[1,"title","zilla-slab"],[1,"mojette-info","d-flex","flex-row","align-items-center"],["src","../../../assets/beans.svg","alt","Mojette SVG",1,"svg-img"],[1,"text"],["disabled","",1,"btn","btn-text","btn-sm"],[1,"list-unstyled"],[1,"admin-panel"],[1,"Progression"],[1,"list-unstyled","text-center","flex","flex-row"],[1,"button"],["href","/backoffice",1,"btn","btn-text","btn-sm","btn-primary"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.j41(1,"div",0)(2,"div",1),e.nrm(3,"input",2),e.j41(4,"label",3),e.bIt("click",function(){return a.setCurrentTab(0)}),e.EFF(5,"Modification"),e.k0s(),e.nrm(6,"input",4),e.j41(7,"label",5),e.bIt("click",function(){return a.setCurrentTab(1)}),e.EFF(8,"Progression"),e.k0s(),e.DNE(9,bd,1,0,"input",6)(10,Mh,2,0,"label",7),e.k0s(),e.j41(11,"div",8),e.DNE(12,Zv,25,11,"form",9)(13,Cp,5,1,"div",10)(14,Th,37,8,"div",11)(15,Jv,8,0,"div",12),e.k0s()()),2&r&&(e.R7$(9),e.Y8G("ngIf",a.isadmin),e.R7$(),e.Y8G("ngIf",a.isadmin),e.R7$(2),e.Y8G("ngIf",0===a.currentTab),e.R7$(),e.Y8G("ngIf",0===a.currentTab&&a.isEditing),e.R7$(),e.Y8G("ngIf",1===a.currentTab),e.R7$(),e.Y8G("ngIf",2===a.currentTab))},dependencies:[Oi._,R.bT,R.YU,S.YN,S.qT,S.me,S.BC,S.cb,S.YS,S.X1,S.l_,S.j4,Ye,il,Xe],styles:[".account-card[_ngcontent-%COMP%]{margin:auto!important;max-width:min(500px,80vw);width:20%;min-width:400px;height:500px;overflow:hidden}.card-tab-header[_ngcontent-%COMP%]{border-bottom:1px solid color-mix(in srgb,rgb(199,199,199) 80%,white 20%)}.card-tab-header[_ngcontent-%COMP%]   .btn-tab-label[_ngcontent-%COMP%]{color:#f5efed;background-color:transparent;border:0;border-radius:0;padding:.75em}.card-tab-header[_ngcontent-%COMP%]   .btn-tab-label[_ngcontent-%COMP%]:first-of-type{border-radius:20px 0 0}.card-tab-header[_ngcontent-%COMP%]   .btn-tab-label[_ngcontent-%COMP%]:last-of-type{border-radius:0 20px 0 0}.card-tab-header[_ngcontent-%COMP%]   .btn-tab-label[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,#0A0F0D 80%,white 20%)}.card-tab-header[_ngcontent-%COMP%]   .btn-tab-label[_ngcontent-%COMP%]:active{border-bottom:1px solid #D972FF}.card-tab-header[_ngcontent-%COMP%]   .btn-check[_ngcontent-%COMP%]:checked + .btn-tab-label[_ngcontent-%COMP%]{border-bottom:1px solid #D972FF}.account-card-content[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;color:#f5efed;height:100%;width:100%;padding:0}.account-card-content[_ngcontent-%COMP%] > .edit-account-form[_ngcontent-%COMP%], .account-card-content[_ngcontent-%COMP%] > .informations-account[_ngcontent-%COMP%], .account-card-content[_ngcontent-%COMP%] > .admin-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;font-size:1.2em;padding:1.5rem}.btn-icon[_ngcontent-%COMP%]{color:#f5efed;border-radius:100%;top:.5em;right:.5em}.btn-icon[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,#F5EFED 20%,transparent 80%)}.edit-account-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;position:relative;padding-bottom:120px}.edit-account-form[_ngcontent-%COMP%] > .form-field[_ngcontent-%COMP%]{padding:.5em 0;text-align:left}.edit-account-form[_ngcontent-%COMP%] > .form-field[_ngcontent-%COMP%]:first-of-type{padding-top:0!important}.edit-account-form[_ngcontent-%COMP%] > .form-field[_ngcontent-%COMP%]:last-child{padding-bottom:0}.edit-account-form[_ngcontent-%COMP%] > .form-field[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 20%,transparent 80%)}.edit-account-form[_ngcontent-%COMP%] > .form-field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{color:#f5efed;text-align:left;font-size:.9em;padding:0;margin:0;pointer-events:none}.edit-account-form[_ngcontent-%COMP%] > .form-field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .edit-account-form[_ngcontent-%COMP%] > .form-field[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-left:1em}.edit-account-form[_ngcontent-%COMP%] > .form-field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;text-wrap:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 1.5em);height:42px;line-height:42px}.edit-account-form[_ngcontent-%COMP%]   .rgpd-buttons[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:1.5rem;border-top:1px solid color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 30%,transparent 70%);background:color-mix(in srgb,#0A0F0D 90%,white 10%)}.rgpd-section[_ngcontent-%COMP%]{padding:1.5rem;padding-top:0;border-top:1px solid color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 30%,transparent 70%);margin-top:auto}.rgpd-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9em;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;transition:all .2s ease}.rgpd-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1em}.rgpd-section[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]{color:#d972ff;border-color:#d972ff}.rgpd-section[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#d972ff;color:#fff}.rgpd-section[_ngcontent-%COMP%]   .btn.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.rgpd-section[_ngcontent-%COMP%]   .btn.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}.card-footer[_ngcontent-%COMP%]{border-top:1px solid color-mix(in srgb,color-mix(in srgb,rgb(199,199,199) 80%,white 20%) 20%,transparent 80%);width:100%;margin:0;position:sticky;background:color-mix(in srgb,#0A0F0D 90%,white 10%);bottom:0;box-shadow:0 0 20px #0000004d}.informations-container[_ngcontent-%COMP%]{margin-bottom:1.5em}.informations-container[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5em}.informations-container[_ngcontent-%COMP%] > .mojette-info[_ngcontent-%COMP%]{font-size:.9em}.informations-container[_ngcontent-%COMP%] > .mojette-info[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:20px}.informations-container[_ngcontent-%COMP%] > .mojette-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:0 0 0 .5em}.informations-container[_ngcontent-%COMP%] > .mojette-info[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:0 0 0 auto}.informations-container[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:.9em;margin-bottom:.25em}.download-message[_ngcontent-%COMP%]{padding:1rem;margin-top:1rem;border-radius:4px;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.95em;animation:_ngcontent-%COMP%_slideInDown .3s ease-in-out}.download-message.message-success[_ngcontent-%COMP%]{background-color:#28a74526;color:#28a745;border:1px solid rgba(40,167,69,.3)}.download-message.message-error[_ngcontent-%COMP%]{background-color:#dc354526;color:#dc3545;border:1px solid rgba(220,53,69,.3)}.download-message[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15em}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.delete-confirmation-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0000001a;display:flex;align-items:center;justify-content:center;z-index:1050;padding:1rem}.delete-confirmation-modal[_ngcontent-%COMP%]{background-color:#1a1a1a;border-radius:8px;box-shadow:0 4px 20px #4e00004d;width:100%;max-width:500px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideInDown .3s ease-in-out;box-sizing:border-box}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid color-mix(in srgb,rgb(199,199,199) 80%,white 20%);display:flex;justify-content:space-between;align-items:center}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;color:#f5efed;font-weight:700}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{border:none;cursor:pointer;color:#dc35454d;font-size:1.5rem}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:.7}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem;color:#f5efed;overflow-y:auto;overflow-x:hidden;flex:1;min-width:0;box-sizing:border-box}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:0 0 1rem;border-radius:4px;font-weight:500;width:100%;box-sizing:border-box;word-wrap:break-word;overflow-wrap:break-word;position:static;z-index:auto;margin-left:0;margin-right:0;padding:1rem}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2em;flex-shrink:0}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:1rem 0;padding-left:1.5rem}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;flex-wrap:wrap;width:100%;box-sizing:border-box}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{margin:0;cursor:pointer;flex:1 1 auto;white-space:normal;word-break:break-word}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-top:.3rem;cursor:pointer;width:1.2rem;height:1.2rem;border:2px solid color-mix(in srgb,rgb(199,199,199) 80%,white 20%);border-radius:4px;background-color:#0a0f0d;accent-color:#D972FF}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#d972ff;border-color:#d972ff}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{margin:0;cursor:pointer;flex:1}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]:has(+.form-check-input:disabled){opacity:.5;cursor:not-allowed}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid color-mix(in srgb,rgb(199,199,199) 80%,white 20%);display:flex;justify-content:flex-end;gap:.75rem}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:4px;font-weight:500;cursor:pointer;transition:all .2s ease}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.delete-confirmation-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15em}.delete-message[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:4px;margin-top:1rem;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.95em;animation:_ngcontent-%COMP%_slideInDown .3s ease-in-out}.delete-message.message-success[_ngcontent-%COMP%]{background-color:#28a74526;color:#28a745;border:1px solid rgba(40,167,69,.3)}.delete-message.message-error[_ngcontent-%COMP%]{background-color:#dc354526;color:#dc3545;border:1px solid rgba(220,53,69,.3)}.delete-message[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15em}"]})}}return l})(),Fh=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275dir=e.FsC({type:l,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}}return l})(),qs=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275dir=e.FsC({type:l,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}}return l})(),bE=(()=>{class l{constructor(n,r,a,h){this.route=n,this.router=r,this.authService=a,this.internalService=h,this.goToHomePage=()=>{this.router.navigateByUrl("/")}}ngOnInit(){const n=parseInt(this.route.snapshot.paramMap.get("user_id")),r=this.route.snapshot.paramMap.get("confirmation_token");(!n||!r)&&this.router.navigateByUrl("/"),this.authService.confirmAccount(n,r).subscribe(a=>{const h=document.getElementById("connectDialog");h instanceof HTMLDialogElement&&h.showModal(),null!=JSON.parse(localStorage.getItem("currentUser"))&&this.authService.sendUpdateUserConfirmation(!0)},a=>{this.router.navigateByUrl("/")})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.nX),e.rXU(Mt.Ix),e.rXU(yr.u),e.rXU(co.P))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-account_confirmation"]],hostAttrs:[1,"dark-theme"],decls:11,vars:0,consts:[[1,"container-fluid","home-container","d-flex","flex-column","align-items-center"],["id","connectDialog",1,"dialog-container","no-scrollbar",2,"overflow","auto"],[1,"dialog-card","d-flex","flex-column"],[1,"register-title"],[1,"dialog-content",2,"overflow","auto"],[1,"d-block"],[1,"modal-actions","d-flex","flex-row","flex-wrap","justify-content-center"],[1,"btn","btn-primary","btn-sm","modal-btn",3,"click"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"dialog",1)(2,"div",2)(3,"mat-card-title",3),e.EFF(4,"Confirmation de compte r\xe9ussie"),e.k0s(),e.j41(5,"mat-card-content",4)(6,"span",5),e.EFF(7,"Votre compte a \xe9t\xe9 confirm\xe9 avec succ\xe8s. Vous pouvez maintenant vous connecter et profiter pleinement de notre plateforme."),e.k0s()(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return a.goToHomePage()}),e.EFF(10," Accueil "),e.k0s()()()()())},dependencies:[Fh,qs],encapsulation:2})}}return l})();function yE(l,c){if(1&l&&(e.j41(0,"tr")(1,"td")(2,"a",11),e.EFF(3,"visiter"),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s()()),2&l){const n=c.$implicit;e.R7$(2),e.Y8G("href","/formation/"+n.id,e.B4B),e.R7$(3),e.JRh(n.calculated_jour),e.R7$(2),e.JRh(n.calculated_horaire),e.R7$(2),e.JRh(n.name),e.R7$(2),e.JRh(n.speaker)}}function CE(l,c){if(1&l&&(e.j41(0,"div",12)(1,"h2",13),e.EFF(2),e.k0s(),e.j41(3,"p",14)(4,"strong"),e.EFF(5,"Jour:"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"p",14)(8,"strong"),e.EFF(9,"Horaire:"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"p",14)(12,"strong"),e.EFF(13,"Intervenant:"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"a",11),e.EFF(16,"Visiter"),e.k0s()()),2&l){const n=c.$implicit;e.R7$(2),e.JRh(n.name),e.R7$(4),e.SpI(" ",n.calculated_jour,""),e.R7$(4),e.SpI(" ",n.calculated_horaire," "),e.R7$(4),e.SpI(" ",n.speaker,""),e.R7$(),e.Y8G("href","/formation/"+n.id,e.B4B)}}let sc=(()=>{class l{constructor(n){this.formationService=n,this.planning=[]}ngOnInit(){this.formationService.getCalendar().subscribe(n=>{this.planning=n.map(r=>r.sessions.map(a=>({...a,...r}))).flat().sort((r,a)=>r.delivery_date>a.delivery_date?1:-1)})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Xs))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-calendar"]],hostAttrs:[1,"dark-theme"],decls:26,vars:2,consts:[[1,"d-none","d-md-flex","justify-content-center","align-items-center","vh-100"],[1,"card","primary-card","w-75","m-auto",2,"max-height","75%"],[1,"border-bottom","d-flex","flex-row"],[1,"header","zilla-slab","text-center","flex-grow-1"],[1,"container","position-relative","d-flex","flex-column","no-scrollbar","overflox-x-hidden","overflow-y-auto","mh-100","w-100"],[1,"table","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-md-none","d-flex","flex-column","gap-3","overflow-y-auto"],[1,"header","zilla-slab","text-center","flex-grow-1","text-white"],["class","card primary-card card-body",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"href"],[1,"card","primary-card","card-body"],[1,"card-title"],[1,"card-text"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.j41(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),e.EFF(5," Planning des formations "),e.k0s()(),e.j41(6,"div",4)(7,"table",5)(8,"thead")(9,"tr"),e.nrm(10,"th",6),e.j41(11,"th",6),e.EFF(12,"Jour"),e.k0s(),e.j41(13,"th",6),e.EFF(14,"Horaire"),e.k0s(),e.j41(15,"th",6),e.EFF(16,"Programme"),e.k0s(),e.j41(17,"th",6),e.EFF(18,"Intervenant"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,yE,12,5,"tr",7),e.k0s()()()()(),e.j41(21,"div",8)(22,"div",2)(23,"h1",9),e.EFF(24," Planning des formations "),e.k0s()(),e.DNE(25,CE,17,5,"div",10),e.k0s()),2&r&&(e.R7$(20),e.Y8G("ngForOf",a.planning),e.R7$(5),e.Y8G("ngForOf",a.planning))},dependencies:[Oi._,R.Sq],encapsulation:2})}}return l})();var l0=D(3236),Dd=D(1584),ac=D(536),xd=D(8141);function c0(l){const c=l.cloneNode(!0),n=c.querySelectorAll("[id]"),r=l.nodeName.toLowerCase();c.removeAttribute("id");for(let a=0;a<n.length;a++)n[a].removeAttribute("id");return"canvas"===r?Md(l,c):("input"===r||"select"===r||"textarea"===r)&&Nh(l,c),Ah("canvas",l,c,Md),Ah("input, textarea, select",l,c,Nh),c}function Ah(l,c,n,r){const a=c.querySelectorAll(l);if(a.length){const h=n.querySelectorAll(l);for(let p=0;p<a.length;p++)r(a[p],h[p])}}let d0=0;function Nh(l,c){"file"!==c.type&&(c.value=l.value),"radio"===c.type&&c.name&&(c.name=`mat-clone-${c.name}-${d0++}`)}function Md(l,c){const n=c.getContext("2d");if(n)try{n.drawImage(l,0,0)}catch{}}function Sd(l){const c=l.getBoundingClientRect();return{top:c.top,right:c.right,bottom:c.bottom,left:c.left,width:c.width,height:c.height,x:c.x,y:c.y}}function Ds(l,c,n){const{top:r,bottom:a,left:h,right:p}=l;return n>=r&&n<=a&&c>=h&&c<=p}function al(l,c,n){l.top+=c,l.bottom=l.top+l.height,l.left+=n,l.right=l.left+l.width}function xp(l,c,n,r){const{top:a,right:h,bottom:p,left:_,width:M,height:F}=l,Y=M*c,ge=F*c;return r>a-ge&&r<p+ge&&n>_-Y&&n<h+Y}class Mp{constructor(c){this._document=c,this.positions=new Map}clear(){this.positions.clear()}cache(c){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),c.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:Sd(n)})})}handleScroll(c){const n=(0,le.Fb)(c),r=this.positions.get(n);if(!r)return null;const a=r.scrollPosition;let h,p;if(n===this._document){const F=this.getViewportScrollPosition();h=F.top,p=F.left}else h=n.scrollTop,p=n.scrollLeft;const _=a.top-h,M=a.left-p;return this.positions.forEach((F,Y)=>{F.clientRect&&n!==Y&&n.contains(Y)&&al(F.clientRect,_,M)}),a.top=h,a.left=p,{top:_,left:M}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Sp(l,c){const n=l.rootNodes;if(1===n.length&&n[0].nodeType===c.ELEMENT_NODE)return n[0];const r=c.createElement("div");return n.forEach(a=>r.appendChild(a)),r}function jh(l,c,n){for(let r in c)if(c.hasOwnProperty(r)){const a=c[r];a?l.setProperty(r,a,n?.has(r)?"important":""):l.removeProperty(r)}return l}function pa(l,c){const n=c?"":"none";jh(l.style,{"touch-action":c?"":"none","-webkit-user-drag":c?"":"none","-webkit-tap-highlight-color":c?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function Ip(l,c,n){jh(l.style,{position:c?"":"fixed",top:c?"":"0",opacity:c?"":"0",left:c?"":"-999em"},n)}function Id(l,c){return c&&"none"!=c?l+" "+c:l}function kp(l,c){l.style.width=`${c.width}px`,l.style.height=`${c.height}px`,l.style.transform=kd(c.left,c.top)}function kd(l,c){return`translate3d(${Math.round(l)}px, ${Math.round(c)}px, 0)`}function Op(l){const c=l.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(l)*c}function Bh(l,c){return l.getPropertyValue(c).split(",").map(r=>r.trim())}const u0=new Set(["position"]);class Vh{get element(){return this._preview}constructor(c,n,r,a,h,p,_,M,F){this._document=c,this._rootElement=n,this._direction=r,this._initialDomRect=a,this._previewTemplate=h,this._previewClass=p,this._pickupPositionOnPage=_,this._initialTransform=M,this._zIndex=F}attach(c){this._preview=this._createPreview(),c.appendChild(this._preview),Uh(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(c){this._preview.style.transform=c}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(c){this._preview.classList.add(c)}getTransitionDuration(){return function Lh(l){const c=getComputedStyle(l),n=Bh(c,"transition-property"),r=n.find(_=>"transform"===_||"all"===_);if(!r)return 0;const a=n.indexOf(r),h=Bh(c,"transition-duration"),p=Bh(c,"transition-delay");return Op(h[a])+Op(p[a])}(this._preview)}addEventListener(c,n){this._preview.addEventListener(c,n)}removeEventListener(c,n){this._preview.removeEventListener(c,n)}_createPreview(){const c=this._previewTemplate,n=this._previewClass,r=c?c.template:null;let a;if(r&&c){const h=c.matchSize?this._initialDomRect:null,p=c.viewContainer.createEmbeddedView(r,c.context);p.detectChanges(),a=Sp(p,this._document),this._previewEmbeddedView=p,c.matchSize?kp(a,h):a.style.transform=kd(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else a=c0(this._rootElement),kp(a,this._initialDomRect),this._initialTransform&&(a.style.transform=this._initialTransform);return jh(a.style,{"pointer-events":"none",margin:Uh(a)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},u0),pa(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("popover","manual"),a.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(h=>a.classList.add(h)):a.classList.add(n)),a}}function Uh(l){return"showPopover"in l}const Tp=(0,le.BQ)({passive:!0}),lc=(0,le.BQ)({passive:!1}),Od=(0,le.BQ)({passive:!1,capture:!0}),Ko=new Set(["position"]);class Td{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(c){c!==this._disabled&&(this._disabled=c,this._toggleNativeDragInteractions(),this._handles.forEach(n=>pa(n,c)))}constructor(c,n,r,a,h,p){this._config=n,this._document=r,this._ngZone=a,this._viewportRuler=h,this._dragDropRegistry=p,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=(0,e.vPA)(!1),this._moveEvents=new Me.B,this._pointerMoveSubscription=ke.yU.EMPTY,this._pointerUpSubscription=ke.yU.EMPTY,this._scrollSubscription=ke.yU.EMPTY,this._resizeSubscription=ke.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new Me.B,this.started=new Me.B,this.released=new Me.B,this.ended=new Me.B,this.entered=new Me.B,this.exited=new Me.B,this.dropped=new Me.B,this.moved=this._moveEvents,this._pointerDown=_=>{if(this.beforeStarted.next(),this._handles.length){const M=this._getTargetHandle(_);M&&!this._disabledHandles.has(M)&&!this.disabled&&this._initializeDragSequence(M,_)}else this.disabled||this._initializeDragSequence(this._rootElement,_)},this._pointerMove=_=>{const M=this._getPointerPositionOnPage(_);if(!this._hasStartedDragging()){if(Math.abs(M.x-this._pickupPositionOnPage.x)+Math.abs(M.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const at=Date.now()>=this._dragStartTime+this._getDragStartDelay(_),dt=this._dropContainer;if(!at)return void this._endDragSequence(_);(!dt||!dt.isDragging()&&!dt.isReceiving())&&(_.cancelable&&_.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(_)))}return}_.cancelable&&_.preventDefault();const F=this._getConstrainedPointerPosition(M);if(this._hasMoved=!0,this._lastKnownPointerPosition=M,this._updatePointerDirectionDelta(F),this._dropContainer)this._updateActiveDropContainer(F,M);else{const Y=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,ge=this._activeTransform;ge.x=F.x-Y.x+this._passiveTransform.x,ge.y=F.y-Y.y+this._passiveTransform.y,this._applyRootElementTransform(ge.x,ge.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:F,event:_,distance:this._getDragDistance(F),delta:this._pointerDirectionDelta})})},this._pointerUp=_=>{this._endDragSequence(_)},this._nativeDragStart=_=>{if(this._handles.length){const M=this._getTargetHandle(_);M&&!this._disabledHandles.has(M)&&!this.disabled&&_.preventDefault()}else this.disabled||_.preventDefault()},this.withRootElement(c).withParent(n.parentDragRef||null),this._parentPositions=new Mp(r),p.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(c){this._handles=c.map(r=>(0,te.i8)(r)),this._handles.forEach(r=>pa(r,this.disabled)),this._toggleNativeDragInteractions();const n=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&n.add(r)}),this._disabledHandles=n,this}withPreviewTemplate(c){return this._previewTemplate=c,this}withPlaceholderTemplate(c){return this._placeholderTemplate=c,this}withRootElement(c){const n=(0,te.i8)(c);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,lc),n.addEventListener("touchstart",this._pointerDown,Tp),n.addEventListener("dragstart",this._nativeDragStart,lc)}),this._initialTransform=void 0,this._rootElement=n),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(c){return this._boundaryElement=c?(0,te.i8)(c):null,this._resizeSubscription.unsubscribe(),c&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(c){return this._parentDragRef=c,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(c){!this._disabledHandles.has(c)&&this._handles.indexOf(c)>-1&&(this._disabledHandles.add(c),pa(c,!0))}enableHandle(c){this._disabledHandles.has(c)&&(this._disabledHandles.delete(c),pa(c,this.disabled))}withDirection(c){return this._direction=c,this}_withDropContainer(c){this._dropContainer=c}getFreeDragPosition(){const c=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:c.x,y:c.y}}setFreeDragPosition(c){return this._activeTransform={x:0,y:0},this._passiveTransform.x=c.x,this._passiveTransform.y=c.y,this._dropContainer||this._applyRootElementTransform(c.x,c.y),this}withPreviewContainer(c){return this._previewContainer=c,this}_sortFromLastPointerPosition(){const c=this._lastKnownPointerPosition;c&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(c),c)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Pp,Od)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(c){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:c}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(c),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const n=this._getPointerPositionOnPage(c);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:c})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(c){qo(c)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const n=this._getShadowRoot(),r=this._dropContainer;if(n&&this._ngZone.runOutsideAngular(()=>{n.addEventListener("selectstart",Pp,Od)}),r){const a=this._rootElement,h=a.parentNode,p=this._placeholder=this._createPlaceholderElement(),_=this._anchor=this._anchor||this._document.createComment("");h.insertBefore(_,a),this._initialTransform=a.style.transform||"",this._preview=new Vh(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(h,n)),Ip(a,!1,Ko),this._document.body.appendChild(h.replaceChild(p,a)),this.started.next({source:this,event:c}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:c}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(c,n){this._parentDragRef&&n.stopPropagation();const r=this.isDragging(),a=qo(n),h=!a&&0!==n.button,p=this._rootElement,_=(0,le.Fb)(n),M=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),F=a?(0,Te.w6)(n):(0,Te._G)(n);if(_&&_.draggable&&"mousedown"===n.type&&n.preventDefault(),r||h||M||F)return;if(this._handles.length){const Je=p.style;this._rootElementTapHighlight=Je.webkitTapHighlightColor||"",Je.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Je=>this._updateOnScroll(Je)),this._boundaryElement&&(this._boundaryRect=Sd(this._boundaryElement));const Y=this._previewTemplate;this._pickupPositionInElement=Y&&Y.template&&!Y.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,c,n);const ge=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:ge.x,y:ge.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(c){Ip(this._rootElement,!0,Ko),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const n=this._dropContainer,r=n.getItemIndex(this),a=this._getPointerPositionOnPage(c),h=this._getDragDistance(a),p=n._isOverContainer(a.x,a.y);this.ended.next({source:this,distance:h,dropPoint:a,event:c}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:p,distance:h,dropPoint:a,event:c}),n.drop(this,r,this._initialIndex,this._initialContainer,p,h,a,c),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:c,y:n},{x:r,y:a}){let h=this._initialContainer._getSiblingContainerFromPosition(this,c,n);!h&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(c,n)&&(h=this._initialContainer),h&&h!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=h,this._dropContainer.enter(this,c,n,h===this._initialContainer&&h.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:h,currentIndex:h.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,a),this._dropContainer._sortItem(this,c,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(c,n):this._applyPreviewTransform(c-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const c=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(c.left,c.top);const n=this._preview.getTransitionDuration();return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const a=p=>{(!p||this._preview&&(0,le.Fb)(p)===this._preview.element&&"transform"===p.propertyName)&&(this._preview?.removeEventListener("transitionend",a),r(),clearTimeout(h))},h=setTimeout(a,1.5*n);this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){const c=this._placeholderTemplate,n=c?c.template:null;let r;return n?(this._placeholderRef=c.viewContainer.createEmbeddedView(n,c.context),this._placeholderRef.detectChanges(),r=Sp(this._placeholderRef,this._document)):r=c0(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(c,n,r){const a=n===this._rootElement?null:n,h=a?a.getBoundingClientRect():c,p=qo(r)?r.targetTouches[0]:r,_=this._getViewportScrollPosition();return{x:h.left-c.left+(p.pageX-h.left-_.left),y:h.top-c.top+(p.pageY-h.top-_.top)}}_getPointerPositionOnPage(c){const n=this._getViewportScrollPosition(),r=qo(c)?c.touches[0]||c.changedTouches[0]||{pageX:0,pageY:0}:c,a=r.pageX-n.left,h=r.pageY-n.top;if(this._ownerSVGElement){const p=this._ownerSVGElement.getScreenCTM();if(p){const _=this._ownerSVGElement.createSVGPoint();return _.x=a,_.y=h,_.matrixTransform(p.inverse())}}return{x:a,y:h}}_getConstrainedPointerPosition(c){const n=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:a}=this.constrainPosition?this.constrainPosition(c,this,this._initialDomRect,this._pickupPositionInElement):c;if("x"===this.lockAxis||"x"===n?a=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===n)&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:h,y:p}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,_=this._boundaryRect,{width:M,height:F}=this._getPreviewRect(),Y=_.top+p,ge=_.bottom-(F-p);r=Gh(r,_.left+h,_.right-(M-h)),a=Gh(a,Y,ge)}return{x:r,y:a}}_updatePointerDirectionDelta(c){const{x:n,y:r}=c,a=this._pointerDirectionDelta,h=this._pointerPositionAtLastDirectionChange,p=Math.abs(n-h.x),_=Math.abs(r-h.y);return p>this._config.pointerDirectionChangeThreshold&&(a.x=n>h.x?1:-1,h.x=n),_>this._config.pointerDirectionChangeThreshold&&(a.y=r>h.y?1:-1,h.y=r),a}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const c=this._handles.length>0||!this.isDragging();c!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=c,pa(this._rootElement,c))}_removeRootElementListeners(c){c.removeEventListener("mousedown",this._pointerDown,lc),c.removeEventListener("touchstart",this._pointerDown,Tp),c.removeEventListener("dragstart",this._nativeDragStart,lc)}_applyRootElementTransform(c,n){const r=1/this.scale,a=kd(c*r,n*r),h=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=h.transform&&"none"!=h.transform?h.transform:""),h.transform=Id(a,this._initialTransform)}_applyPreviewTransform(c,n){const r=this._previewTemplate?.template?void 0:this._initialTransform,a=kd(c,n);this._preview.setTransform(Id(a,r))}_getDragDistance(c){const n=this._pickupPositionOnPage;return n?{x:c.x-n.x,y:c.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:c,y:n}=this._passiveTransform;if(0===c&&0===n||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),a=this._boundaryElement.getBoundingClientRect();if(0===a.width&&0===a.height||0===r.width&&0===r.height)return;const h=a.left-r.left,p=r.right-a.right,_=a.top-r.top,M=r.bottom-a.bottom;a.width>r.width?(h>0&&(c+=h),p>0&&(c-=p)):c=0,a.height>r.height?(_>0&&(n+=_),M>0&&(n-=M)):n=0,(c!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:c})}_getDragStartDelay(c){const n=this.dragStartDelay;return"number"==typeof n?n:qo(c)?n.touch:n?n.mouse:0}_updateOnScroll(c){const n=this._parentPositions.handleScroll(c);if(n){const r=(0,le.Fb)(c);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&al(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,le.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(c,n){const r=this._previewContainer||"global";if("parent"===r)return c;if("global"===r){const a=this._document;return n||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body}return(0,te.i8)(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(c){return this._handles.find(n=>c.target&&(c.target===n||n.contains(c.target)))}}function Gh(l,c,n){return Math.max(c,Math.min(n,l))}function qo(l){return"t"===l.type[0]}function Pp(l){l.preventDefault()}function cc(l,c,n){const r=ll(c,l.length-1),a=ll(n,l.length-1);if(r===a)return;const h=l[r],p=a<r?-1:1;for(let _=r;_!==a;_+=p)l[_]=l[_+p];l[a]=h}function ll(l,c){return Math.max(0,Math.min(c,l))}class zh{constructor(c){this._dragDropRegistry=c,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(c){this.withItems(c)}sort(c,n,r,a){const h=this._itemPositions,p=this._getItemIndexFromPointerPosition(c,n,r,a);if(-1===p&&h.length>0)return null;const _="horizontal"===this.orientation,M=h.findIndex(gt=>gt.drag===c),F=h[p],ge=F.clientRect,Je=M>p?1:-1,at=this._getItemOffsetPx(h[M].clientRect,ge,Je),dt=this._getSiblingOffsetPx(M,h,Je),bt=h.slice();return cc(h,M,p),h.forEach((gt,on)=>{if(bt[on]===gt)return;const yn=gt.drag===c,Dn=yn?at:dt,Sn=yn?c.getPlaceholderElement():gt.drag.getRootElement();gt.offset+=Dn;const hi=Math.round(gt.offset*(1/gt.drag.scale));_?(Sn.style.transform=Id(`translate3d(${hi}px, 0, 0)`,gt.initialTransform),al(gt.clientRect,0,Dn)):(Sn.style.transform=Id(`translate3d(0, ${hi}px, 0)`,gt.initialTransform),al(gt.clientRect,Dn,0))}),this._previousSwap.overlaps=Ds(ge,n,r),this._previousSwap.drag=F.drag,this._previousSwap.delta=_?a.x:a.y,{previousIndex:M,currentIndex:p}}enter(c,n,r,a){const h=null==a||a<0?this._getItemIndexFromPointerPosition(c,n,r):a,p=this._activeDraggables,_=p.indexOf(c),M=c.getPlaceholderElement();let F=p[h];if(F===c&&(F=p[h+1]),!F&&(null==h||-1===h||h<p.length-1)&&this._shouldEnterAsFirstChild(n,r)&&(F=p[0]),_>-1&&p.splice(_,1),F&&!this._dragDropRegistry.isDragging(F)){const Y=F.getRootElement();Y.parentElement.insertBefore(M,Y),p.splice(h,0,c)}else this._element.appendChild(M),p.push(c);M.style.transform="",this._cacheItemPositions()}withItems(c){this._activeDraggables=c.slice(),this._cacheItemPositions()}withSortPredicate(c){this._sortPredicate=c}reset(){this._activeDraggables?.forEach(c=>{const n=c.getRootElement();if(n){const r=this._itemPositions.find(a=>a.drag===c)?.initialTransform;n.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(c){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===c)}updateOnScroll(c,n){this._itemPositions.forEach(({clientRect:r})=>{al(r,c,n)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(c){this._element=c}_cacheItemPositions(){const c="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(n=>{const r=n.getVisibleElement();return{drag:n,offset:0,initialTransform:r.style.transform||"",clientRect:Sd(r)}}).sort((n,r)=>c?n.clientRect.left-r.clientRect.left:n.clientRect.top-r.clientRect.top)}_getItemOffsetPx(c,n,r){const a="horizontal"===this.orientation;let h=a?n.left-c.left:n.top-c.top;return-1===r&&(h+=a?n.width-c.width:n.height-c.height),h}_getSiblingOffsetPx(c,n,r){const a="horizontal"===this.orientation,h=n[c].clientRect,p=n[c+-1*r];let _=h[a?"width":"height"]*r;if(p){const M=a?"left":"top",F=a?"right":"bottom";-1===r?_-=p.clientRect[M]-h[F]:_+=h[M]-p.clientRect[F]}return _}_shouldEnterAsFirstChild(c,n){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,a="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const p=r[r.length-1].clientRect;return a?c>=p.right:n>=p.bottom}{const p=r[0].clientRect;return a?c<=p.left:n<=p.top}}_getItemIndexFromPointerPosition(c,n,r,a){const h="horizontal"===this.orientation,p=this._itemPositions.findIndex(({drag:_,clientRect:M})=>_!==c&&((!a||_!==this._previousSwap.drag||!this._previousSwap.overlaps||(h?a.x:a.y)!==this._previousSwap.delta)&&(h?n>=Math.floor(M.left)&&n<Math.floor(M.right):r>=Math.floor(M.top)&&r<Math.floor(M.bottom))));return-1!==p&&this._sortPredicate(p,c)?p:-1}}class ga{constructor(c,n){this._document=c,this._dragDropRegistry=n,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(c){const n=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<n.length;r++){const a=n[r];this._relatedNodes.push([a,a.nextSibling])}this.withItems(c)}sort(c,n,r,a){const h=this._getItemIndexFromPointerPosition(c,n,r),p=this._previousSwap;if(-1===h||this._activeItems[h]===c)return null;const _=this._activeItems[h];if(p.drag===_&&p.overlaps&&p.deltaX===a.x&&p.deltaY===a.y)return null;const M=this.getItemIndex(c),F=c.getPlaceholderElement(),Y=_.getRootElement();h>M?Y.after(F):Y.before(F),cc(this._activeItems,M,h);const ge=this._getRootNode().elementFromPoint(n,r);return p.deltaX=a.x,p.deltaY=a.y,p.drag=_,p.overlaps=Y===ge||Y.contains(ge),{previousIndex:M,currentIndex:h}}enter(c,n,r,a){let h=null==a||a<0?this._getItemIndexFromPointerPosition(c,n,r):a;-1===h&&(h=this._getClosestItemIndexToPointer(c,n,r));const p=this._activeItems[h],_=this._activeItems.indexOf(c);_>-1&&this._activeItems.splice(_,1),p&&!this._dragDropRegistry.isDragging(p)?(this._activeItems.splice(h,0,c),p.getRootElement().before(c.getPlaceholderElement())):(this._activeItems.push(c),this._element.appendChild(c.getPlaceholderElement()))}withItems(c){this._activeItems=c.slice()}withSortPredicate(c){this._sortPredicate=c}reset(){const c=this._element,n=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){const[a,h]=this._relatedNodes[r];a.parentNode===c&&a.nextSibling!==h&&(null===h?c.appendChild(a):h.parentNode===c&&c.insertBefore(a,h))}this._relatedNodes=[],this._activeItems=[],n.drag=null,n.deltaX=n.deltaY=0,n.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(c){return this._activeItems.indexOf(c)}updateOnScroll(){this._activeItems.forEach(c=>{this._dragDropRegistry.isDragging(c)&&c._sortFromLastPointerPosition()})}withElementContainer(c){c!==this._element&&(this._element=c,this._rootNode=void 0)}_getItemIndexFromPointerPosition(c,n,r){const a=this._getRootNode().elementFromPoint(Math.floor(n),Math.floor(r)),h=a?this._activeItems.findIndex(p=>{const _=p.getRootElement();return a===_||_.contains(a)}):-1;return-1!==h&&this._sortPredicate(h,c)?h:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,le.KT)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(c,n,r){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let a=1/0,h=-1;for(let p=0;p<this._activeItems.length;p++){const _=this._activeItems[p];if(_!==c){const{x:M,y:F}=_.getRootElement().getBoundingClientRect(),Y=Math.hypot(n-M,r-F);Y<a&&(a=Y,h=p)}}return h}}var uo=function(l){return l[l.NONE=0]="NONE",l[l.UP=1]="UP",l[l.DOWN=2]="DOWN",l}(uo||{}),Lr=function(l){return l[l.NONE=0]="NONE",l[l.LEFT=1]="LEFT",l[l.RIGHT=2]="RIGHT",l}(Lr||{});class f0{constructor(c,n,r,a,h){this._dragDropRegistry=n,this._ngZone=a,this._viewportRuler=h,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Me.B,this.entered=new Me.B,this.exited=new Me.B,this.dropped=new Me.B,this.sorted=new Me.B,this.receivingStarted=new Me.B,this.receivingStopped=new Me.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ke.yU.EMPTY,this._verticalScrollDirection=uo.NONE,this._horizontalScrollDirection=Lr.NONE,this._stopScrollTimers=new Me.B,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),function Rh(l=0,c=l0.E){return l<0&&(l=0),(0,Dd.O)(l,l,c)}(0,ac.X).pipe((0,Ne.Q)(this._stopScrollTimers)).subscribe(()=>{const _=this._scrollNode,M=this.autoScrollStep;this._verticalScrollDirection===uo.UP?_.scrollBy(0,-M):this._verticalScrollDirection===uo.DOWN&&_.scrollBy(0,M),this._horizontalScrollDirection===Lr.LEFT?_.scrollBy(-M,0):this._horizontalScrollDirection===Lr.RIGHT&&_.scrollBy(M,0)})};const p=this.element=(0,te.i8)(c);this._document=r,this.withOrientation("vertical").withElementContainer(p),n.registerDropContainer(this),this._parentPositions=new Mp(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(c,n,r,a){this._draggingStarted(),null==a&&this.sortingDisabled&&(a=this._draggables.indexOf(c)),this._sortStrategy.enter(c,n,r,a),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:c,container:this,currentIndex:this.getItemIndex(c)})}exit(c){this._reset(),this.exited.next({item:c,container:this})}drop(c,n,r,a,h,p,_,M={}){this._reset(),this.dropped.next({item:c,currentIndex:n,previousIndex:r,container:this,previousContainer:a,isPointerOverContainer:h,distance:p,dropPoint:_,event:M})}withItems(c){const n=this._draggables;return this._draggables=c,c.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(n.filter(a=>a.isDragging()).every(a=>-1===c.indexOf(a))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(c){return this._direction=c,this._sortStrategy instanceof zh&&(this._sortStrategy.direction=c),this}connectedTo(c){return this._siblings=c.slice(),this}withOrientation(c){if("mixed"===c)this._sortStrategy=new ga(this._document,this._dragDropRegistry);else{const n=new zh(this._dragDropRegistry);n.direction=this._direction,n.orientation=c,this._sortStrategy=n}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((n,r)=>this.sortPredicate(n,r,this)),this}withScrollableParents(c){const n=this._container;return this._scrollableElements=-1===c.indexOf(n)?[n,...c]:c.slice(),this}withElementContainer(c){if(c===this._container)return this;(0,te.i8)(this.element);const r=this._scrollableElements.indexOf(this._container),a=this._scrollableElements.indexOf(c);return r>-1&&this._scrollableElements.splice(r,1),a>-1&&this._scrollableElements.splice(a,1),this._sortStrategy&&this._sortStrategy.withElementContainer(c),this._cachedShadowRoot=null,this._scrollableElements.unshift(c),this._container=c,this}getScrollableParents(){return this._scrollableElements}getItemIndex(c){return this._isDragging?this._sortStrategy.getItemIndex(c):this._draggables.indexOf(c)}isReceiving(){return this._activeSiblings.size>0}_sortItem(c,n,r,a){if(this.sortingDisabled||!this._domRect||!xp(this._domRect,.05,n,r))return;const h=this._sortStrategy.sort(c,n,r,a);h&&this.sorted.next({previousIndex:h.previousIndex,currentIndex:h.currentIndex,container:this,item:c})}_startScrollingIfNecessary(c,n){if(this.autoScrollDisabled)return;let r,a=uo.NONE,h=Lr.NONE;if(this._parentPositions.positions.forEach((p,_)=>{_===this._document||!p.clientRect||r||xp(p.clientRect,.05,c,n)&&([a,h]=function m0(l,c,n,r,a){const h=Yo(c,a),p=_a(c,r);let _=uo.NONE,M=Lr.NONE;if(h){const F=l.scrollTop;h===uo.UP?F>0&&(_=uo.UP):l.scrollHeight-F>l.clientHeight&&(_=uo.DOWN)}if(p){const F=l.scrollLeft;"rtl"===n?p===Lr.RIGHT?F<0&&(M=Lr.RIGHT):l.scrollWidth+F>l.clientWidth&&(M=Lr.LEFT):p===Lr.LEFT?F>0&&(M=Lr.LEFT):l.scrollWidth-F>l.clientWidth&&(M=Lr.RIGHT)}return[_,M]}(_,p.clientRect,this._direction,c,n),(a||h)&&(r=_))}),!a&&!h){const{width:p,height:_}=this._viewportRuler.getViewportSize(),M={width:p,height:_,top:0,right:p,bottom:_,left:0};a=Yo(M,n),h=_a(M,c),r=window}r&&(a!==this._verticalScrollDirection||h!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=a,this._horizontalScrollDirection=h,this._scrollNode=r,(a||h)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const c=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=c.msScrollSnapType||c.scrollSnapType||"",c.scrollSnapType=c.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const c=this._container.style;c.scrollSnapType=c.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(c,n){return null!=this._domRect&&Ds(this._domRect,c,n)}_getSiblingContainerFromPosition(c,n,r){return this._siblings.find(a=>a._canReceive(c,n,r))}_canReceive(c,n,r){if(!this._domRect||!Ds(this._domRect,n,r)||!this.enterPredicate(c,this))return!1;const a=this._getShadowRoot().elementFromPoint(n,r);return!!a&&(a===this._container||this._container.contains(a))}_startReceiving(c,n){const r=this._activeSiblings;!r.has(c)&&n.every(a=>this.enterPredicate(a,this)||this._draggables.indexOf(a)>-1)&&(r.add(c),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:c,receiver:this,items:n}))}_stopReceiving(c){this._activeSiblings.delete(c),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:c,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(c=>{if(this.isDragging()){const n=this._parentPositions.handleScroll(c);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const c=(0,le.KT)(this._container);this._cachedShadowRoot=c||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const c=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,c))}}function Yo(l,c){const{top:n,bottom:r,height:a}=l,h=.05*a;return c>=n-h&&c<=n+h?uo.UP:c>=r-h&&c<=r+h?uo.DOWN:uo.NONE}function _a(l,c){const{left:n,right:r,width:a}=l,h=.05*a;return c>=n-h&&c<=n+h?Lr.LEFT:c>=r-h&&c<=r+h?Lr.RIGHT:Lr.NONE}const Pd=(0,le.BQ)({passive:!1,capture:!0}),Fd=new Set;let p0=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,a){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}}return l})(),g0=(()=>{class l{constructor(n,r){this._ngZone=n,this._appRef=(0,e.WQX)(e.o8S),this._environmentInjector=(0,e.WQX)(e.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=(0,e.vPA)([]),this._globalListeners=new Map,this._draggingPredicate=a=>a.isDragging(),this.pointerMove=new Me.B,this.pointerUp=new Me.B,this.scroll=new Me.B,this._preventDefaultWhileDragging=a=>{this._activeDragInstances().length>0&&a.preventDefault()},this._persistentTouchmoveListener=a=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&a.preventDefault(),this.pointerMove.next(a))},this._document=r}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Pd)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Pd)}startDragging(n,r){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._loadResets(),this._activeDragInstances.update(a=>[...a,n]),1===this._activeDragInstances().length)){const a=r.type.startsWith("touch");this._globalListeners.set(a?"touchend":"mouseup",{handler:h=>this.pointerUp.next(h),options:!0}).set("scroll",{handler:h=>this.scroll.next(h),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Pd}),a||this._globalListeners.set("mousemove",{handler:h=>this.pointerMove.next(h),options:Pd}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((h,p)=>{this._document.addEventListener(p,h.handler,h.options)})})}}stopDragging(n){this._activeDragInstances.update(r=>{const a=r.indexOf(n);return a>-1?(r.splice(a,1),[...r]):r}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){const r=[this.scroll];return n&&n!==this._document&&r.push(new ze.c(a=>this._ngZone.runOutsideAngular(()=>{const p=_=>{this._activeDragInstances().length&&a.next(_)};return n.addEventListener("scroll",p,!0),()=>{n.removeEventListener("scroll",p,!0)}}))),(0,Ie.h)(...r)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,r)=>{this._document.removeEventListener(r,n.handler,n.options)}),this._globalListeners.clear()}_loadResets(){if(!Fd.has(this._appRef)){Fd.add(this._appRef);const n=(0,e.a0P)(p0,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Fd.delete(this._appRef),0===Fd.size&&n.destroy()})}}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(e.SKi),e.KVO(me.q))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const _0={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Rd=(()=>{class l{constructor(n,r,a,h){this._document=n,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=h}createDrag(n,r=_0){return new Td(n,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new f0(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(me.q),e.KVO(e.SKi),e.KVO(ee.Xj),e.KVO(g0))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const dc=new e.nKC("CDK_DRAG_PARENT"),Ap=new e.nKC("CdkDragHandle"),uc=new e.nKC("CDK_DRAG_CONFIG"),cl=new e.nKC("CdkDropList");let Wh=(()=>{class l{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}constructor(n,r,a,h,p,_,M,F,Y,ge,Je){this.element=n,this.dropContainer=r,this._ngZone=h,this._viewContainerRef=p,this._dir=M,this._changeDetectorRef=Y,this._selfHandle=ge,this._parentDrag=Je,this._destroyed=new Me.B,this._handles=new zr.t([]),this.scale=1,this.started=new e.bkB,this.released=new e.bkB,this.ended=new e.bkB,this.entered=new e.bkB,this.exited=new e.bkB,this.dropped=new e.bkB,this.moved=new ze.c(at=>{const dt=this._dragRef.moved.pipe((0,U.T)(bt=>({source:this,pointerPosition:bt.pointerPosition,event:bt.event,delta:bt.delta,distance:bt.distance}))).subscribe(at);return()=>{dt.unsubscribe()}}),this._injector=(0,e.WQX)(e.zZn),this._dragRef=F.createDrag(n,{dragStartThreshold:_&&null!=_.dragStartThreshold?_.dragStartThreshold:5,pointerDirectionChangeThreshold:_&&null!=_.pointerDirectionChangeThreshold?_.pointerDirectionChangeThreshold:5,zIndex:_?.zIndex}),this._dragRef.data=this,l._dragInstances.push(this),_&&this._assignDefaults(_),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this),r._dropListRef.beforeStarted.pipe((0,Ne.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){(0,e.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){const r=n.rootElementSelector,a=n.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,a&&!a.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const n=l._dragInstances.indexOf(this);n>-1&&l._dragInstances.splice(n,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){const r=this._handles.getValue();r.push(n),this._handles.next(r)}_removeHandle(n){const r=this._handles.getValue(),a=r.indexOf(n);a>-1&&(r.splice(a,1),this._handles.next(r))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const n=this.element.nativeElement;let r=n;this.rootElementSelector&&(r=void 0!==n.closest?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||n)}_getBoundaryElement(){const n=this.boundaryElement;return n?"string"==typeof n?this.element.nativeElement.closest(n):(0,te.i8)(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){const r=this._dir,a=this.dragStartDelay,h=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,p=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay="object"==typeof a&&a?a:(0,te.OE)(a),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(h).withPreviewTemplate(p).withPreviewContainer(this.previewContainer||"global"),r&&n.withDirection(r.value)}}),n.beforeStarted.pipe((0,W.s)(1)).subscribe(()=>{if(this._parentDrag)return void n.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){n.withParent(l._dragInstances.find(a=>a.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(n){n.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),n.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(n){const{lockAxis:r,dragStartDelay:a,constrainPosition:h,previewClass:p,boundaryElement:_,draggingDisabled:M,rootElementSelector:F,previewContainer:Y}=n;this.disabled=M??!1,this.dragStartDelay=a||0,r&&(this.lockAxis=r),h&&(this.constrainPosition=h),p&&(this.previewClass=p),_&&(this.boundaryElement=_),F&&(this.rootElementSelector=F),Y&&(this.previewContainer=Y)}_setupHandlesListener(){this._handles.pipe((0,xd.M)(n=>{const r=n.map(a=>a.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),(0,L.n)(n=>(0,Ie.h)(...n.map(r=>r._stateChanges.pipe((0,pe.Z)(r))))),(0,Ne.Q)(this._destroyed)).subscribe(n=>{const r=this._dragRef,a=n.element.nativeElement;n.disabled?r.disableHandle(a):r.enableHandle(a)})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.aKT),e.rXU(cl,12),e.rXU(me.q),e.rXU(e.SKi),e.rXU(e.c1b),e.rXU(uc,8),e.rXU(ce.dS,8),e.rXU(Rd),e.rXU(e.gRc),e.rXU(Ap,10),e.rXU(dc,12))}}static{this.\u0275dir=e.FsC({type:l,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,a){2&r&&e.AVh("cdk-drag-disabled",a.disabled)("cdk-drag-dragging",a._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",e.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",e.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e.Jv_([{provide:dc,useExisting:l}]),e.OA$]})}}return l})();const Ad=new e.nKC("CdkDropListGroup");let wE=0,b0=(()=>{class l{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}constructor(n,r,a,h,p,_,M){this.element=n,this._changeDetectorRef=a,this._scrollDispatcher=h,this._dir=p,this._group=_,this._destroyed=new Me.B,this.connectedTo=[],this.id="cdk-drop-list-"+wE++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.bkB,this.entered=new e.bkB,this.exited=new e.bkB,this.sorted=new e.bkB,this._unsortedItems=new Set,this._dropListRef=r.createDropList(n),this._dropListRef.data=this,M&&this._assignDefaults(M),this._dropListRef.enterPredicate=(F,Y)=>this.enterPredicate(F.data,Y.data),this._dropListRef.sortPredicate=(F,Y,ge)=>this.sortPredicate(F,Y.data,ge.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),l._dropLists.push(this),_&&_._items.add(this)}addItem(n){this._unsortedItems.add(n),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(n){this._unsortedItems.delete(n),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((n,r)=>n._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const n=l._dropLists.indexOf(this);n>-1&&l._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe((0,pe.Z)(this._dir.value),(0,Ne.Q)(this._destroyed)).subscribe(r=>n.withDirection(r)),n.beforeStarted.subscribe(()=>{const r=(0,te.FG)(this.connectedTo).map(a=>"string"==typeof a?l._dropLists.find(p=>p.id===a):a);if(this._group&&this._group._items.forEach(a=>{-1===r.indexOf(a)&&r.push(a)}),!this._scrollableParentsResolved){const a=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(h=>h.getElementRef().nativeElement);this._dropListRef.withScrollableParents(a),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const a=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(a)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=(0,te.OE)(this.autoScrollStep,2),n.connectedTo(r.filter(a=>a&&a!==this).map(a=>a._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),(0,Ie.h)(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){const{lockAxis:r,draggingDisabled:a,sortingDisabled:h,listAutoScrollDisabled:p,listOrientation:_}=n;this.disabled=a??!1,this.sortingDisabled=h??!1,this.autoScrollDisabled=p??!1,this.orientation=_||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(n=>n._dragRef))}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.aKT),e.rXU(Rd),e.rXU(e.gRc),e.rXU(ee.R),e.rXU(ce.dS,8),e.rXU(Ad,12),e.rXU(uc,8))}}static{this.\u0275dir=e.FsC({type:l,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,a){2&r&&(e.BMQ("id",a.id),e.AVh("cdk-drop-list-disabled",a.disabled)("cdk-drop-list-dragging",a._dropListRef.isDragging())("cdk-drop-list-receiving",a._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",e.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",e.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",e.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e.Jv_([{provide:Ad,useValue:void 0},{provide:cl,useExisting:l}])]})}}return l})();const Kh=new e.nKC("CdkDragPlaceholder");let y0=(()=>{class l{constructor(n){this.templateRef=n,this._drag=(0,e.WQX)(dc,{optional:!0}),this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:l,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[e.Jv_([{provide:Kh,useExisting:l}])]})}}return l})(),jp=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({providers:[Rd],imports:[ee.Gj]})}}return l})();var va=D(2210),qh={};!function l(c,n,r,a){var h=!!(c.Worker&&c.Blob&&c.Promise&&c.OffscreenCanvas&&c.OffscreenCanvasRenderingContext2D&&c.HTMLCanvasElement&&c.HTMLCanvasElement.prototype.transferControlToOffscreen&&c.URL&&c.URL.createObjectURL),p="function"==typeof Path2D&&"function"==typeof DOMMatrix,_=function(){if(!c.OffscreenCanvas)return!1;try{var Ae=new OffscreenCanvas(1,1),De=Ae.getContext("2d");De.fillRect(0,0,1,1);var Nt=Ae.transferToImageBitmap();De.createPattern(Nt,"no-repeat")}catch{return!1}return!0}();function M(){}function F(Ae){var De=n.exports.Promise,Nt=void 0!==De?De:c.Promise;return"function"==typeof Nt?new Nt(Ae):(Ae(M,M),null)}var De,Nt,Ae,Qt,$t,Sa,Y=function(Ae,De){return{transform:function(Nt){if(Ae)return Nt;if(De.has(Nt))return De.get(Nt);var Qt=new OffscreenCanvas(Nt.width,Nt.height);return Qt.getContext("2d").drawImage(Nt,0,0),De.set(Nt,Qt),Qt},clear:function(){De.clear()}}}(_,new Map),ge=(Ae=Math.floor(16.666666666666668),Qt={},$t=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(De=function(xn){var Rn=Math.random();return Qt[Rn]=requestAnimationFrame(function Ut(_n){$t===_n||$t+Ae-1<_n?($t=_n,delete Qt[Rn],xn()):Qt[Rn]=requestAnimationFrame(Ut)}),Rn},Nt=function(xn){Qt[xn]&&cancelAnimationFrame(Qt[xn])}):(De=function(xn){return setTimeout(xn,Ae)},Nt=function(xn){return clearTimeout(xn)}),{frame:De,cancel:Nt}),Je=function(){var Ae,De,Nt={};return function(){if(Ae)return Ae;if(!r&&h){var $t=["var CONFETTI, SIZE = {}, module = {};","("+l.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{Ae=new Worker(URL.createObjectURL(new Blob([$t])))}catch(xn){return typeof console<"u"&&"function"==typeof console.warn&&console.warn("\u{1f38a} Could not load worker",xn),null}!function Qt($t){function xn(Rn,Ut){$t.postMessage({options:Rn||{},callback:Ut})}$t.init=function(Ut){var _n=Ut.transferControlToOffscreen();$t.postMessage({canvas:_n},[_n])},$t.fire=function(Ut,_n,Mn){if(De)return xn(Ut,null),De;var fi=Math.random().toString(36).slice(2);return De=F(function(ei){function Ni(Ti){Ti.data.callback===fi&&(delete Nt[fi],$t.removeEventListener("message",Ni),De=null,Y.clear(),Mn(),ei())}$t.addEventListener("message",Ni),xn(Ut,fi),Nt[fi]=Ni.bind(null,{data:{callback:fi}})})},$t.reset=function(){for(var Ut in $t.postMessage({reset:!0}),Nt)Nt[Ut](),delete Nt[Ut]}}(Ae)}return Ae}}(),at={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function gt(Ae,De,Nt){return function dt(Ae,De){return De?De(Ae):Ae}(Ae&&function bt(Ae){return null!=Ae}(Ae[De])?Ae[De]:at[De],Nt)}function on(Ae){return Ae<0?0:Math.floor(Ae)}function yn(Ae,De){return Math.floor(Math.random()*(De-Ae))+Ae}function Dn(Ae){return parseInt(Ae,16)}function Sn(Ae){return Ae.map(hi)}function hi(Ae){var De=String(Ae).replace(/[^0-9a-f]/gi,"");return De.length<6&&(De=De[0]+De[0]+De[1]+De[1]+De[2]+De[2]),{r:Dn(De.substring(0,2)),g:Dn(De.substring(2,4)),b:Dn(De.substring(4,6))}}function Di(Ae){Ae.width=document.documentElement.clientWidth,Ae.height=document.documentElement.clientHeight}function Qi(Ae){var De=Ae.getBoundingClientRect();Ae.width=De.width,Ae.height=De.height}function Kd(Ae){var De=Ae.angle*(Math.PI/180),Nt=Ae.spread*(Math.PI/180);return{x:Ae.x,y:Ae.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*Ae.startVelocity+Math.random()*Ae.startVelocity,angle2D:-De+(.5*Nt-Math.random()*Nt),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:Ae.color,shape:Ae.shape,tick:0,totalTicks:Ae.ticks,decay:Ae.decay,drift:Ae.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*Ae.gravity,ovalScalar:.6,scalar:Ae.scalar,flat:Ae.flat}}function wc(Ae,De){var ei,Nt=!Ae,Qt=!!gt(De||{},"resize"),$t=!1,xn=gt(De,"disableForReducedMotion",Boolean),Ut=h&&gt(De||{},"useWorker")?Je():null,_n=Nt?Di:Qi,Mn=!(!Ae||!Ut||!Ae.__confetti_initialized),fi="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function Ni(An,Ir,ro){for(var Ro=gt(An,"particleCount",on),qr=gt(An,"angle",Number),Qs=gt(An,"spread",Number),ts=gt(An,"startVelocity",Number),Hb=gt(An,"decay",Number),zb=gt(An,"gravity",Number),Wb=gt(An,"drift",Number),$g=gt(An,"colors",Sn),Gg=gt(An,"ticks",Number),Hg=gt(An,"shapes"),zg=gt(An,"scalar"),qd=!!gt(An,"flat"),Dc=function rr(Ae){var De=gt(Ae,"origin",Object);return De.x=gt(De,"x",Number),De.y=gt(De,"y",Number),De}(An),Ff=Ro,Rf=[],Xb=Ae.width*Dc.x,Wg=Ae.height*Dc.y;Ff--;)Rf.push(Kd({x:Xb,y:Wg,angle:qr,spread:Qs,startVelocity:ts,color:$g[Ff%$g.length],shape:Hg[yn(0,Hg.length)],ticks:Gg,decay:Hb,gravity:zb,drift:Wb,scalar:zg,flat:qd}));return ei?ei.addFettis(Rf):(ei=function Ma(Ae,De,Nt,Qt,$t){var Ut,_n,xn=De.slice(),Rn=Ae.getContext("2d"),Mn=F(function(fi){function ei(){Ut=_n=null,Rn.clearRect(0,0,Qt.width,Qt.height),Y.clear(),$t(),fi()}Ut=ge.frame(function Ni(){r&&!(Qt.width===a.width&&Qt.height===a.height)&&(Qt.width=Ae.width=a.width,Qt.height=Ae.height=a.height),!Qt.width&&!Qt.height&&(Nt(Ae),Qt.width=Ae.width,Qt.height=Ae.height),Rn.clearRect(0,0,Qt.width,Qt.height),(xn=xn.filter(function(Ti){return function es(Ae,De){De.x+=Math.cos(De.angle2D)*De.velocity+De.drift,De.y+=Math.sin(De.angle2D)*De.velocity+De.gravity,De.velocity*=De.decay,De.flat?(De.wobble=0,De.wobbleX=De.x+10*De.scalar,De.wobbleY=De.y+10*De.scalar,De.tiltSin=0,De.tiltCos=0,De.random=1):(De.wobble+=De.wobbleSpeed,De.wobbleX=De.x+10*De.scalar*Math.cos(De.wobble),De.wobbleY=De.y+10*De.scalar*Math.sin(De.wobble),De.tiltAngle+=.1,De.tiltSin=Math.sin(De.tiltAngle),De.tiltCos=Math.cos(De.tiltAngle),De.random=Math.random()+2);var Nt=De.tick++/De.totalTicks,Qt=De.x+De.random*De.tiltCos,$t=De.y+De.random*De.tiltSin,xn=De.wobbleX+De.random*De.tiltCos,Rn=De.wobbleY+De.random*De.tiltSin;if(Ae.fillStyle="rgba("+De.color.r+", "+De.color.g+", "+De.color.b+", "+(1-Nt)+")",Ae.beginPath(),p&&"path"===De.shape.type&&"string"==typeof De.shape.path&&Array.isArray(De.shape.matrix))Ae.fill(function Yt(Ae,De,Nt,Qt,$t,xn,Rn){var Ut=new Path2D(Ae),_n=new Path2D;_n.addPath(Ut,new DOMMatrix(De));var Mn=new Path2D;return Mn.addPath(_n,new DOMMatrix([Math.cos(Rn)*$t,Math.sin(Rn)*$t,-Math.sin(Rn)*xn,Math.cos(Rn)*xn,Nt,Qt])),Mn}(De.shape.path,De.shape.matrix,De.x,De.y,.1*Math.abs(xn-Qt),.1*Math.abs(Rn-$t),Math.PI/10*De.wobble));else if("bitmap"===De.shape.type){var Ut=Math.PI/10*De.wobble,_n=.1*Math.abs(xn-Qt),Mn=.1*Math.abs(Rn-$t),fi=De.shape.bitmap.width*De.scalar,ei=De.shape.bitmap.height*De.scalar,Ni=new DOMMatrix([Math.cos(Ut)*_n,Math.sin(Ut)*_n,-Math.sin(Ut)*Mn,Math.cos(Ut)*Mn,De.x,De.y]);Ni.multiplySelf(new DOMMatrix(De.shape.matrix));var Ti=Ae.createPattern(Y.transform(De.shape.bitmap),"no-repeat");Ti.setTransform(Ni),Ae.globalAlpha=1-Nt,Ae.fillStyle=Ti,Ae.fillRect(De.x-fi/2,De.y-ei/2,fi,ei),Ae.globalAlpha=1}else if("circle"===De.shape)Ae.ellipse?Ae.ellipse(De.x,De.y,Math.abs(xn-Qt)*De.ovalScalar,Math.abs(Rn-$t)*De.ovalScalar,Math.PI/10*De.wobble,0,2*Math.PI):function xa(Ae,De,Nt,Qt,$t,xn,Rn,Ut,_n){Ae.save(),Ae.translate(De,Nt),Ae.rotate(xn),Ae.scale(Qt,$t),Ae.arc(0,0,1,Rn,Ut,_n),Ae.restore()}(Ae,De.x,De.y,Math.abs(xn-Qt)*De.ovalScalar,Math.abs(Rn-$t)*De.ovalScalar,Math.PI/10*De.wobble,0,2*Math.PI);else if("star"===De.shape)for(var An=Math.PI/2*3,Ir=4*De.scalar,ro=8*De.scalar,Ro=De.x,qr=De.y,Qs=5,ts=Math.PI/Qs;Qs--;)Ro=De.x+Math.cos(An)*ro,qr=De.y+Math.sin(An)*ro,Ae.lineTo(Ro,qr),An+=ts,Ro=De.x+Math.cos(An)*Ir,qr=De.y+Math.sin(An)*Ir,Ae.lineTo(Ro,qr),An+=ts;else Ae.moveTo(Math.floor(De.x),Math.floor(De.y)),Ae.lineTo(Math.floor(De.wobbleX),Math.floor($t)),Ae.lineTo(Math.floor(xn),Math.floor(Rn)),Ae.lineTo(Math.floor(Qt),Math.floor(De.wobbleY));return Ae.closePath(),Ae.fill(),De.tick<De.totalTicks}(Rn,Ti)})).length?Ut=ge.frame(Ni):ei()}),_n=ei});return{addFettis:function(fi){return xn=xn.concat(fi),Mn},canvas:Ae,promise:Mn,reset:function(){Ut&&ge.cancel(Ut),_n&&_n()}}}(Ae,Rf,_n,Ir,ro),ei.promise)}function Ti(An){var Ir=xn||gt(An,"disableForReducedMotion",Boolean),ro=gt(An,"zIndex",Number);if(Ir&&fi)return F(function(ts){ts()});Nt&&ei?Ae=ei.canvas:Nt&&!Ae&&(Ae=function ho(Ae){var De=document.createElement("canvas");return De.style.position="fixed",De.style.top="0px",De.style.left="0px",De.style.pointerEvents="none",De.style.zIndex=Ae,De}(ro),document.body.appendChild(Ae)),Qt&&!Mn&&_n(Ae);var Ro={width:Ae.width,height:Ae.height};function qr(){if(Ut){var ts={getBoundingClientRect:function(){if(!Nt)return Ae.getBoundingClientRect()}};return _n(ts),void Ut.postMessage({resize:{width:ts.width,height:ts.height}})}Ro.width=Ro.height=null}function Qs(){ei=null,Qt&&($t=!1,c.removeEventListener("resize",qr)),Nt&&Ae&&(document.body.contains(Ae)&&document.body.removeChild(Ae),Ae=null,Mn=!1)}return Ut&&!Mn&&Ut.init(Ae),Mn=!0,Ut&&(Ae.__confetti_initialized=!0),Qt&&!$t&&($t=!0,c.addEventListener("resize",qr,!1)),Ut?Ut.fire(An,Ro,Qs):Ni(An,Ro,Qs)}return Ti.reset=function(){Ut&&Ut.reset(),ei&&ei.reset()},Ti}function Vt(){return Sa||(Sa=wc(null,{useWorker:!0,resize:!0})),Sa}n.exports=function(){return Vt().apply(this,arguments)},n.exports.reset=function(){Vt().reset()},n.exports.create=wc,n.exports.shapeFromPath=function nn(Ae){if(!p)throw new Error("path confetti are not supported in this browser");var De,Nt;"string"==typeof Ae?De=Ae:(De=Ae.path,Nt=Ae.matrix);var Qt=new Path2D(De),xn=document.createElement("canvas").getContext("2d");if(!Nt){for(var ei,Ni,Ut=1e3,_n=1e3,Mn=0,fi=0,Ti=0;Ti<1e3;Ti+=2)for(var An=0;An<1e3;An+=2)xn.isPointInPath(Qt,Ti,An,"nonzero")&&(Ut=Math.min(Ut,Ti),_n=Math.min(_n,An),Mn=Math.max(Mn,Ti),fi=Math.max(fi,An));ei=Mn-Ut,Ni=fi-_n;var ro=Math.min(10/ei,10/Ni);Nt=[ro,0,0,ro,-Math.round(ei/2+Ut)*ro,-Math.round(Ni/2+_n)*ro]}return{type:"path",path:De,matrix:Nt}},n.exports.shapeFromText=function Bn(Ae){var De,Nt=1,Qt="#000000",$t='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof Ae?De=Ae:(De=Ae.text,Nt="scalar"in Ae?Ae.scalar:Nt,$t="fontFamily"in Ae?Ae.fontFamily:$t,Qt="color"in Ae?Ae.color:Qt);var xn=10*Nt,Rn=xn+"px "+$t,Ut=new OffscreenCanvas(xn,xn),_n=Ut.getContext("2d");_n.font=Rn;var Mn=_n.measureText(De),fi=Math.ceil(Mn.actualBoundingBoxRight+Mn.actualBoundingBoxLeft),ei=Math.ceil(Mn.actualBoundingBoxAscent+Mn.actualBoundingBoxDescent),Ti=Mn.actualBoundingBoxLeft+2,An=Mn.actualBoundingBoxAscent+2;fi+=4,ei+=4,(_n=(Ut=new OffscreenCanvas(fi,ei)).getContext("2d")).font=Rn,_n.fillStyle=Qt,_n.fillText(De,Ti,An);var Ir=1/Nt;return{type:"bitmap",bitmap:Ut.transferToImageBitmap(),matrix:[Ir,0,0,Ir,-fi*Ir/2,-ei*Ir/2]}}}(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),qh,!1);const dl=qh.exports;let Nd=(()=>{class l{trigger(){const r=Date.now()+3e3,a=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"],h=()=>{Date.now()>r||(dl({particleCount:2,angle:60,spread:55,origin:{x:0},colors:a}),dl({particleCount:2,angle:120,spread:55,origin:{x:1},colors:a}),requestAnimationFrame(h))};h(),setTimeout(()=>{dl({particleCount:100,spread:70,origin:{y:.6},colors:a})},250)}triggerShort(){const r=Date.now()+1e3,a=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"],h=()=>{Date.now()>r||(dl({particleCount:3,angle:60,spread:55,origin:{x:0},colors:a}),dl({particleCount:3,angle:120,spread:55,origin:{x:1},colors:a}),requestAnimationFrame(h))};h(),setTimeout(()=>{dl({particleCount:50,spread:70,origin:{y:.6},colors:a})},100)}static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const Lp=["doneList"],Bp=l=>[l];function C0(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",16)(1,"div",17)(2,"h2",18),e.EFF(3,"F\xe9licitations !"),e.k0s(),e.j41(4,"div",19)(5,"p"),e.EFF(6),e.k0s(),e.j41(7,"p"),e.EFF(8," Vous avez remport\xe9 "),e.j41(9,"b"),e.EFF(10),e.k0s(),e.EFF(11," mojettes ! "),e.k0s()(),e.j41(12,"div",20)(13,"button",21),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.newGrid())}),e.EFF(14," Nouvelle grille "),e.k0s(),e.j41(15,"button",22),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.goToHomePage())}),e.EFF(16," Retour \xe0 l'accueil "),e.k0s()()()()}if(2&l){const n=e.XpG();e.xc7("display",n.hasBeenSolved?"flex":"none"),e.R7$(6),e.Lme(" Vous avez r\xe9solu le Carr\xe9 Par Terre N\xb0",n.carreId," en ",n.timeToString(n.timeElapsed)," ! "),e.R7$(4),e.JRh(n.reward)}}function E0(l,c){1&l&&e.nrm(0,"div",25)}function Vp(l,c){if(1&l){const n=e.RV6();e.qex(0),e.j41(1,"div",23),e.bIt("cdkDragDropped",function(a){const h=e.eBV(n).$implicit,p=e.XpG();return e.Njj(p.changePosition(a,h))}),e.DNE(2,E0,1,0,"div",24),e.k0s(),e.bVm()}if(2&l){const n=c.$implicit;e.R7$(),e.xc7("top",n.y,"px")("left",n.x,"px")("z-index",n["z-index"])("width",n.width,"px")("background-color",n.color.background)("color",n.color.color),e.Mz_("id","tile_",n.id,"")}}function jd(l,c){1&l&&e.nrm(0,"div",25)}function Up(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",26),e.bIt("mousedown",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h.off={x:a.offsetX||0,y:a.offsetY||0})})("cdkDragMoved",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h.moved(a))}),e.EFF(1),e.DNE(2,jd,1,0,"div",24),e.k0s()}if(2&l){const n=c.$implicit;e.xc7("background-color",n.color.background)("color",n.color.color),e.Y8G("cdkDragData",n),e.R7$(),e.Lme(" ",n.size," x ",n.size," ")}}let Yh=(()=>{class l{constructor(n,r,a,h,p){this.internalService=n,this.router=r,this.authService=a,this.CPTService=h,this.confettiService=p,this.size=[],this.timeElapsed=0,this.isLoading=!0,this.hasGameStarted=!1,this.hasBeenSolved=!1,this.reward=0,this.cptWidth=0,this.cptHeight=0,this.nbCarre=0,this.surfaceWidthPx=0,this.tileSize=0,this.off={x:0,y:0},this.scaleX=1,this.scaleY=1,this.surfaceTiles=[],this.inventoryTiles=[],this.defaultColor={background:"white",color:"black"},this.tileColors=[{background:va.J.Yellow,color:"black"},{background:va.J.Red,color:"white"},{background:va.J.Green,color:"black"},{background:va.J.White,color:"black"},{background:va.J.Blue,color:"black"},{background:va.J.Pink,color:"black"},{background:va.J.Purple,color:"white"}],this.getRandomColor=()=>this.tileColors[Math.floor(this.tileColors.length*Math.random())],this.getTuileWidth=_=>_/this.cptWidth*this.surfaceWidthPx,this.getGridPosition=(_,M,F)=>{const Y=this.dropZone.nativeElement.getBoundingClientRect().width/this.cptWidth;return{gridX:Math.max(0,Math.min(this.cptWidth-F,Math.floor(_/Y))),gridY:Math.max(0,Math.min(this.cptHeight-F,Math.floor(M/Y)))}},this.getTileOffset=_=>Math.trunc(_*this.tileSize)+1,this.checkGridValidity=()=>{if(0!=this.inventoryTiles.length)return;const _=Array(this.cptHeight*this.cptWidth).fill(-1);this.surfaceTiles.forEach(M=>{Array(M.size).fill(0).map((F,Y)=>Array(M.size).fill(0).map((ge,Je)=>M.gridX+(M.gridY+Y)*this.cptWidth+Je)).reduce((F,Y)=>F.concat(Y),[]).forEach(F=>_[F]=M.id)}),!(_.indexOf(-1)>=0)&&(this.hasBeenSolved=!0,clearInterval(this.timer),this.CPTService.postSolvedCarre(this.carreId,this.surfaceTiles.map(M=>M),this.timeElapsed).subscribe(M=>{this.hasBeenSolved=!0,this.reward=M.reward,this.authService.sendUpdateMojette(M.mojettes),this.confettiService.trigger()}))},this.initGridInfo=()=>{document.getElementById("grid-info-span").textContent=`${this.cptWidth} x ${this.cptHeight}`;const M=document.getElementById("grid-span");this.cptWidth>50||(M.style.setProperty("--grid-size",`${this.getTuileWidth(1)}px`),M.style.setProperty("--grid-height",`${this.cptHeight}`))},this.onHorizontalScroll=_=>{const M=document.getElementById("inventaire");0!==_.deltaY&&(_.preventDefault(),M.scrollLeft+=.5*_.deltaY)},this.toggleTimer=()=>{const _=document.getElementById("timer-btn"),M=document.getElementById("timer-span");this.hasGameStarted&&(this.resetGrid(),clearInterval(this.timer),M.textContent=this.updateTimerDisplay(0)),this.hasGameStarted||(this.timeElapsed=0,this.timer=setInterval(()=>{this.timeElapsed++,M.textContent=this.updateTimerDisplay(this.timeElapsed)},1e3)),_.textContent=this.hasGameStarted?"Start":"Reset",this.hasGameStarted=!this.hasGameStarted},this.resetGrid=()=>{this.inventoryTiles=this.inventoryTiles.concat(this.surfaceTiles).sort((_,M)=>M.size-_.size),this.surfaceTiles=[]},this.updateTimerDisplay=_=>{const M=ge=>ge<10?`0${ge}`:ge.toString(),Y=_%60;return`${M(Math.floor(_/60))}:${M(Y)}`},this.timeToString=_=>{const M=Math.floor(_/60),F=_%60;return`${M?M+" "+(1==M?"minute":"minutes")+" ":""}${F+" "+(1==F?"seconde":"secondes")}`},this.goToHomePage=()=>{this.router.navigate(["/"])}}ngOnInit(){this.currentUser=JSON.parse(localStorage.getItem("currentUser")??""),!this.hasBeenSolved&&this.getGrid()}getGrid(){this.CPTService.getCurrentCarre().subscribe(n=>this.initCPT(n))}newGrid(){this.isLoading=!0,this.hasGameStarted=!1,this.hasBeenSolved=!1,this.surfaceTiles=[],this.inventoryTiles=[],this.off={x:0,y:0},this.CPTService.getRandomCarre().subscribe(n=>this.initCPT(n))}initCPT(n){n&&(this.carreId=n.id,this.CPTService.hasUserSolvedCarre(n.id).subscribe({next:r=>{this.hasBeenSolved=!0,this.timeElapsed=r.completion_time,this.reward=r.reward,this.isLoading=!1},error:()=>{if(this.isLoading=!1,n?.carre_list){if(n.height&&n.width){const r=document.getElementById("surface");this.surfaceWidthPx=r.getBoundingClientRect().width??0,this.cptHeight=n.height,this.cptWidth=n.width,r.style.setProperty("aspect-ratio",`${n.width}/${n.height}`)}n.carre_list&&(this.nbCarre=n.carre_list.length,this.inventoryTiles=n.carre_list.map((r,a)=>({id:a,size:r,width:this.getTuileWidth(r),x:0,y:0,gridX:0,gridY:0,"z-index":0,color:this.defaultColor})).sort((r,a)=>a.size-r.size).map((r,a)=>(r["z-index"]=a,r.color=this.tileColors[a%this.tileColors.length],r))),this.tileSize=this.surfaceWidthPx/this.cptWidth,this.initGridInfo()}}}))}drop(n){if(document.getElementById("surface")?.classList.remove("onDrag"),n.previousContainer!==n.container){this.hasGameStarted||(this.toggleTimer(),this.hasGameStarted=!0),function Hh(l,c,n,r){const a=ll(n,l.length-1),h=ll(r,c.length);l.length&&c.splice(h,0,l.splice(a,1)[0])}(n.previousContainer.data,n.container.data,n.previousIndex,n.currentIndex);const r=this.getTuileWidth(n.container.data[0].size)/64,a=this._pointerPosition.y-this.off.y*r-this.dropZone.nativeElement.getBoundingClientRect().top,h=this._pointerPosition.x-this.off.x*r-this.dropZone.nativeElement.getBoundingClientRect().left,p=this.getGridPosition(h,a,n.container.data[0].size);n.item.data.gridX=p.gridX,n.item.data.gridY=p.gridY,this.checkGridValidity(),n.item.data.x=this.getTileOffset(n.item.data.gridX),n.item.data.y=this.getTileOffset(n.item.data.gridY)}}moved(n){this._pointerPosition=n.pointerPosition}changePosition(n,r){const a_deltaX=Math.round(n.distance.x/this.tileSize),a_deltaY=Math.round(n.distance.y/this.tileSize);if((_=>r.gridX+a_deltaX<-_||r.gridX+a_deltaX>this.cptWidth+_||r.gridY+a_deltaY<-_||r.gridY+a_deltaY>this.cptHeight+_)(r.size/2))return this.inventoryTiles.push(r),this.inventoryTiles.sort((_,M)=>M.size-_.size),void(this.surfaceTiles=this.surfaceTiles.filter(_=>_!=r));r.gridY=Math.max(0,Math.min(r.gridY+a_deltaY,this.cptHeight-r.size)),r.gridX=Math.max(0,Math.min(r.gridX+a_deltaX,this.cptWidth-r.size)),this.checkGridValidity();const p=document.getElementById(`tile_${r.id}`);p.style.setProperty("top",`${this.getTileOffset(r.gridY)}px`),p.style.setProperty("left",`${this.getTileOffset(r.gridX)}px`),p.style.setProperty("zIndex",""+(this.nbCarre-r.id-1))}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(co.P),e.rXU(Mt.Ix),e.rXU(yr.u),e.rXU(xh),e.rXU(Nd))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-carre-dudeney"]],viewQuery:function(r,a){if(1&r&&e.GBs(Lp,7,e.aKT),2&r){let h;e.mGM(h=e.lsd())&&(a.dropZone=h.first)}},hostAttrs:[1,"dark-theme"],decls:19,vars:10,consts:[["doneList","cdkDropList"],["todoList","cdkDropList"],["class","container-fluid flex-column position-relative flex-grow-1 dialog-container no-scrollbar",3,"display",4,"ngIf"],[1,"container-fluid","flex-column","align-items-center","flex-grow-1"],[1,"container","card","primary-card","cpt-container"],[1,"cpt-header","container","d-flex","flex-row","justify-content-between","align-items-stretch"],[1,"timer-container","container","d-flex"],["id","timer-btn",1,"btn","btn-timer","btn-primary","btn-sm",3,"click"],["id","timer-span",1,"timer"],[1,"info-container","container","d-flex"],["id","grid-info-span"],["cdkDropList","","cdkDropListSortingDisabled","true","id","surface",1,"drag-zone",3,"cdkDropListDropped","cdkDropListData"],[4,"ngFor","ngForOf"],["id","grid-span"],["id","inventaire","cdkDropList","",1,"card","primary-card","d-flex","flex-row","no-scrollbar","example-list",3,"cdkDropListDropped","wheel","cdkDropListData","cdkDropListConnectedTo"],["class","tile inventory-tile","cdkDrag","",3,"cdkDragData","backgroundColor","color","mousedown","cdkDragMoved",4,"ngFor","ngForOf"],[1,"container-fluid","flex-column","position-relative","flex-grow-1","dialog-container","no-scrollbar"],["id","endDialog",1,"card","primary-card"],[1,"text-center"],[1,"d-flex","flex-column"],[1,"btn-container","d-flex","flex-row","justify-content-between"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-secondary","btn-sm",3,"click"],["cdkDrag","","cdkDragBoundary",".drag-zone",1,"tile","surface-tile",3,"cdkDragDropped","id"],["class","tile-placeholder",4,"cdkDragPlaceholder"],[1,"tile-placeholder"],["cdkDrag","",1,"tile","inventory-tile",3,"mousedown","cdkDragMoved","cdkDragData"]],template:function(r,a){if(1&r){const h=e.RV6();e.nrm(0,"app-navbar"),e.DNE(1,C0,17,5,"div",2),e.j41(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"button",7),e.bIt("click",function(){return e.eBV(h),e.Njj(a.toggleTimer())}),e.EFF(7," Start "),e.k0s(),e.j41(8,"span",8),e.EFF(9,"00:00"),e.k0s()(),e.j41(10,"div",9),e.nrm(11,"span",10),e.k0s()(),e.j41(12,"div",11,0),e.bIt("cdkDropListDropped",function(_){return e.eBV(h),e.Njj(a.drop(_))}),e.DNE(14,Vp,3,14,"ng-container",12),e.nrm(15,"span",13),e.k0s()(),e.j41(16,"div",14,1),e.bIt("cdkDropListDropped",function(_){return e.eBV(h),e.Njj(a.drop(_))})("wheel",function(_){return e.eBV(h),e.Njj(a.onHorizontalScroll(_))}),e.DNE(18,Up,3,7,"div",15),e.k0s()()}if(2&r){const h=e.sdS(13);e.R7$(),e.Y8G("ngIf",!a.isLoading),e.R7$(),e.xc7("display",a.hasBeenSolved?"none":"flex"),e.R7$(10),e.Y8G("cdkDropListData",a.surfaceTiles),e.R7$(2),e.Y8G("ngForOf",a.surfaceTiles),e.R7$(2),e.Y8G("cdkDropListData",a.inventoryTiles)("cdkDropListConnectedTo",e.eq3(8,Bp,h)),e.R7$(2),e.Y8G("ngForOf",a.inventoryTiles)}},dependencies:[R.MD,R.Sq,R.bT,S.YN,S.X1,jp,b0,Wh,y0,Oi._],styles:[".container-fluid[_ngcontent-%COMP%]{justify-content:center;overflow-y:auto}@media (max-height: 720px){.container-fluid[_ngcontent-%COMP%]{justify-content:start;padding-top:2em;padding-bottom:2em}}.cpt-container[_ngcontent-%COMP%]{width:400px;max-width:90%;padding:0;z-index:1}.cpt-header[_ngcontent-%COMP%]{border-bottom:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%);margin:auto 5%;padding:1em 0;width:auto}#inventaire[_ngcontent-%COMP%]{position:relative;display:flex;overflow-x:auto;overflow-y:hidden;height:108px;min-height:108px;width:400px;max-width:90%;z-index:0;gap:.5em;padding:1.5em}@media (max-width: 768px){#inventaire[_ngcontent-%COMP%]{padding:1.5em}}.tile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;aspect-ratio:1/1;cursor:pointer;padding:0}.inventory-tile[_ngcontent-%COMP%]{background:color-mix(in srgb,#D972FF 80%,black 20%);height:100%}.surface-tile[_ngcontent-%COMP%]{position:absolute;background:#d972ff}#surface[_ngcontent-%COMP%]{border:0px;position:relative;box-sizing:border-box;margin:1em auto;padding:0;width:90%;--margin: 10%}#surface.onDrag[_ngcontent-%COMP%]:after{display:block}#grid-span[_ngcontent-%COMP%]{--grid-size: 0px;--line-thickness: 1px;position:absolute;top:0;left:0;overflow:hidden;z-index:50;pointer-events:none;width:100%;height:100%;opacity:.6;box-shadow:inset 0 0 0 1px #fff;border:0;background:conic-gradient(from 90deg at var(--line-thickness) var(--line-thickness),rgba(255,255,255,0) 25%,#ffffff 0) 0 0/var(--grid-size) var(--grid-size)}.drag-zone[_ngcontent-%COMP%]{position:relative;flex-grow:1}.ui-draggable.dragging[_ngcontent-%COMP%], .ui-draggable.dropped[_ngcontent-%COMP%]{background:green;height:50px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:flex-start}.wrapper[_ngcontent-%COMP%] > pre[_ngcontent-%COMP%]{color:#fff}"]})}}return l})(),w0=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-conditions-generales-de-vente"]],hostAttrs:[1,"dark-theme"],decls:187,vars:0,consts:[[1,"text-white","p-5","overflow-auto","bg-dark"],[1,"text-center"],["href","https://www.ppmoj.fr"],["href","https://www.o2switch.fr"],["href","https://www.cm2c.net"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.j41(1,"div",0)(2,"h1",1),e.EFF(3,"CONDITIONS G\xc9N\xc9RALES DE VENTE"),e.k0s(),e.j41(4,"h2"),e.EFF(5,"1. Pr\xe9ambule"),e.k0s(),e.EFF(6," Les pr\xe9sentes conditions g\xe9n\xe9rales de vente (CGV) sont conclues entre, d'une part, la SAS BARNSDEAL, au capital de 30 000 euros, dont le si\xe8ge social est situ\xe9 au 70 rue des armateurs, 85440 Talmont Saint Hilaire, France, immatricul\xe9e sous le num\xe9ro SIRET 939 636 502, code APE 8559B, num\xe9ro de TVA intracommunautaire FR84 939 636 502, ci-apr\xe8s d\xe9nomm\xe9e \"BARNSDEAL\", et d'autre part, toute personne physique ou morale souhaitant proc\xe9der \xe0 un achat via le site Internet "),e.j41(7,"a",2),e.EFF(8,"www.ppmoj.fr"),e.k0s(),e.EFF(9,', ci-apr\xe8s d\xe9nomm\xe9e "l\u2019Acheteur". '),e.j41(10,"h2"),e.EFF(11,"2. Objet"),e.k0s(),e.EFF(12," Les pr\xe9sentes CGV d\xe9finissent les relations contractuelles entre BARNSDEAL et l\u2019Acheteur, ainsi que les conditions applicables \xe0 tout achat effectu\xe9 via le site marchand PPMOJ.FR, que l\u2019Acheteur soit professionnel ou consommateur. L'acquisition d'un bien ou d'un service sur le site implique une acceptation sans r\xe9serve des pr\xe9sentes CGV. Ces conditions pr\xe9vaudront sur toutes autres conditions g\xe9n\xe9rales ou particuli\xe8res non express\xe9ment agr\xe9\xe9es par BARNSDEAL. BARNSDEAL se r\xe9serve le droit de modifier ses CGV \xe0 tout moment. Les conditions applicables seront celles en vigueur \xe0 la date de la commande par l\u2019Acheteur. "),e.j41(13,"h2"),e.EFF(14,"3. Mentions l\xe9gales"),e.k0s(),e.j41(15,"ul")(16,"li")(17,"b"),e.EFF(18,"Soci\xe9t\xe9"),e.k0s(),e.EFF(19," : SAS BARNSDEAL"),e.k0s(),e.j41(20,"li")(21,"b"),e.EFF(22,"Si\xe8ge social"),e.k0s(),e.EFF(23," : 70 rue des armateurs, 85440 Talmont Saint Hilaire, France "),e.k0s(),e.j41(24,"li")(25,"b"),e.EFF(26,"Capital social"),e.k0s(),e.EFF(27," : 30 000 euros"),e.k0s(),e.j41(28,"li")(29,"b"),e.EFF(30,"Num\xe9ro SIRET"),e.k0s(),e.EFF(31," : 939 636 502"),e.k0s(),e.j41(32,"li")(33,"b"),e.EFF(34,"Num\xe9ro TVA Intracommunautaire"),e.k0s(),e.EFF(35," : FR84 939 636 502"),e.k0s(),e.j41(36,"li")(37,"b"),e.EFF(38,"Code APE"),e.k0s(),e.EFF(39," : 8559B"),e.k0s(),e.j41(40,"li")(41,"b"),e.EFF(42,"Directeur de la publication"),e.k0s(),e.EFF(43," : Robin Gu\xe9don"),e.k0s(),e.j41(44,"li")(45,"b"),e.EFF(46,"Contact"),e.k0s(),e.EFF(47," : "),e.j41(48,"ul")(49,"li"),e.EFF(50,"T\xe9l\xe9phone : 0612162346"),e.k0s(),e.j41(51,"li"),e.EFF(52,"Email : ppmoj30@gmail"),e.k0s()()(),e.j41(53,"li")(54,"b"),e.EFF(55,"H\xe9bergeur du site"),e.k0s(),e.EFF(56,": O2Switch ("),e.j41(57,"a",3),e.EFF(58,"https://www.o2switch.fr"),e.k0s(),e.EFF(59,") "),e.k0s()(),e.j41(60,"h2"),e.EFF(61,"4. Description des services et produits"),e.k0s(),e.j41(62,"h3"),e.EFF(63,"4.1 Acc\xe8s aux jeux gratuits"),e.k0s(),e.EFF(64,' Le site PPMOJ.FR propose des jeux math\xe9matiques et informatiques en ligne, accessibles gratuitement via un navigateur sur ordinateur ou t\xe9l\xe9phone. Ces jeux permettent aux utilisateurs de gagner une monnaie virtuelle appel\xe9e "mojettes". '),e.j41(65,"h3"),e.EFF(66,"4.2 Utilisation des mojettes"),e.k0s(),e.EFF(67," Les mojettes sont obtenues en r\xe9ussissant des \xe9nigmes ou en gagnant aux jeux pr\xe9sents sur le site. Elles peuvent \xeatre utilis\xe9es pour : "),e.j41(68,"ul")(69,"li"),e.EFF(70,"Obtenir de l'aide en jeu."),e.k0s(),e.j41(71,"li"),e.EFF(72," Obtenir une r\xe9duction sur le prix d'achat des jetons de formation, avec une r\xe9duction maximale de 50 % du prix d'achat TTC (soit un prix r\xe9duit \xe0 5 \u20ac TTC par jeton). "),e.k0s()(),e.j41(73,"h3"),e.EFF(74,"4.3 Achat de formations"),e.k0s(),e.EFF(75," BARNSDEAL propose des formations math\xe9matiques \xe0 vendre sur PPMOJ.FR. Ces formations sont achet\xe9es par le biais de jetons de formation, au prix de 10 \u20ac TTC par jeton. "),e.j41(76,"h3"),e.EFF(77,"4.4 Validit\xe9 des jetons de formation"),e.k0s(),e.EFF(78," Les jetons de formation sont valables pendant 1 an \xe0 partir de la date d'achat. Pass\xe9 ce d\xe9lai, ils expirent et ne peuvent plus \xeatre utilis\xe9s. "),e.j41(79,"h3"),e.EFF(80,"4.5 Acc\xe8s aux formations"),e.k0s(),e.EFF(81," Apr\xe8s l'achat, l'acc\xe8s aux formations est garanti pour une dur\xe9e de 3 ans. Les utilisateurs auront acc\xe8s aux versions des cours disponibles pendant cette p\xe9riode. "),e.j41(82,"h3"),e.EFF(83,"4.6 Transfert et remboursement des jetons de formation"),e.k0s(),e.EFF(84," Les jetons de formation peuvent \xeatre transf\xe9r\xe9s \xe0 un autre utilisateur du site. Conform\xe9ment \xe0 la l\xe9gislation fran\xe7aise, les jetons de formation peuvent \xeatre rembours\xe9s dans un d\xe9lai de 14 jours apr\xe8s l'achat, \xe0 condition qu'ils n'aient pas \xe9t\xe9 utilis\xe9s. "),e.j41(85,"h3"),e.EFF(86,"4.7 \xc9change de formations"),e.k0s(),e.EFF(87," Les jetons de formation ne peuvent pas \xeatre \xe9chang\xe9s contre de l'argent. Toutefois, ils peuvent \xeatre utilis\xe9s pour r\xe9server une autre formation si la formation initialement r\xe9serv\xe9e n'a pas encore eu lieu. "),e.j41(88,"h2"),e.EFF(89,"5. Tarifs"),e.k0s(),e.EFF(90," Les prix des formations sont affich\xe9s en euros TTC (TVA 20 %) et peuvent \xeatre modifi\xe9s \xe0 tout moment. Toutefois, le prix appliqu\xe9 sera celui affich\xe9 lors de la validation de la commande. Les formations restent la propri\xe9t\xe9 intellectuelle de BARNSDEAL. "),e.j41(91,"h2"),e.EFF(92,"6. Commande et paiement"),e.k0s(),e.j41(93,"h3"),e.EFF(94,"6.1 Processus de commande"),e.k0s(),e.EFF(95," L'Acheteur doit : "),e.j41(96,"ol")(97,"li"),e.EFF(98,"Choisir ses formations sur le site PPMOJ.FR."),e.k0s(),e.j41(99,"li"),e.EFF(100,"Valider son panier et v\xe9rifier le r\xe9capitulatif."),e.k0s(),e.j41(101,"li"),e.EFF(102,"Fournir ses informations personnelles (email)."),e.k0s(),e.j41(103,"li"),e.EFF(104,"Accepter les pr\xe9sentes CGV en cochant la case pr\xe9vue \xe0 cet effet."),e.k0s(),e.j41(105,"li"),e.EFF(106,"Confirmer sa commande en proc\xe9dant au paiement."),e.k0s()(),e.EFF(107," Une confirmation de commande est envoy\xe9e par email. "),e.j41(108,"h3"),e.EFF(109,"6.2 Modalit\xe9s de paiement"),e.k0s(),e.EFF(110," Le r\xe8glement des formations s'effectue au comptant via carte bancaire. Le paiement est s\xe9curis\xe9 et g\xe9r\xe9 par la banque CIC en collaboration avec Stripe, un prestataire de services de paiement en ligne. Stripe agit en tant qu'interm\xe9diaire pour traiter les transactions entre l'Acheteur et le CIC. Les coordonn\xe9es bancaires de l'Acheteur sont crypt\xe9es et ne transitent pas en clair sur le r\xe9seau, assurant ainsi la confidentialit\xe9 et la s\xe9curit\xe9 des informations. "),e.nrm(111,"br"),e.EFF(112," En cas de refus de paiement, la commande sera annul\xe9e. "),e.j41(113,"h2"),e.EFF(114,"7. Modalit\xe9s de livraison des services"),e.k0s(),e.EFF(115," Apr\xe8s validation du paiement, les formations sont mises \xe0 disposition de l'Acheteur dans un d\xe9lai maximum de 48 heures, sous r\xe9serve des d\xe9lais de traitement bancaire. L'Acheteur recevra un email contenant les informations n\xe9cessaires pour acc\xe9der aux formations. "),e.j41(116,"h3"),e.EFF(117,"8. Droit de r\xe9tractation"),e.k0s(),e.EFF(118," Conform\xe9ment aux dispositions des articles L221-18 et suivants du Code de la consommation, l'Acheteur dispose d'un d\xe9lai de 14 jours \xe0 compter de la conclusion du contrat pour exercer son droit de r\xe9tractation sans avoir \xe0 justifier de motifs ni \xe0 payer de p\xe9nalit\xe9s. "),e.nrm(119,"br"),e.EFF(120," Pour exercer ce droit, l'Acheteur doit notifier sa d\xe9cision de r\xe9tractation par une d\xe9claration d\xe9nu\xe9e d'ambigu\xeft\xe9, soit par courrier postal \xe0 l'adresse suivante : SAS BARNSDEAL, 70 rue des armateurs, 85440 Talmont Saint Hilaire, France, "),e.nrm(121,"br"),e.EFF(122," soit par email \xe0 : ppmoj30@gmail.com. "),e.nrm(123,"br"),e.EFF(124," Un mod\xe8le de formulaire de r\xe9tractation est disponible ci-dessous : "),e.nrm(125,"br"),e.EFF(126," [Formulaire de r\xe9tractation] "),e.nrm(127,"br"),e.EFF(128," Le remboursement sera effectu\xe9 en utilisant le m\xeame moyen de paiement que celui utilis\xe9 par l'Acheteur lors de la transaction initiale, sauf accord expr\xe8s de l'Acheteur pour un moyen diff\xe9rent. "),e.j41(129,"h2"),e.EFF(130,"9. Garanties l\xe9gales"),e.k0s(),e.EFF(131," Conform\xe9ment aux articles L217-4 et suivants du Code de la consommation et aux articles 1641 et suivants du Code civil, BARNSDEAL est tenu des garanties l\xe9gales suivantes : "),e.j41(132,"ul")(133,"li")(134,"b"),e.EFF(135,"Garantie l\xe9gale de conformit\xe9"),e.k0s(),e.EFF(136," : BARNSDEAL d\xe9livrera un bien conforme au contrat et r\xe9pondra des d\xe9fauts de conformit\xe9 existant lors de la d\xe9livrance. "),e.k0s(),e.j41(137,"li")(138,"b"),e.EFF(139,"Garantie contre les vices cach\xe9s"),e.k0s(),e.EFF(140," : BARNSDEAL est responsable des d\xe9fauts cach\xe9s du produit vendu qui le rendent impropre \xe0 l'usage auquel on le destine. "),e.k0s()(),e.j41(141,"h2"),e.EFF(142,"10. M\xe9diation et r\xe8glement des litiges"),e.k0s(),e.EFF(143," En cas de litige non r\xe9solu amiablement, l'Acheteur peut recourir au m\xe9diateur de la consommation suivant : "),e.nrm(144,"br"),e.EFF(145," M\xe9diateur : Centre de la M\xe9diation de la Consommation de Conciliateurs de Justice (CM2C) "),e.nrm(146,"br"),e.EFF(147," Adresse : 49 Rue de Ponthieu, 75008 Paris "),e.nrm(148,"br"),e.EFF(149," Site web : "),e.j41(150,"a",4),e.EFF(151,"www.cm2c.net"),e.k0s(),e.j41(152,"h2"),e.EFF(153,"11. Clauses relatives aux p\xe9nalit\xe9s de retard"),e.k0s(),e.EFF(154," Pour les clients professionnels, en cas de retard de paiement, des p\xe9nalit\xe9s de retard seront appliqu\xe9es conform\xe9ment \xe0 l'article L441-10 du Code de commerce. Le taux des p\xe9nalit\xe9s est fix\xe9 \xe0 trois fois le taux d'int\xe9r\xeat l\xe9gal en vigueur. Une indemnit\xe9 forfaitaire pour frais de recouvrement de 40 euros sera \xe9galement due. "),e.j41(155,"h2"),e.EFF(156,"12. Droit applicable et juridiction comp\xe9tente"),e.k0s(),e.EFF(157," Les pr\xe9sentes CGV sont soumises au droit fran\xe7ais. En cas de litige, les tribunaux comp\xe9tents seront ceux du ressort de la Cour d'appel de La Roche-sur-Yon. "),e.j41(158,"h2"),e.EFF(159,"13. Protection des donn\xe9es personnelles"),e.k0s(),e.EFF(160," BARNSDEAL collecte et traite les donn\xe9es personnelles des utilisateurs (email,mot de passes chiffr\xe9s et pseudo) dans le respect du R\xe8glement G\xe9n\xe9ral sur la Protection des Donn\xe9es (RGPD). "),e.nrm(161,"br"),e.EFF(162," Les finalit\xe9s de cette collecte sont : "),e.j41(163,"ul")(164,"li"),e.EFF(165,"Gestion des commandes et acc\xe8s aux formations."),e.k0s(),e.j41(166,"li"),e.EFF(167," Communication avec les utilisateurs concernant les services propos\xe9s. "),e.k0s()(),e.EFF(168," Les donn\xe9es sont conserv\xe9es pendant la dur\xe9e n\xe9cessaire \xe0 l'ex\xe9cution du contrat et conform\xe9ment aux obligations l\xe9gales. "),e.j41(169,"h2"),e.EFF(170,"14. Propri\xe9t\xe9 intellectuelle"),e.k0s(),e.EFF(171," Tous les contenus pr\xe9sents sur le site PPMOJ.FR, y compris mais sans s'y limiter, les vid\xe9os, les lives, les cours, les textes, images, graphismes, logos, ic\xf4nes, sons, logiciels, sont la propri\xe9t\xe9 exclusive de BARNSDEAL ou de ses partenaires. Toute reproduction, repr\xe9sentation, modification, publication, transmission, d\xe9naturation, totale ou partielle de ces \xe9l\xe9ments, par quelque proc\xe9d\xe9 que ce soit, sans l'autorisation expresse de BARNSDEAL est interdite, et constituerait une contrefa\xe7on sanctionn\xe9e par les articles L335-2 et suivants du Code de la propri\xe9t\xe9 intellectuelle. "),e.j41(172,"h2"),e.EFF(173,"15. Responsabilit\xe9"),e.k0s(),e.EFF(174," BARNSDEAL s'engage \xe0 apporter tous les soins n\xe9cessaires \xe0 la mise en \u0153uvre du service offert \xe0 l'Acheteur. N\xe9anmoins, sa responsabilit\xe9 ne saurait \xeatre engag\xe9e en cas de retard ou d'inex\xe9cution du contrat d\xfb \xe0 un cas de force majeure tel que d\xe9fini par la jurisprudence fran\xe7aise. De m\xeame, la responsabilit\xe9 de BARNSDEAL ne saurait \xeatre engag\xe9e pour des inconv\xe9nients ou dommages inh\xe9rents \xe0 l'utilisation du r\xe9seau Internet, notamment une rupture de service, une intrusion ext\xe9rieure ou la pr\xe9sence de virus informatiques. "),e.j41(175,"h2"),e.EFF(176,"16. Force majeure"),e.k0s(),e.EFF(177," BARNSDEAL ne pourra \xeatre tenue responsable en cas d'inex\xe9cution du contrat due \xe0 un cas de force majeure tel que d\xe9fini par la jurisprudence fran\xe7aise. "),e.j41(178,"h2"),e.EFF(179,"17. Suspension ou r\xe9siliation de compte utilisateur"),e.k0s(),e.EFF(180," BARNSDEAL se r\xe9serve le droit de suspendre ou de r\xe9silier un compte utilisateur en cas de non- respect des pr\xe9sentes CGV ou des conditions d'utilisation du site. "),e.j41(181,"h2"),e.EFF(182,"18. Acceptation des CGV"),e.k0s(),e.EFF(183," Le fait pour l'Acheteur de commander sur le site PPMOJ.FR emporte adh\xe9sion et acceptation pleine et enti\xe8re des pr\xe9sentes Conditions G\xe9n\xe9rales de Vente, ce qui est express\xe9ment reconnu par l'Acheteur, qui renonce, notamment, \xe0 se pr\xe9valoir de tout document contradictoire, qui serait inopposable \xe0 BARNSDEAL. "),e.j41(184,"h2"),e.EFF(185,"19. Archivage du contrat"),e.k0s(),e.EFF(186," Conform\xe9ment \xe0 l'article L213-1 du Code de la consommation, BARNSDEAL proc\xe8de \xe0 l'archivage des contrats de vente conclus par voie \xe9lectronique pour une somme \xe9gale ou sup\xe9rieure \xe0 120 euros pendant une dur\xe9e de 10 ans. L'Acheteur peut acc\xe9der au contrat archiv\xe9 en en faisant la demande par courrier \xe9lectronique \xe0 l'adresse suivante : ppmoj30@gmail\n"),e.k0s())},dependencies:[Oi._],encapsulation:2})}}return l})();var ba=D(9350);function Qh(l,c){const n="object"==typeof c;return new Promise((r,a)=>{const h=new tt.Ms({next:p=>{r(p),h.unsubscribe()},error:a,complete:()=>{n?r(c.defaultValue):a(new ba.G)}});l.subscribe(h)})}const Zh=l=>["/wall-of-fame",l],Jh=l=>["/enigme-semaine",l],ef=(l,c)=>({current:l,done:c}),D0=(l,c,n)=>({"no-problem":l,"is-current":c,completed:n});function x0(l,c){1&l&&(e.j41(0,"div",2)(1,"div",3)(2,"span",4),e.EFF(3,"Chargement..."),e.k0s()(),e.j41(4,"p",5),e.EFF(5,"Chargement de l'\xe9nigme..."),e.k0s()())}function M0(l,c){if(1&l&&(e.j41(0,"div",36)(1,"span",37),e.EFF(2,"Semaine"),e.k0s(),e.j41(3,"span",38),e.EFF(4),e.k0s()()),2&l){const n=c.$implicit,r=e.XpG(3);e.Y8G("routerLink",e.eq3(4,Jh,n.id))("ngClass",e.l_i(6,ef,n.id===(null==r.enigme?null:r.enigme.id),r.completedWeekIds.has(n.id))),e.BMQ("aria-label","Aller \xe0 la semaine "+r.getISOWeekFromString(n.date)),e.R7$(4),e.SpI(" ",r.getISOWeekFromString(n.date)," ")}}function S0(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",29)(1,"div",30),e.DNE(2,M0,5,9,"div",31),e.k0s(),e.j41(3,"button",32),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.toggleWeekPicker())}),e.nrm(4,"i",33),e.k0s(),e.j41(5,"button",34),e.nrm(6,"i",35),e.k0s()()}if(2&l){const n=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",n.historyEnigmes),e.R7$(3),e.Y8G("routerLink",e.eq3(3,Zh,null==n.enigme?null:n.enigme.id))("disabled",!(null!=n.enigme&&n.enigme.id))}}function $p(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",42),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(3);return e.Njj(h.selectWeek(a.num))}),e.EFF(1),e.k0s()}if(2&l){const n=c.$implicit,r=e.XpG(3);e.Y8G("disabled",!n.hasProblem)("ngClass",e.sMw(3,D0,!n.hasProblem,r.enigme&&(null==r.weekMap[n.num]?null:r.weekMap[n.num].id)===r.enigme.id,n.id&&r.completedWeekIds.has(n.id))),e.R7$(),e.SpI(" ",n.num," ")}}function ME(l,c){if(1&l&&(e.j41(0,"div",39)(1,"div",40),e.DNE(2,$p,2,7,"button",41),e.k0s()()),2&l){const n=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",n.weeks)}}function SE(l,c){if(1&l&&(e.j41(0,"div",47),e.nrm(1,"img",48),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&l){const n=e.XpG(3);e.R7$(3),e.JRh(n.enigme.reward_mojette)}}function hc(l,c){if(1&l&&(e.j41(0,"div",49),e.nrm(1,"img",50),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&l){const n=e.XpG(3);e.R7$(3),e.JRh(n.enigme.reward_token_coin)}}function I0(l,c){if(1&l&&(e.j41(0,"div",43)(1,"span",44),e.EFF(2,"R\xe9compense :"),e.k0s(),e.DNE(3,SE,4,1,"div",45)(4,hc,4,1,"div",46),e.k0s()),2&l){let n,r;const a=e.XpG(2);e.R7$(3),e.Y8G("ngIf",(null!==(n=a.enigme.reward_mojette)&&void 0!==n?n:0)>0),e.R7$(),e.Y8G("ngIf",(null!==(r=a.enigme.reward_token_coin)&&void 0!==r?r:0)>0)}}function k0(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",51)(1,"img",52),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.openImageModal(a.getFigureUrl(a.enigme.figure_path)))}),e.k0s()()}if(2&l){const n=e.XpG(2);e.R7$(),e.Y8G("src",n.getFigureUrl(n.enigme.figure_path),e.B4B)}}function O0(l,c){if(1&l&&(e.j41(0,"div",53)(1,"p")(2,"strong"),e.EFF(3,"\xc9nonc\xe9 : "),e.k0s(),e.EFF(4),e.k0s()()),2&l){const n=e.XpG(2);e.R7$(4),e.JRh(n.enigme.problem_statement)}}function Gp(l,c){if(1&l&&(e.j41(0,"div",54)(1,"p")(2,"strong"),e.EFF(3,"Question : "),e.k0s(),e.EFF(4),e.k0s()()),2&l){const n=e.XpG(2);e.R7$(4),e.JRh(n.enigme.problem_question)}}function T0(l,c){if(1&l&&(e.j41(0,"option",55),e.EFF(1),e.k0s()),2&l){const n=c.$implicit;e.Y8G("value",n.width+"x"+n.height+"|"+n.format),e.R7$(),e.SpI(" ",n.name," ")}}function P0(l,c){1&l&&(e.qex(0),e.EFF(1," et "),e.bVm())}function F0(l,c){if(1&l&&(e.qex(0),e.EFF(1),e.DNE(2,P0,2,0,"ng-container",1),e.bVm()),2&l){const n=c.$implicit,r=c.index,a=e.XpG(2).$implicit,h=e.XpG(3);e.R7$(),e.Lme(" ",n," = ",h.enigme.values_list[a][r]," "),e.R7$(),e.Y8G("ngIf",r<h.enigme.variables.length-1)}}function R0(l,c){if(1&l&&(e.qex(0),e.j41(1,"label")(2,"div"),e.EFF(3," Pour "),e.DNE(4,F0,3,3,"ng-container",58),e.k0s()(),e.nrm(5,"br"),e.bVm()),2&l){const n=e.XpG(4);e.R7$(4),e.Y8G("ngForOf",n.enigme.variables)}}function A0(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Champ requis "),e.k0s())}function N0(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Mauvaise r\xe9ponse "),e.k0s())}function tf(l,c){if(1&l&&(e.qex(0),e.j41(1,"div",62),e.DNE(2,R0,6,1,"ng-container",1),e.j41(3,"mat-form-field",63),e.nrm(4,"input",64),e.k0s(),e.DNE(5,A0,2,0,"mat-error",1)(6,N0,2,0,"mat-error",1),e.k0s(),e.bVm()),2&l){let n,r;const a=c.$implicit,h=c.index,p=e.XpG(3);e.R7$(2),e.Y8G("ngIf",p.enigme&&p.enigme.variables&&p.enigme.variables.length>0),e.R7$(2),e.Mz_("formControlName","question",a,""),e.Mz_("name","value-",a,"-input"),e.Mz_("id","value-",a,"-input"),e.R7$(),e.Y8G("ngIf",(null==(n=p.form.get("question"+a))?null:n.hasError("required"))&&(null==(n=p.form.get("question"+a))?null:n.touched)),e.R7$(),e.Y8G("ngIf",!(null!=(r=p.form.get("question"+a))&&r.hasError("required"))&&p.validInputs&&!p.validInputs[h]&&(null==(r=p.form.get("question"+a))?null:r.touched))}}function IE(l,c){1&l&&(e.j41(0,"button",65),e.EFF(1," R\xe9pondre "),e.k0s())}function kE(l,c){1&l&&(e.j41(0,"small",66),e.EFF(1," D\xe9j\xe0 termin\xe9\u202f: aucune r\xe9compense suppl\xe9mentaire ne sera attribu\xe9e "),e.k0s())}function nf(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",56)(1,"form",57),e.bIt("ngSubmit",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.onSubmit())}),e.DNE(2,tf,7,9,"ng-container",58),e.j41(3,"div",59),e.DNE(4,IE,2,0,"button",60)(5,kE,2,0,"small",61),e.k0s()()()}if(2&l){const n=e.XpG(2);e.R7$(),e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("ngForOf",n.indicesAVerifier),e.R7$(2),e.Y8G("ngIf",!n.allValid),e.R7$(),e.Y8G("ngIf",n.isCompletedCurrent)}}function OE(l,c){if(1&l&&(e.qex(0),e.j41(1,"h2",67),e.EFF(2,"F\xe9licitations !"),e.k0s(),e.j41(3,"div",68)(4,"span",67),e.EFF(5,"Vous avez r\xe9solu cette \xe9nigme !"),e.k0s()(),e.j41(6,"div",69)(7,"button",70),e.EFF(8," Voir le Wall Of Fame "),e.k0s()(),e.bVm()),2&l){const n=e.XpG(2);e.R7$(7),e.Y8G("routerLink",e.eq3(2,Zh,null==n.enigme?null:n.enigme.id))("disabled",!(null!=n.enigme&&n.enigme.id))}}function TE(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",71),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.closeImageModal())}),e.j41(1,"img",72),e.bIt("click",function(a){e.eBV(n);const h=e.XpG(2);return e.Njj(h.toggleImageZoom(a))}),e.k0s(),e.j41(2,"button",73),e.bIt("click",function(a){return e.eBV(n),e.XpG(2).closeImageModal(),a.stopPropagation(),e.Njj(a.preventDefault())}),e.EFF(3," X "),e.k0s()()}if(2&l){const n=e.XpG(2);e.R7$(),e.AVh("is-zoomed",n.isImageZoomed),e.Y8G("src",n.modalImageSrc,e.B4B)}}function PE(l,c){if(1&l){const n=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"div",7),e.DNE(3,S0,7,5,"div",8)(4,ME,3,1,"div",9),e.k0s(),e.j41(5,"div",10)(6,"div",11)(7,"div",12)(8,"div",13)(9,"div",14)(10,"span"),e.EFF(11),e.nrm(12,"br"),e.EFF(13),e.k0s()(),e.DNE(14,I0,5,2,"div",15),e.k0s(),e.DNE(15,k0,2,1,"div",16)(16,O0,5,1,"div",17)(17,Gp,5,1,"div",18),e.k0s(),e.j41(18,"div",19)(19,"button",20),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.shareImage())}),e.EFF(20," Partager "),e.k0s(),e.j41(21,"select",21),e.bIt("change",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h.onFormatSelect(a))}),e.j41(22,"option",22),e.EFF(23,"T\xe9l\xe9charger"),e.k0s(),e.DNE(24,T0,2,2,"option",23),e.k0s(),e.j41(25,"button",24),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.goToHomePage())}),e.EFF(26," Retour "),e.k0s()()(),e.j41(27,"div",25)(28,"div",26),e.DNE(29,nf,6,4,"div",27)(30,OE,9,4,"ng-container",1),e.k0s()()()(),e.DNE(31,TE,4,3,"div",28),e.bVm()}if(2&l){let n;const r=e.XpG();e.R7$(3),e.Y8G("ngIf",null==r.historyEnigmes?null:r.historyEnigmes.length),e.R7$(),e.Y8G("ngIf",r.showWeekPicker),e.R7$(7),e.SpI("Enigme de la semaine #",r.getISOWeekFromString(null==r.enigme?null:r.enigme.date),""),e.R7$(2),e.SpI(" Semaine du ",r.dateString,""),e.R7$(),e.Y8G("ngIf",r.enigme&&((null!==(n=r.enigme.reward_mojette)&&void 0!==n?n:0)>0||(null!==(n=r.enigme.reward_token_coin)&&void 0!==n?n:0)>0)),e.R7$(),e.Y8G("ngIf",r.enigme&&r.enigme.figure_path),e.R7$(),e.Y8G("ngIf",r.enigme&&r.enigme.problem_statement),e.R7$(),e.Y8G("ngIf",r.enigme&&r.enigme.problem_question),e.R7$(7),e.Y8G("ngForOf",r.formats),e.R7$(5),e.Y8G("ngIf",!r.allValid),e.R7$(),e.Y8G("ngIf",r.allValid),e.R7$(),e.Y8G("ngIf",r.isImageModalOpen)}}let j0=(()=>{class l{constructor(n,r,a,h,p,_,M){this.internalService=n,this.route=r,this.router=a,this.weekProblemeService=h,this.authService=p,this.fb=_,this.confettiService=M,this.user=null,this.queryParams=-1,this.image_path="../../../assets/enigmes-semaine/",this.enigme=null,this.historyEnigmes=[],this.showWeekPicker=!1,this.weekMap={},this.weeks=[],this.completedWeekIds=new Set,this.isCompletedCurrent=!1,this.dateString="",this.indicesAVerifier=[],this.validInputs=[],this.allValid=!1,this.isLoading=!0,this.isImageModalOpen=!1,this.modalImageSrc="",this.isImageZoomed=!1,this.formats=[{name:"Instagram Post",width:1080,height:1080,format:"png"},{name:"Instagram Story",width:1080,height:1920,format:"png"},{name:"Facebook Post",width:1200,height:630,format:"png"},{name:"LinkedIn Post",width:1200,height:627,format:"png"},{name:"Twitter Post",width:1200,height:675,format:"png"}],this.form=new S.gE({}),this.goToHomePage=()=>{this.router.navigateByUrl("/")}}ngOnInit(){var n=this;return(0,Bt.A)(function*(){n.validInputs=new Array(n.indicesAVerifier.length).fill(null),n.user=n.internalService.loadUserFromLocalStorage(),n.user&&n.user.id?(n.isLoading=!0,n.route.paramMap.subscribe(function(){var r=(0,Bt.A)(function*(a){n.isLoading=!0;const h=a.get("id");var p;(0,Jl.p)({weekProblems:n.weekProblemeService.getWeekProblems(),enigme:h?n.weekProblemeService.getWeekProblemById(h):n.weekProblemeService.getCurrentWeekProblem()}).subscribe({next:(p=(0,Bt.A)(function*({weekProblems:_,enigme:M}){n.enigmes=_.filter(F=>!0===F.displayed||void 0===F.displayed),n.enigme=M,yield n.handleEnigmeData(),n.weekProblemeService.getCompletedWeekProblems().subscribe({next:({completed_ids:F})=>{n.completedWeekIds=new Set(F||[]),n.isCompletedCurrent=!(!n.enigme?.id||!n.completedWeekIds.has(n.enigme.id)),n.computeHistory(),n.computeWeeks(),n.isLoading=!1},error:()=>{n.computeHistory(),n.computeWeeks(),n.isLoading=!1}})}),function(M){return p.apply(this,arguments)}),error:p=>{console.error("Error loading enigme:",p),n.isLoading=!1}})});return function(a){return r.apply(this,arguments)}}())):n.isLoading=!1})()}handleRouteParam(n){var r=this;return(0,Bt.A)(function*(){if(r.allValid=!1,r.validInputs=[],n){const a=yield Qh(r.weekProblemeService.getWeekProblemById(n));r.enigme=a}else{const a=yield Qh(r.weekProblemeService.getCurrentWeekProblem());r.enigme=a}r.validInputs=new Array(r.enigme.nb_val_to_find).fill(!0),r.dateString=r.formatDateFrench(r.enigme.date)})()}handleEnigmeData(){var n=this;return(0,Bt.A)(function*(){if(null!=n.enigme){n.allValid=!1,n.validInputs=[],n.validInputs=new Array(n.enigme.nb_val_to_find).fill(!0),n.dateString=n.formatDateFrench(n.enigme.date),n.form=n.fb.group({}),n.indicesAVerifier=n.createVariablesFromList();for(let r of n.indicesAVerifier)n.form.addControl(`question${r}`,new S.MJ("",[S.k0.required]))}})()}onSubmit(){this.form.invalid&&this.form.markAllAsTouched();const n=this.form.value;this.allValid=!0;for(let r=0;r<this.indicesAVerifier.length;r++){const h=n[`question${this.indicesAVerifier[r]}`]===this.enigme?.solution[this.indicesAVerifier[r]];this.validInputs[r]=h,h||(this.allValid=!1)}if(this.allValid&&this.enigme&&this.enigme.id){const r=this.indicesAVerifier.map(h=>Number(this.form.value[`question${h}`])),a=[...this.indicesAVerifier];this.weekProblemeService.verifyWeekProblem(this.enigme.id,r,a,0).subscribe({next:h=>{try{const p=localStorage.getItem("currentUser");if(p){const F=(JSON.parse(p).token_coin||0)+(h?.reward||0);(h?.mojettes||0)>0&&this.authService.sendUpdateMojette(h.mojettes),this.authService.sendUpdateTokenCoin(F)}}catch{}this.authService.reloadUser(!1),this.weekProblemeService.getWeekProblems().subscribe({next:p=>{this.enigmes=p.filter(_=>!0===_.displayed||void 0===_.displayed),this.computeHistory(),this.computeWeeks(),this.enigme?.id&&this.completedWeekIds.add(this.enigme.id),this.isCompletedCurrent=!0,h&&(h.mojettes>0||h.reward>0)&&this.confettiService.trigger()},error:()=>{}})},error:()=>{}})}}createVariablesFromList(){const n=this.enigme?.nb_val_to_find||0,r=this.enigme?.values_list.map((h,p)=>p),a=[];return r&&null!=r&&this.enigme?.variables&&this.enigme?.variables.length?(Array(n).fill(0).map((h,p)=>n-p).forEach(()=>{if(r){const h=Math.floor(Math.random()*((r.length||1)-1));a.push(r[h]),r.splice(h,1)}}),a.sort()):[]}counterArray(n){return Array(n).fill(0).map((r,a)=>a)}submitForm(){const n=new Set(Object.values(this.form.controls).filter(h=>h.errors).flatMap(h=>Object.keys(h.errors||{})).filter((h,p)=>0==p)),r={};n.forEach(h=>r[`${h}`]=!0),this.form.setErrors(r),Object.values(this.form.value).map(h=>parseInt(h))}createImageBlob(n,r,a){var h=this;return(0,Bt.A)(function*(){return new Promise((p,_)=>{const M=new Image;M.crossOrigin="anonymous",M.src=h.image_path+h.enigme?.figure_path;const F=new Image;F.crossOrigin="anonymous",F.src="../../../assets/logo_ppmoj.png",Promise.all([new Promise((Y,ge)=>{M.onload=()=>Y(),M.onerror=()=>ge("Erreur chargement image principale")}),new Promise((Y,ge)=>{F.onload=()=>Y(),F.onerror=()=>ge("Erreur chargement logo")})]).then(()=>{const Y=document.createElement("canvas"),ge=Y.getContext("2d");Y.width=n,Y.height=r,ge.fillStyle="black",ge.fillRect(0,0,n,r);const Je=Math.min(n/M.width,r/M.height),at=M.width*Je,dt=M.height*Je;ge.drawImage(M,(n-at)/2,(r-dt)/2,at,dt);const on=.35*n,Dn=F.height*(on/F.width);ge.drawImage(F,n-on-10,r-Dn-10,on,Dn),Y.toBlob(Di=>{Di?p(Di):_("Erreur cr\xe9ation Blob")},`image/${a}`,1)}).catch(Y=>_(Y))})})()}downloadImage(n,r,a){var h=this;return(0,Bt.A)(function*(){const p=yield h.createImageBlob(r,a,n),_=document.createElement("a");_.download=`enigme-${h.enigme?.date}.${n}`,_.href=URL.createObjectURL(p),_.click(),URL.revokeObjectURL(_.href)})()}shareImage(){var n=this;return(0,Bt.A)(function*(){const r=yield n.createImageBlob(1080,1080,"png"),a=new File([r],`enigme-${n.enigme?.date}.png`,{type:"image/png"});if(navigator.share)try{yield navigator.share({title:"Enigme de la semaine",text:"Voici l'\xe9nimge PPMOJ de la semaine",files:[a]})}catch(h){console.error("Partage annul\xe9 ou erreur :",h)}else alert("Le partage natif n\u2019est pas support\xe9 sur cet appareil.")})()}onFormatSelect(n){const r=n.target.value;if(!r)return;const[a,h]=r.split("|"),[p,_]=a.split("x").map(Number);this.downloadImage(h,p,_)}formatDateFrench(n){return new Date(n).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})}computeHistory(){if(!this.enigmes||!this.enigmes.length)return;const n=[...this.enigmes].sort((r,a)=>new Date(r.date).getTime()-new Date(a.date).getTime());this.historyEnigmes=n.slice(-4)}computeWeeks(){if(this.weekMap={},this.enigmes)for(const r of this.enigmes){const a=this.getISOWeekNumber(new Date(r.date));(!this.weekMap[a]||new Date(r.date)>new Date(this.weekMap[a].date))&&(this.weekMap[a]={id:r.id,date:r.date})}this.weeks=Array.from({length:53},(r,a)=>{const h=a+1,p=this.weekMap[h];return{num:h,hasProblem:!!p,id:p?.id}})}toggleWeekPicker(){this.showWeekPicker=!this.showWeekPicker}selectWeek(n){const r=this.weekMap[n];r?.id&&(this.router.navigate(["/enigme-semaine",r.id]),this.showWeekPicker=!1)}getISOWeekNumber(n){const r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),a=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-a);const h=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r-h)/864e5+1)/7)}getISOWeekFromString(n){return n?this.getISOWeekNumber(new Date(n)):0}getFigureUrl(n){return n?n.startsWith("http")||n.startsWith("/assets")?n:n.startsWith("/week_problems/image/")?`${ur.c.apiUrl}${n}`:n:""}openImageModal(n){n&&(this.modalImageSrc=n,this.isImageModalOpen=!0,this.isImageZoomed=!1,document.body.classList.add("modal-open"))}closeImageModal(){this.isImageModalOpen=!1,this.modalImageSrc="",this.isImageZoomed=!1,document.body.classList.remove("modal-open")}toggleImageZoom(n){n.stopPropagation(),this.isImageZoomed=!this.isImageZoomed}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(co.P),e.rXU(Mt.nX),e.rXU(Mt.Ix),e.rXU(Qa),e.rXU(yr.u),e.rXU(S.ok),e.rXU(Nd))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-enigme-semaine"]],hostAttrs:[1,"dark-theme"],decls:3,vars:2,consts:[["class","loading-container d-flex flex-column align-items-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"loading-container","d-flex","flex-column","align-items-center","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"mt-3","mb-0"],[1,"enigme-page-container"],[1,"top-section"],["class","history-container",4,"ngIf"],["class","week-panel card primary-card",4,"ngIf"],[1,"main-content"],[1,"left-column"],[1,"enigme-card","card","primary-card"],[1,"infos-container","card-header","justify-content-between"],[1,"container","justify-content-start"],["class","container d-flex align-items-center gap-3 reward-section",4,"ngIf"],["class","enigme-image",4,"ngIf"],["class","enigme-statement mt-3",4,"ngIf"],["class","enigme-question mt-2",4,"ngIf"],[1,"action-buttons"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-primary","btn-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"right-column"],[1,"enigme-card","card","primary-card","p-2"],["class","form-container mt-2",4,"ngIf"],["class","image-lightbox","role","dialog","aria-label","Agrandir l'image de l'\xe9nigme",3,"click",4,"ngIf"],[1,"history-container"],[1,"history-strip"],["class","history-item",3,"routerLink","ngClass",4,"ngFor","ngForOf"],["type","button","aria-label","Ouvrir le calendrier des semaines",1,"history-action",3,"click"],[1,"bi","bi-calendar3"],["type","button","aria-label","Ouvrir le Wall Of Fame de cette \xe9nigme",1,"history-action","trophy-action",3,"routerLink","disabled"],[1,"bi","bi-trophy"],[1,"history-item",3,"routerLink","ngClass"],[1,"label"],[1,"id"],[1,"week-panel","card","primary-card"],[1,"week-grid"],["type","button","class","week-cell",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"week-cell",3,"click","disabled","ngClass"],[1,"container","d-flex","align-items-center","gap-3","reward-section"],[1,"reward-label"],["class","d-flex align-items-center","title","Mojettes \xe0 gagner",4,"ngIf"],["class","d-flex align-items-center","title","Jetons \xe0 gagner",4,"ngIf"],["title","Mojettes \xe0 gagner",1,"d-flex","align-items-center"],["src","assets/beans.svg","alt","Mojettes",1,"reward-icon"],["title","Jetons \xe0 gagner",1,"d-flex","align-items-center"],["src","assets/boutique/formations/formation_unique_resized.png","alt","Tokens",1,"reward-icon"],[1,"enigme-image"],["alt","Illustration de l'\xe9nigme",1,"image-clickable",3,"click","src"],[1,"enigme-statement","mt-3"],[1,"enigme-question","mt-2"],[3,"value"],[1,"form-container","mt-2"],["id","formProblem",3,"ngSubmit","formGroup"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","gap-2"],["class","btn btn-primary btn-sm","form","formProblem","type","submit",4,"ngIf"],["class","text-white fst-italic",4,"ngIf"],[1,"mb-3"],["appearance","outline",1,"problem-form-field"],["matInput","","type","number",3,"formControlName","name","id"],["form","formProblem","type","submit",1,"btn","btn-primary","btn-sm"],[1,"text-white","fst-italic"],[1,"text-center"],[1,"d-flex","flex-column","mb-1"],[1,"d-flex","justify-content-center","mt-3"],[1,"btn","btn-primary","btn-sm",3,"routerLink","disabled"],["role","dialog","aria-label","Agrandir l'image de l'\xe9nigme",1,"image-lightbox",3,"click"],["alt","Image de l'\xe9nigme agrandie",1,"image-lightbox__img",3,"click","src"],["type","button","aria-label","Fermer l'aper\xe7u",1,"image-lightbox__close",3,"click"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.DNE(1,x0,6,0,"div",0)(2,PE,32,12,"ng-container",1)),2&r&&(e.R7$(),e.Y8G("ngIf",a.isLoading),e.R7$(),e.Y8G("ngIf",!a.isLoading))},dependencies:[Oi._,R.Sq,R.bT,R.YU,ys,To,S.YN,S.qT,S.xH,S.y7,S.me,S.Q0,S.BC,S.cb,S.X1,S.j4,S.JD,Ye,Xe,il],styles:['@charset "UTF-8";select.btn-primary[_ngcontent-%COMP%]{appearance:none}#problemes[_ngcontent-%COMP%]{display:flex}.container-fluid[_ngcontent-%COMP%]{flex:1}.enigme-page-container[_ngcontent-%COMP%]{color:#f5efed!important;padding:2em 5%;max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:1.5rem;overflow-y:auto;overflow-x:hidden}@media (max-width: 991px){.enigme-page-container[_ngcontent-%COMP%]{padding:1.5em 2%;min-height:auto}}.top-section[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.history-container[_ngcontent-%COMP%]{display:flex;gap:5px;width:100%;justify-content:center;margin-bottom:8px;position:relative}@media (max-width: 991px){.history-container[_ngcontent-%COMP%]{margin-bottom:12px}}.history-strip[_ngcontent-%COMP%]{display:flex;gap:6px;align-items:center;justify-content:center;flex-wrap:wrap}.history-item[_ngcontent-%COMP%]{width:90px;height:60px;background:#fff;border:2px solid #111;border-radius:6px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;text-decoration:none;color:#111;transition:background .15s ease,transform .1s ease,color .15s ease}.history-item[_ngcontent-%COMP%]:hover{background:#e0e0e0;transform:translateY(-1px)}.history-item.current[_ngcontent-%COMP%]{background:#9e9e9e;color:#fff}.history-item.current[_ngcontent-%COMP%]:hover{background:#8a8a8a}.history-item.done[_ngcontent-%COMP%]{border-color:#2e7d32;box-shadow:inset 0 0 0 2px #2e7d3233;position:relative}.history-item.done[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:4px;right:6px;color:#2e7d32;font-weight:700}.history-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px;opacity:.9;line-height:1}.history-item[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{font-weight:700;line-height:1.1}.history-action[_ngcontent-%COMP%]{width:44px;height:44px;border:2px solid #111;border-radius:6px;background:#fff;color:#111;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease,transform .1s ease}@media (min-width: 992px){.history-action[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%)}}@media (max-width: 991px){.history-action[_ngcontent-%COMP%]{margin-left:auto;position:static;transform:none}}.history-action[_ngcontent-%COMP%]:hover{background:#e0e0e0}.history-action[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1.25rem}@media (min-width: 992px){.trophy-action[_ngcontent-%COMP%]{position:absolute;right:52px;top:50%;transform:translateY(-50%)}}@media (max-width: 991px){.trophy-action[_ngcontent-%COMP%]{margin-left:auto}}.week-panel[_ngcontent-%COMP%]{margin:0 auto 8px;padding:12px;max-width:720px}.week-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(13,1fr);gap:6px}@media (max-width: 768px){.week-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(7,1fr)}}.week-cell[_ngcontent-%COMP%]{border:1px solid #333;border-radius:4px;background:#fff;color:#111;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease,color .15s ease,transform .1s ease}.week-cell[_ngcontent-%COMP%]:hover{background:#e0e0e0;transform:translateY(-1px)}.week-cell.is-current[_ngcontent-%COMP%]{background:#9e9e9e;color:#fff}.week-cell.no-problem[_ngcontent-%COMP%]{background:#1e1e1e;color:#aaa;text-decoration:line-through;cursor:not-allowed}.week-cell.completed[_ngcontent-%COMP%]{background:#e8f5e9;border-color:#2e7d32;position:relative}.week-cell.completed[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:4px;right:6px;color:#2e7d32;font-weight:700}.main-content[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:flex-start}@media (max-width: 991px){.main-content[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}}.left-column[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;min-width:0}@media (min-width: 992px){.left-column[_ngcontent-%COMP%]{max-width:50%}}.right-column[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0}@media (min-width: 992px){.right-column[_ngcontent-%COMP%]{max-width:50%}}.enigme-card[_ngcontent-%COMP%], .solution-form-card[_ngcontent-%COMP%]{width:100%}.enigme-card[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .solution-form-card[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 5%}.enigme-card[_ngcontent-%COMP%]{padding:0 0 20px}.enigme-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]{border-color:#f5efed;padding:1em 0;font-size:1.1em;text-transform:uppercase}.enigme-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0}.enigme-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:20px;margin-left:.5em}.enigme-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]   .reward-section[_ngcontent-%COMP%]{margin-left:1rem;gap:.5rem;font-style:italic;font-size:.95em}.enigme-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]   .reward-section[_ngcontent-%COMP%]   .reward-label[_ngcontent-%COMP%]{margin-top:2px}.enigme-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]   .reward-section[_ngcontent-%COMP%]   .reward-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain;margin-right:2px;max-height:none!important}.enigme-card[_ngcontent-%COMP%] > .enigme-image[_ngcontent-%COMP%]{text-align:center;margin-bottom:2em;margin-top:1em;padding:0 5%}.enigme-card[_ngcontent-%COMP%] > .enigme-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:600px;max-width:100%;border:1px solid #bbb;background:#fff;width:100%;height:auto;object-fit:contain}@media (min-width: 992px){.enigme-card[_ngcontent-%COMP%] > .enigme-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:700px}}@media (max-width: 991px){.enigme-card[_ngcontent-%COMP%] > .enigme-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:500px}}@media (max-width: 768px){.enigme-card[_ngcontent-%COMP%] > .enigme-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:400px}}.enigme-card[_ngcontent-%COMP%] > .consigne[_ngcontent-%COMP%]{font-size:1.2em;margin-top:1em;text-align:justify}.enigme-card[_ngcontent-%COMP%] > .consigne[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1em}.enigme-card[_ngcontent-%COMP%] > .image-container[_ngcontent-%COMP%]{max-width:400px;margin:auto}.enigme-card[_ngcontent-%COMP%] > .image-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:1rem}@media (max-width: 991px){.action-buttons[_ngcontent-%COMP%]{justify-content:center}}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:0 0 auto}.solution-form-card[_ngcontent-%COMP%]{padding:1em 0}.solution-form-card[_ngcontent-%COMP%] > .title-container[_ngcontent-%COMP%]{margin-bottom:1em}.solution-form-card[_ngcontent-%COMP%] > .title-container[_ngcontent-%COMP%] > .question[_ngcontent-%COMP%]{font-size:1.2em;margin-right:1em}.solution-form-card[_ngcontent-%COMP%] > .card-help-container[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{color:#f5efed;padding:.1875rem .375rem;font-size:1em;width:120px;min-width:96px;height:36px;margin-right:1em}.solution-form-card[_ngcontent-%COMP%] > .card-help-container[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{text-wrap:nowrap}.solution-form-card[_ngcontent-%COMP%] > .card-help-container[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > small[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:14px}.solution-form-card[_ngcontent-%COMP%] > .card-help-container[_ngcontent-%COMP%] > .btn.disabled[_ngcontent-%COMP%]{display:none}.solution-form-card[_ngcontent-%COMP%] > .card-help-container[_ngcontent-%COMP%] > .help-container[_ngcontent-%COMP%]{border:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%);border-radius:4px;margin:.5em 0}.solution-form-card[_ngcontent-%COMP%] > .card-help-container[_ngcontent-%COMP%] > .help-container[_ngcontent-%COMP%] > .help-text[_ngcontent-%COMP%]{padding:.5em}.solution-form-card[_ngcontent-%COMP%] > .card-help-container[_ngcontent-%COMP%] > .help-container[_ngcontent-%COMP%] > .help-text[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%)}.solution-form-card[_ngcontent-%COMP%] > .card-content-container[_ngcontent-%COMP%]{overflow:auto;margin:1em 0}.solution-form-card[_ngcontent-%COMP%] > .card-content-container[_ngcontent-%COMP%] > .form-container[_ngcontent-%COMP%]{margin:1em 5%}.solution-form-card[_ngcontent-%COMP%] > .button-container[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:1em;padding:0}.solution-form-card[_ngcontent-%COMP%] > .button-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:0 1em;min-width:96px}.solution-form-card[_ngcontent-%COMP%]   label.question-label[_ngcontent-%COMP%]{font-size:1.1em;margin-top:1em;margin-bottom:.25em}mat-form-field[_ngcontent-%COMP%]{margin:.5em 0;width:100%}.form-input-row[_ngcontent-%COMP%], .form-input-row-questions[_ngcontent-%COMP%]{flex-wrap:wrap}.form-input-row[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], .form-input-row-questions[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{flex:1;margin:.5em;max-width:60%}.form-input-row-questions[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5em}.response-error[_ngcontent-%COMP%]{font-size:1.2em;text-align:center;padding:1em}.loading-container[_ngcontent-%COMP%]{padding:2em;margin:3em 0;color:#f5efed}.loading-container[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#f5efed}@media (max-width: 991px){.enigme-page-container[_ngcontent-%COMP%]{padding:1em 2%;min-height:auto;height:auto;overflow-y:auto;overflow-x:hidden}.main-content[_ngcontent-%COMP%]{flex-direction:column}.left-column[_ngcontent-%COMP%], .right-column[_ngcontent-%COMP%]{max-width:100%}.right-column[_ngcontent-%COMP%]{margin-top:1rem}}.image-clickable[_ngcontent-%COMP%]{cursor:zoom-in;transition:transform .15s ease}.image-clickable[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.image-lightbox[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000f2;display:flex;align-items:center;justify-content:center;padding:1.5rem;z-index:100001}.image-lightbox[_ngcontent-%COMP%] ~ *[_ngcontent-%COMP%]{z-index:auto!important}.image-lightbox__img[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh;object-fit:contain;box-shadow:0 10px 30px #0006;border-radius:8px;background:#fff;cursor:zoom-in;transition:transform .2s ease}.image-lightbox__img.is-zoomed[_ngcontent-%COMP%]{transform:scale(1.35);cursor:zoom-out}.image-lightbox__close[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:#0009;border:none;color:#fff;font-size:24px;width:36px;height:36px;border-radius:50%;cursor:pointer;line-height:1}']})}}return l})();function FE(l,c){if(1&l){const n=e.RV6();e.j41(0,"img",19),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.openImageModal(a.imgUrl(a.formation.img_link)))}),e.k0s()}if(2&l){const n=e.XpG(2);e.Mz_("alt","Illustration de la formation ",n.formation.name,""),e.Y8G("src",n.imgUrl(n.formation.img_link),e.B4B)}}function L0(l,c){if(1&l&&(e.j41(0,"a",20)(1,"span",21),e.EFF(2,"download"),e.k0s(),e.EFF(3," documents \xe0 t\xe9l\xe9charger "),e.k0s()),2&l){const n=e.XpG(2);e.Y8G("href",n.formation.document_link,e.B4B)}}function Ld(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",22)(1,"h2",9),e.EFF(2,"Acheter la formation"),e.k0s(),e.j41(3,"button",23),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.buyformation())}),e.EFF(4),e.j41(5,"span",24),e.EFF(6,"poker_chip"),e.k0s()(),e.j41(7,"h3",9),e.EFF(8," pas assez de jetons ? "),e.j41(9,"a",25),e.EFF(10,"acheter des jetons"),e.k0s()()()}if(2&l){const n=e.XpG(2);e.R7$(4),e.SpI(" Cout : ",n.formation.price," ")}}function Bd(l,c){if(1&l&&(e.j41(0,"div",9)(1,"a",29),e.EFF(2,"Rejoindre la session en direct"),e.k0s()()),2&l){const n=e.XpG().$implicit;e.R7$(),e.Y8G("href",n.live_link,e.B4B)}}function Hp(l,c){if(1&l&&(e.j41(0,"div")(1,"h4"),e.EFF(2,"Rediffusion de la s\xe9ance"),e.k0s(),e.nrm(3,"app-dailymotion-player",30),e.k0s()),2&l){const n=e.XpG().$implicit;e.R7$(3),e.Y8G("vid",n.replay_link)}}function zp(l,c){if(1&l&&(e.j41(0,"div"),e.nrm(1,"hr"),e.j41(2,"div",27)(3,"h2"),e.EFF(4),e.k0s(),e.DNE(5,Bd,3,1,"div",28)(6,Hp,4,1,"div",17),e.k0s()()),2&l){const n=c.$implicit,r=e.XpG(3);e.R7$(4),e.Lme(" Session du ",n.calculated_jour," - ",n.calculated_horaire," "),e.R7$(),e.Y8G("ngIf",r.formation.owned&&n.live_link&&!n.replay_link),e.R7$(),e.Y8G("ngIf",n.replay_link)}}function Wp(l,c){if(1&l&&(e.j41(0,"div",15),e.DNE(1,zp,7,4,"div",26),e.k0s()),2&l){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.formation.sessions)}}function Xp(l,c){1&l&&(e.j41(0,"div"),e.nrm(1,"hr"),e.j41(2,"p",9),e.EFF(3,"Aucune sessions programm\xe9e pour l'instant"),e.k0s()())}function B0(l,c){1&l&&e.nrm(0,"div",31)}function Kp(l,c){if(1&l&&(e.j41(0,"div",3)(1,"div",4)(2,"h1",5),e.EFF(3," Formation "),e.nrm(4,"br"),e.EFF(5),e.k0s()(),e.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"h2",9),e.EFF(10),e.k0s(),e.EFF(11),e.DNE(12,FE,1,3,"img",10)(13,L0,4,1,"a",11),e.k0s()(),e.j41(14,"div",12),e.DNE(15,Ld,11,1,"div",13),e.j41(16,"div",14)(17,"h2",9),e.EFF(18,"Sessions de formation"),e.k0s(),e.j41(19,"div",15),e.EFF(20," Ce cours peut avoir eu lieu \xe0 plusieurs reprises, voici les dates des sessions pass\xe9es et \xe0 venir : "),e.nrm(21,"br"),e.EFF(22," Si vous avez achet\xe9 la formation, vous pouvez revoir l'enregistrement des sessions pr\xe9c\xe9dentes. "),e.k0s(),e.DNE(23,Wp,2,1,"div",16)(24,Xp,4,0,"div",17),e.k0s(),e.DNE(25,B0,1,0,"div",18),e.k0s()()()),2&l){const n=e.XpG();e.R7$(5),e.SpI(" ",n.formation.name," "),e.R7$(5),e.SpI(" ",n.formation.name," "),e.R7$(),e.SpI(" ",n.formation.description," "),e.R7$(),e.Y8G("ngIf",n.formation.img_link),e.R7$(),e.Y8G("ngIf",n.formation.document_link),e.R7$(2),e.Y8G("ngIf",!n.formation.owned),e.R7$(8),e.Y8G("ngIf",n.formation.sessions),e.R7$(),e.Y8G("ngIf",!n.formation.sessions),e.R7$(),e.Y8G("ngIf",n.formation.owned&&n.formation.sessions[0].replay_link)}}function ul(l,c){1&l&&(e.j41(0,"div",32)(1,"div",4)(2,"h1",5),e.EFF(3,"Formation non trouv\xe9e"),e.k0s()()())}function Qo(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",33),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.closeImageModal())}),e.j41(1,"img",34),e.bIt("click",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h.toggleImageZoom(a))}),e.k0s(),e.j41(2,"button",35),e.bIt("click",function(a){return e.eBV(n),e.XpG().closeImageModal(),a.stopPropagation(),e.Njj(a.preventDefault())}),e.EFF(3," X "),e.k0s()()}if(2&l){const n=e.XpG();e.R7$(),e.AVh("is-zoomed",n.isImageZoomed),e.Y8G("src",n.modalImageSrc,e.B4B)}}let qp=(()=>{class l{constructor(n,r,a,h){this.router=n,this.route=r,this.formationService=a,this.authService=h,this.formation=null,this.formation_live_url=null,this.formation_replay_url=null,this.isImageModalOpen=!1,this.modalImageSrc="",this.isImageZoomed=!1}ngOnInit(){this.route.params.subscribe(n=>{this.formationService.getFormationById(Number(n.id)).subscribe(r=>{console.log(r),this.formation=r,null==this.formation&&this.router.navigate(["/formations"])},r=>{this.router.navigate(["/formations"])})})}buyformation(){console.log("buy formation"),this.formationService.buyFormation(this.formation?.id??0).subscribe(n=>{this.authService.reloadUser()},n=>{console.log(n)})}imgUrl(n){return n?n.startsWith("http")?n:`${ur.c.apiUrl}${n}`:""}openImageModal(n){n&&(this.modalImageSrc=n,this.isImageModalOpen=!0,this.isImageZoomed=!1,document.body.classList.add("modal-open"))}closeImageModal(){this.isImageModalOpen=!1,this.modalImageSrc="",this.isImageZoomed=!1,document.body.classList.remove("modal-open")}toggleImageZoom(n){n.stopPropagation(),this.isImageZoomed=!this.isImageZoomed}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(Mt.nX),e.rXU(Xs),e.rXU(yr.u))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-formation"]],hostAttrs:[1,"light-theme"],decls:4,vars:3,consts:[["class","container-fluid home-container d-flex flex-column align-items-center overflow-auto",4,"ngIf"],["class","container-fluid home-container d-flex flex-column align-items-center",4,"ngIf"],["class","image-lightbox","role","dialog","aria-label","Agrandir l'image de la formation",3,"click",4,"ngIf"],[1,"container-fluid","home-container","d-flex","flex-column","align-items-center","overflow-auto"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],[1,"home-title","zilla-slab"],[1,"row","w-100","h-100"],[1,"col-md-6","d-flex","no-scrollbar","md-p-5","mt-5","my-md-2",2,"height","80%"],[1,"card","primary-card","p-2","w-100","h-full"],[1,"mx-auto"],["style","width: auto; max-width: 100%; max-height: 50vh","class","rounded mx-auto d-block h-50 my-auto image-clickable",3,"src","alt","click",4,"ngIf"],["class","btn btn-primary","target","_blank",3,"href",4,"ngIf"],[1,"col-md-6","d-flex","flex-column","no-scrollbar","md-p-5","mt-5","my-md-2",2,"height","80%"],["class","card primary-card d-flex no-scrollbar mb-4",4,"ngIf"],[1,"d-flex","card","primary-card","overflow-auto","mh-100"],[1,"p-2"],["class","p-2",4,"ngIf"],[4,"ngIf"],["class","card-container d-flex no-scrollbar",4,"ngIf"],[1,"rounded","mx-auto","d-block","h-50","my-auto","image-clickable",2,"width","auto","max-width","100%","max-height","50vh",3,"click","src","alt"],["target","_blank",1,"btn","btn-primary",3,"href"],[1,"material-icons",2,"vertical-align","bottom","font-size","18px !important"],[1,"card","primary-card","d-flex","no-scrollbar","mb-4"],[1,"btn","btn-primary","mx-auto","my-2",3,"click"],[1,"material-symbols-outlined",2,"vertical-align","bottom","font-size","18px !important"],["href","/boutique"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-column"],["class","mx-auto",4,"ngIf"],[1,"btn","btn-primary",3,"href"],[3,"vid"],[1,"card-container","d-flex","no-scrollbar"],[1,"container-fluid","home-container","d-flex","flex-column","align-items-center"],["role","dialog","aria-label","Agrandir l'image de la formation",1,"image-lightbox",3,"click"],["alt","Image de la formation agrandie",1,"image-lightbox__img",3,"click","src"],["type","button","aria-label","Fermer l'aper\xe7u",1,"image-lightbox__close",3,"click"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.DNE(1,Kp,26,9,"div",0)(2,ul,4,0,"div",1)(3,Qo,4,3,"div",2)),2&r&&(e.R7$(),e.Y8G("ngIf",null!==a.formation),e.R7$(),e.Y8G("ngIf",null===a.formation),e.R7$(),e.Y8G("ngIf",a.isImageModalOpen))},dependencies:[Oi._,R.bT,R.Sq,ep],styles:[".home-container[_ngcontent-%COMP%]{height:100%;padding:0!important}@media (max-height: 720px){.home-container[_ngcontent-%COMP%]{height:unset;flex:1;overflow-y:scroll}}.title-container[_ngcontent-%COMP%]{flex:1;flex-basis:0;max-width:80%}@media (max-width: 768px){.title-container[_ngcontent-%COMP%]{margin:.5em 0!important}}.home-title[_ngcontent-%COMP%]{color:var(--text-color);font-size:2.5em;flex-grow:2;margin:0;font-weight:600;letter-spacing:-1px;flex-basis:0;text-align:center;text-wrap:balance;width:fit-content}@media (min-width: 768px){.home-title[_ngcontent-%COMP%]{font-size:3.5em;line-height:54px;margin:0 .5em!important}}@media (max-height: 720px){.home-title[_ngcontent-%COMP%]{font-size:2em}}.yt-uix-sessionlink[_ngcontent-%COMP%]{display:none}.image-clickable[_ngcontent-%COMP%]{cursor:zoom-in;transition:transform .15s ease}.image-clickable[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.image-lightbox[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000f2;display:flex;align-items:center;justify-content:center;padding:1.5rem;z-index:100001}.image-lightbox[_ngcontent-%COMP%] ~ *[_ngcontent-%COMP%]{z-index:auto!important}.image-lightbox__img[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh;object-fit:contain;box-shadow:0 10px 30px #0006;border-radius:8px;background:#fff;cursor:zoom-in;transition:transform .2s ease}.image-lightbox__img.is-zoomed[_ngcontent-%COMP%]{transform:scale(1.35);cursor:zoom-out}.image-lightbox__close[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:#0009;border:none;color:#fff;font-size:24px;width:36px;height:36px;border-radius:50%;cursor:pointer;line-height:1}"]})}}return l})();function RE(l,c){if(1&l&&e.nrm(0,"img",12),2&l){const n=e.XpG();e.Y8G("src",n.getImageUrl(),e.B4B)("alt",n.getTitle())}}function V0(l,c){if(1&l&&(e.j41(0,"p",7),e.EFF(1),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.SpI(" ",n.getNextDate()," ")}}function AE(l,c){1&l&&(e.j41(0,"p",13),e.EFF(1," Pas de date actuellement "),e.k0s())}let Yp=(()=>{class l{goToDestination(){}constructor(n,r){this.router=n,this.authService=r,this.clickableFlag=!1}imgUrl(n){return n?n.startsWith("http")?n:`${ur.c.apiUrl}${n}`:""}isWeekProblem(n){return"nb_val_to_find"in n}isProblem(n){return"niveau"in n&&!("nb_val_to_find"in n)&&!("sessions"in n)}isFormation(n){return!this.isWeekProblem(n)&&!this.isProblem(n)}getTitle(){if(this.isFormation(this.formation))return this.formation.name;if(this.isProblem(this.formation))return`Probl\xe8me - Niveau ${this.formation.niveau}`;if(this.isWeekProblem(this.formation)){const n=this.formation._weekNumber||"";return n?`\xc9nigme semaine ${n}`:"\xc9nigme de la semaine"}return""}getImageUrl(){if(this.isFormation(this.formation)){const n=this.formation.img_link;return n?this.imgUrl(n):""}if(this.isProblem(this.formation)){const n=this.formation.figure_path;return n?this.imgUrl(n):""}if(this.isWeekProblem(this.formation)){const n=this.formation.figure_path;return n?this.imgUrl(n):""}return""}getNextDate(){return this.isFormation(this.formation)&&this.formation.sessions?.length&&this.formation.sessions[0].delivery_date?`Prochain live : ${this.formation.sessions[0].calculated_jour}`:null}hasNoDate(){return!!this.isFormation(this.formation)&&!(!this.formation.sessions?.length||this.formation.sessions[0].delivery_date)}getSchedule(){return this.isFormation(this.formation)?(this.formation.sessions?.length?this.formation.sessions[0].calculated_horaire:null)||"-":this.isProblem(this.formation)?"-":this.isWeekProblem(this.formation)?`Le ${this.formation.date}`:"-"}getPrice(){return this.isFormation(this.formation)?this.formation.price:this.isProblem(this.formation)?this.formation.reward||this.formation.recompense||0:this.isWeekProblem(this.formation)&&this.formation.reward_mojette||0}getNavigationLink(){return this.isFormation(this.formation)?`/formation/${this.formation.id}`:this.isProblem(this.formation)?`/vef/problemes/${this.formation.id}`:this.isWeekProblem(this.formation)?`/enigme-semaine/${this.formation.id}`:""}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(yr.u))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-formation-card"]],hostAttrs:[1,"card","formation-card","primary-card","flex-column","align-items-stretch"],hostVars:2,hostBindings:function(r,a){1&r&&e.bIt("click",function(){return a.goToDestination()}),2&r&&e.AVh("clickable",a.clickableFlag)},inputs:{formation:"formation"},decls:17,vars:7,consts:[[1,"formation-illustration-container"],["class","formation-illustration",3,"src","alt",4,"ngIf"],[1,"formation-body"],[1,"formation-name","zilla-slab"],[1,"formation-meta"],["class","formation-line",4,"ngIf"],["class","formation-line not-available",4,"ngIf"],[1,"formation-line"],[1,"formation-line","formation-price"],[1,"material-symbols-outlined"],[1,"formation-actions"],[1,"btn","btn-primary","btn-sm","btn-elevated",3,"href"],[1,"formation-illustration",3,"src","alt"],[1,"formation-line","not-available"]],template:function(r,a){1&r&&(e.j41(0,"div",0),e.DNE(1,RE,1,2,"img",1),e.k0s(),e.j41(2,"div",2)(3,"h2",3),e.EFF(4),e.k0s(),e.j41(5,"div",4),e.DNE(6,V0,2,1,"p",5)(7,AE,2,0,"p",6),e.j41(8,"p",7),e.EFF(9),e.k0s(),e.j41(10,"p",8),e.EFF(11),e.j41(12,"span",9),e.EFF(13,"poker_chip"),e.k0s()()(),e.j41(14,"div",10)(15,"a",11),e.EFF(16,"Plus d'informations"),e.k0s()()()),2&r&&(e.R7$(),e.Y8G("ngIf",a.getImageUrl()),e.R7$(3),e.JRh(a.getTitle()),e.R7$(2),e.Y8G("ngIf",a.getNextDate()),e.R7$(),e.Y8G("ngIf",a.hasNoDate()),e.R7$(2),e.JRh(a.getSchedule()),e.R7$(2),e.SpI("",a.getPrice()," "),e.R7$(4),e.Y8G("href",a.getNavigationLink(),e.B4B))},dependencies:[R.bT],styles:[".formation-card{display:flex;flex-direction:column;align-items:stretch;width:100%;max-width:420px;border-radius:16px;overflow:hidden;background:#fff;box-shadow:0 6px 20px #00000014;transition:transform .18s ease,box-shadow .18s ease}.formation-card:hover{transform:translateY(-6px);box-shadow:0 14px 34px #0000001f}.formation-illustration-container{width:100%;height:170px;overflow:hidden;background:#f0f0f0}.formation-illustration{width:100%;height:100%;object-fit:cover;display:block}.formation-body{padding:.5rem .5rem .5rem 1.25rem}.formation-name{margin:0;font-size:1.15rem;font-weight:700;color:#0f1720}.formation-meta{display:flex;flex-direction:column;gap:.01rem;color:#222;margin-bottom:.1rem;line-height:.15rem}.formation-line{margin:0;font-size:.95rem;line-height:.15rem}.formation-line.not-available{color:#c0392b}.formation-price{display:flex;align-items:center}.formation-price .material-symbols-outlined{margin-left:.35rem;font-size:1rem}.formation-actions{display:flex;justify-content:flex-start;margin-top:.35rem}.formation-actions .btn{padding:.5rem 1rem}@media (max-width: 768px){.formation-card{max-width:100%}.formation-illustration-container{height:150px}}@media (max-width: 480px){.formation-illustration-container{height:120px}.formation-name{font-size:1rem}}\n"],encapsulation:2})}}return l})();function Qp(l,c){1&l&&(e.j41(0,"div",4)(1,"div",5)(2,"span",6),e.EFF(3,"Chargement..."),e.k0s()(),e.j41(4,"p",7),e.EFF(5,"Chargement des formations..."),e.k0s()())}function Zp(l,c){1&l&&(e.j41(0,"div",13)(1,"h2",14),e.EFF(2," PAS DE FORMATIONS DISPONIBLES ACTUELLEMENT "),e.k0s()())}function NE(l,c){if(1&l&&(e.j41(0,"div",17),e.nrm(1,"app-formation-card",18),e.k0s()),2&l){const n=c.$implicit;e.R7$(),e.Y8G("formation",n)}}function U0(l,c){if(1&l&&(e.j41(0,"div",15),e.DNE(1,NE,2,1,"div",16),e.k0s()),2&l){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.formationArray)}}function Jp(l,c){if(1&l&&(e.qex(0),e.j41(1,"div",8)(2,"h1",9),e.EFF(3),e.k0s()(),e.j41(4,"div",10),e.EFF(5),e.k0s(),e.DNE(6,Zp,3,0,"div",11)(7,U0,2,1,"div",12),e.bVm()),2&l){const n=e.XpG();e.R7$(3),e.JRh(null==n.formationCategory?null:n.formationCategory.category_name),e.R7$(2),e.SpI(" ",null==n.formationCategory?null:n.formationCategory.category_description," "),e.R7$(),e.Y8G("ngIf",0===n.formationArray.length),e.R7$(),e.Y8G("ngIf",0!==n.formationArray.length)}}let $0=(()=>{class l{constructor(n,r,a){this.router=n,this.route=r,this.formationService=a,this.formationArray=[],this.isLoading=!0,this.goToPage=h=>this.router.navigate([`/${h}`])}ngOnInit(){this.route.params.subscribe(n=>{this.isLoading=!0,(0,Jl.p)({category:this.formationService.getCategoryByCode(n.code),formations:this.formationService.getFormationAndNextSessionByCode(n.code)}).subscribe({next:({category:r,formations:a})=>{this.formationCategory=r,this.formationArray=a.filter(h=>!0===h.displayed||void 0===h.displayed),this.isLoading=!1},error:r=>{console.error("Error loading formations:",r),this.isLoading=!1}})})}openDialog(){const n=document.getElementById("connectDialog");n instanceof HTMLDialogElement&&n.showModal()}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(Mt.nX),e.rXU(Xs))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-formation"]],viewQuery:function(r,a){if(1&r&&e.GBs(Oi._,5),2&r){let h;e.mGM(h=e.lsd())&&(a.navbar=h.first)}},hostAttrs:[1,"light-theme"],decls:4,vars:2,consts:[[3,"onOpenDialog"],[1,"container-fluid","home-container","d-flex","flex-column","align-items-center","overflow-auto"],["class","loading-container d-flex flex-column align-items-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"loading-container","d-flex","flex-column","align-items-center","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","mb-0"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],[1,"home-title","zilla-slab"],[1,"card","primary-card","m-3","p-3"],["id","card-container","class","card-container d-flex no-scrollbar",4,"ngIf"],["class","row m-3 cards-row",4,"ngIf"],["id","card-container",1,"card-container","d-flex","no-scrollbar"],[1,"card","primary-card","not-available"],[1,"row","m-3","cards-row"],["class","col-12 col-md-6 col-lg-4 mb-5",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","mb-5"],[3,"formation"]],template:function(r,a){1&r&&(e.j41(0,"app-navbar",0),e.bIt("onOpenDialog",function(){return a.openDialog()}),e.k0s(),e.j41(1,"div",1),e.DNE(2,Qp,6,0,"div",2)(3,Jp,8,4,"ng-container",3),e.k0s()),2&r&&(e.R7$(2),e.Y8G("ngIf",a.isLoading),e.R7$(),e.Y8G("ngIf",!a.isLoading))},dependencies:[Oi._,R.bT,R.Sq,Yp],styles:[".home-container[_ngcontent-%COMP%]{height:100%;width:100%;padding:0!important}@media (max-height: 720px){.home-container[_ngcontent-%COMP%]{height:unset;flex:1;overflow-y:scroll}}.title-container[_ngcontent-%COMP%]{flex:1;flex-basis:0;max-width:80%}@media (max-width: 768px){.title-container[_ngcontent-%COMP%]{margin:.5em 0!important}}.home-title[_ngcontent-%COMP%]{color:var(--text-color);font-size:2.5em;flex-grow:2;margin:0;font-weight:600;letter-spacing:-1px;flex-basis:0;text-align:center;text-wrap:balance;width:fit-content}@media (min-width: 768px){.home-title[_ngcontent-%COMP%]{font-size:3.5em;line-height:54px;margin:0 .5em!important}}@media (max-height: 720px){.home-title[_ngcontent-%COMP%]{font-size:2em}}.card-container[_ngcontent-%COMP%]{flex:3;flex-basis:0;height:0%;grid-template-columns:repeat(auto-fill,400px);margin:0 auto;padding-top:2em;width:90%;display:flex;overflow-y:auto;justify-content:center}.cards-row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;max-width:1400px;margin-left:auto!important;margin-right:auto!important}.not-available[_ngcontent-%COMP%]{padding:2em;max-width:85vw;text-transform:uppercase}.loading-container[_ngcontent-%COMP%]{padding:2em;margin:3em 0}"]})}}return l})();function rf(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.selectCriteria(a.value))}),e.EFF(1),e.k0s()}if(2&l){const n=c.$implicit,r=e.XpG(2);e.AVh("selected",r.sortCriteria===n.value),e.R7$(),e.SpI(" ",n.label," ")}}function G0(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",31)(1,"button",32),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.selectCriteria("none"))}),e.EFF(2," Aucun tri "),e.k0s(),e.DNE(3,rf,2,3,"button",33),e.k0s()}if(2&l){const n=e.XpG();e.R7$(),e.AVh("selected","none"===n.sortCriteria),e.R7$(2),e.Y8G("ngForOf",n.availableCriteria)}}function H0(l,c){1&l&&(e.j41(0,"div",34)(1,"div",35)(2,"span",36),e.EFF(3,"Chargement..."),e.k0s()(),e.j41(4,"p",37),e.EFF(5,"Chargement des contenus..."),e.k0s()())}function Fo(l,c){if(1&l&&(e.j41(0,"div",40),e.nrm(1,"app-formation-card",41),e.k0s()),2&l){const n=c.$implicit;e.R7$(),e.Y8G("formation",n)}}function z0(l,c){if(1&l&&(e.j41(0,"div",38),e.DNE(1,Fo,2,1,"div",39),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",n.mixedCards)}}function eg(l,c){1&l&&(e.j41(0,"div",42)(1,"p"),e.EFF(2,"Aucun contenu disponible actuellement"),e.k0s()())}let W0=(()=>{class l{constructor(n,r,a){this.router=n,this.formationService=r,this.weekProblemService=a,this.formationCategory=[],this.mixedCards=[],this.originalMixedCards=[],this.isLoadingCards=!1,this.sortCriteria="none",this.sortDirection="none",this.showCriteriaMenu=!1,this.availableCriteria=[{value:"price",label:"Prix"}],this.goToPage=h=>this.router.navigate([`/${h}`])}ngOnInit(){this.formationService.getFormationCategories().subscribe(n=>{this.formationCategory=n}),this.loadMixedCards()}loadMixedCards(){this.isLoadingCards=!0,(0,Jl.p)({histoireFormations:this.formationService.getFormationAndNextSessionByCode("HISTOIRE"),problemeFormations:this.formationService.getFormationAndNextSessionByCode("PROBLEME"),weekProblems:this.weekProblemService.getWeekProblems()}).subscribe({next:({histoireFormations:n,problemeFormations:r,weekProblems:a})=>{console.log("Loaded histoire formations:",n),console.log("Loaded probleme formations:",r),console.log("Loaded weekProblems:",a);const h=(n||[]).filter(F=>!0===F.displayed||void 0===F.displayed).slice(0,3),p=(r||[]).filter(F=>!0===F.displayed||void 0===F.displayed).slice(0,3),_=(a||[]).filter(F=>!0===F.displayed||void 0===F.displayed).sort((F,Y)=>{const ge=new Date(F.date).getTime();return new Date(Y.date).getTime()-ge}).slice(0,2);console.log("Displayed histoires:",h),console.log("Displayed problemes:",p),console.log("Displayed weekProblems:",_);const M=_.map(F=>{const Y=this.getWeekNumber(new Date(F.date));return{...F,_weekNumber:Y}});this.mixedCards=[...h,...p,...M],this.originalMixedCards=[...this.mixedCards],console.log("Mixed cards:",this.mixedCards),this.isLoadingCards=!1},error:n=>{console.error("Error loading mixed cards:",n),this.isLoadingCards=!1}})}openDialog(){const n=document.getElementById("connectDialog");n instanceof HTMLDialogElement&&n.showModal()}getWeekNumber(n){const r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),a=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-a);const h=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r.getTime()-h.getTime())/864e5+1)/7)}toggleCriteriaMenu(){this.showCriteriaMenu=!this.showCriteriaMenu}selectCriteria(n){this.sortCriteria=n,this.showCriteriaMenu=!1,"none"===n?this.sortDirection="none":"none"===this.sortDirection&&(this.sortDirection="asc"),this.applySorting()}toggleSortDirection(){"none"===this.sortDirection?(this.sortDirection="asc","none"===this.sortCriteria&&(this.sortCriteria="price")):this.sortDirection="asc"===this.sortDirection?"desc":"none",this.applySorting()}applySorting(){this.mixedCards="none"!==this.sortCriteria&&"none"!==this.sortDirection?[...this.mixedCards].sort((n,r)=>{let a=0,h=0;return"price"===this.sortCriteria&&(a=this.getCardPrice(n),h=this.getCardPrice(r)),"asc"===this.sortDirection?a-h:h-a}):[...this.originalMixedCards]}getCardPrice(n){return"price"in n?n.price||0:"reward"in n?n.reward||0:"reward_mojette"in n&&n.reward_mojette||0}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(Xs),e.rXU(Qa))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-formation-home"]],viewQuery:function(r,a){if(1&r&&e.GBs(Oi._,5),2&r){let h;e.mGM(h=e.lsd())&&(a.navbar=h.first)}},hostAttrs:[1,"light-theme"],decls:43,vars:12,consts:[[3,"onOpenDialog"],[1,"formations-container"],[1,"title-container","d-flex","flex-row","justify-content-center","align-items-center"],[1,"home-title","zilla-slab"],[1,"formations-row"],["href","/formations/calendrier","aria-label","Agenda",1,"logo-link"],["src","../../../assets/formations/agenda_logo.png","alt","Agenda Logo",1,"formation-logo"],["href","/boutique","aria-label","Boutique",1,"logo-link"],["src","../../../assets/formations/boutique_logo.png","alt","Boutique Logo",1,"formation-logo"],[1,"category-separator"],[1,"separator-line"],[1,"separator-ornament"],["href","/histoire","aria-label","Histoire des Maths",1,"logo-link"],["src","../../../assets/formations/histoire_logo.png","alt","Histoire des Maths Logo",1,"formation-logo"],["href","/formations/PROBLEME","aria-label","R\xe9solution de Probl\xe8me",1,"logo-link"],["src","../../../assets/formations/pb_logo.png","alt","R\xe9solution de Probl\xe8me Logo",1,"formation-logo"],["href","/enigme-semaine","aria-label","Enigme de la Semaine",1,"logo-link"],["src","../../../assets/formations/enigme_logo.png","alt","Enigme de la Semaine Logo",1,"formation-logo"],[1,"mixed-cards-section"],[1,"section-header"],[1,"section-title","zilla-slab"],[1,"sort-controls"],[1,"criteria-selector"],[1,"sort-button","criteria-button",3,"click"],[1,"material-symbols-outlined"],[1,"sort-label"],["class","criteria-menu",4,"ngIf"],[1,"sort-button","direction-button",3,"click"],["class","loading-container d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","row m-3 cards-row",4,"ngIf"],["class","card primary-card not-available p-3",4,"ngIf"],[1,"criteria-menu"],[1,"criteria-option",3,"click"],["class","criteria-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"loading-container","d-flex","flex-column","align-items-center","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","mb-0"],[1,"row","m-3","cards-row"],["class","col-12 col-md-6 col-lg-4 mb-5",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","mb-5"],[3,"formation"],[1,"card","primary-card","not-available","p-3"]],template:function(r,a){1&r&&(e.j41(0,"app-navbar",0),e.bIt("onOpenDialog",function(){return a.openDialog()}),e.k0s(),e.j41(1,"div",1)(2,"div",2)(3,"h1",3),e.EFF(4,"Les Formations du Professeur Mojette"),e.k0s()(),e.j41(5,"div",4)(6,"a",5),e.nrm(7,"img",6),e.k0s(),e.j41(8,"a",7),e.nrm(9,"img",8),e.k0s()(),e.j41(10,"div",9),e.nrm(11,"div",10)(12,"div",11)(13,"div",10),e.k0s(),e.j41(14,"div",4)(15,"a",12),e.nrm(16,"img",13),e.k0s(),e.j41(17,"a",14),e.nrm(18,"img",15),e.k0s(),e.j41(19,"a",16),e.nrm(20,"img",17),e.k0s()(),e.j41(21,"div",9),e.nrm(22,"div",10)(23,"div",11)(24,"div",10),e.k0s(),e.j41(25,"div",18)(26,"div",19)(27,"h2",20),e.EFF(28,"D\xe9couvrez nos contenus"),e.k0s(),e.j41(29,"div",21)(30,"div",22)(31,"button",23),e.bIt("click",function(){return a.toggleCriteriaMenu()}),e.j41(32,"span",24),e.EFF(33," sort "),e.k0s(),e.j41(34,"span",25),e.EFF(35),e.k0s()(),e.DNE(36,G0,4,3,"div",26),e.k0s(),e.j41(37,"button",27),e.bIt("click",function(){return a.toggleSortDirection()}),e.j41(38,"span",24),e.EFF(39),e.k0s()()()(),e.DNE(40,H0,6,0,"div",28)(41,z0,2,1,"div",29)(42,eg,3,0,"div",30),e.k0s()()),2&r&&(e.R7$(31),e.AVh("active","none"!==a.sortCriteria),e.BMQ("aria-label","Crit\xe8re de tri: "+("price"===a.sortCriteria?"prix":"aucun")),e.R7$(4),e.JRh("price"===a.sortCriteria?"Prix":"Trier"),e.R7$(),e.Y8G("ngIf",a.showCriteriaMenu),e.R7$(),e.AVh("active","none"!==a.sortDirection),e.BMQ("aria-label","Ordre de tri: "+("asc"===a.sortDirection?"croissant":"desc"===a.sortDirection?"d\xe9croissant":"aucun")),e.R7$(2),e.SpI(" ","asc"===a.sortDirection?"arrow_upward":"desc"===a.sortDirection?"arrow_downward":"swap_vert"," "),e.R7$(),e.Y8G("ngIf",a.isLoadingCards),e.R7$(),e.Y8G("ngIf",!a.isLoadingCards&&a.mixedCards.length>0),e.R7$(),e.Y8G("ngIf",!a.isLoadingCards&&0===a.mixedCards.length))},dependencies:[Oi._,R.bT,R.Sq,Yp],styles:['[_nghost-%COMP%]{display:block;width:100%;overflow-y:auto;overflow-x:hidden;max-height:none;height:auto;flex:none;--text-color: #000000 !important;--secondary-color: #000000 !important}  app-navbar{--text-color: #000000 !important;--secondary-color: #000000 !important}  app-navbar .navbar{color:#000!important}  app-navbar .navbar button.btn-navbar,   app-navbar .navbar .btn-navbar{color:#000!important}  app-navbar .navbar button.btn-navbar .material-symbols-outlined,   app-navbar .navbar .btn-navbar .material-symbols-outlined{color:#000!important}  app-navbar h2.titre>a{color:#000!important}  app-navbar .navbar-button-container .navbar-icon,   app-navbar .navbar-button-container .token-span-container,   app-navbar .navbar-button-container .mojette-span-container{color:#000!important}  app-navbar .navbar-button-container .navbar-icon .nb-mojette,   app-navbar .navbar-button-container .navbar-icon span,   app-navbar .navbar-button-container .token-span-container .nb-mojette,   app-navbar .navbar-button-container .token-span-container span,   app-navbar .navbar-button-container .mojette-span-container .nb-mojette,   app-navbar .navbar-button-container .mojette-span-container span{color:#000!important}  app-navbar .navbar-button-container .navbar-icon .material-symbols-outlined,   app-navbar .navbar-button-container .token-span-container .material-symbols-outlined,   app-navbar .navbar-button-container .mojette-span-container .material-symbols-outlined{color:#000!important}  app-navbar .navbar-button-container .material-symbols-outlined{color:#000!important}  app-navbar .account-button,   app-navbar .login-button{color:#000!important;border-color:#000!important}  app-navbar .account-button .ItemsButtonLogin,   app-navbar .login-button .ItemsButtonLogin{color:#000!important}  app-navbar .account-button .ItemsButtonLogin i,   app-navbar .account-button .ItemsButtonLogin span,   app-navbar .login-button .ItemsButtonLogin i,   app-navbar .login-button .ItemsButtonLogin span{color:#000!important}  app-navbar .dropdown-menu{color:#000!important;border-color:#000!important}  app-navbar .dropdown-menu li{color:#000!important}  app-navbar .dropdown-menu li span{color:#000!important}.formations-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#fff;padding:3em 1em;max-width:1400px;margin:0 auto;display:flex;flex-direction:column;align-items:center;overflow-y:visible;overflow-x:hidden;transition:opacity .3s ease;position:relative}.title-container[_ngcontent-%COMP%]{width:100%;margin-bottom:3em;justify-content:center;align-items:center}.home-title[_ngcontent-%COMP%]{color:#000;font-size:2.5em;margin:0;font-weight:600;letter-spacing:-.5px;text-align:center;text-wrap:balance}@media (min-width: 768px){.home-title[_ngcontent-%COMP%]{font-size:3em}}@media (max-width: 480px){.home-title[_ngcontent-%COMP%]{font-size:1.8em}}.formations-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:3em;margin:1em 0;width:100%;flex-wrap:wrap}@media (max-width: 768px){.formations-row[_ngcontent-%COMP%]{gap:2em}}@media (max-width: 480px){.formations-row[_ngcontent-%COMP%]{gap:1.5em}}.logo-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-decoration:none;cursor:pointer;transition:all .3s ease;padding:.5em}.logo-link[_ngcontent-%COMP%]:hover{transform:scale(1.1);filter:drop-shadow(0 8px 16px rgba(0,0,0,.15))}.logo-link[_ngcontent-%COMP%]:active{transform:scale(.95)}.formation-logo[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:100%;height:auto;object-fit:contain}@media (max-width: 768px){.formation-logo[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}@media (max-width: 480px){.formation-logo[_ngcontent-%COMP%]{max-width:160px;max-height:160px}}.category-separator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1em;width:100%;max-width:600px;margin:.8em auto}.separator-line[_ngcontent-%COMP%]{flex:1;height:2px;background:linear-gradient(to right,transparent,#1a1a1a 50%,transparent)}.separator-ornament[_ngcontent-%COMP%]{width:16px;height:16px;position:relative;flex-shrink:0}.separator-ornament[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg);width:6px;height:6px;background-color:#1a1a1a;box-shadow:-20px 0 0 -3px #1a1a1a,20px 0 0 -3px #1a1a1a}.separator-ornament[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:1px;height:12px;background-color:#1a1a1a;box-shadow:-14px 0 #1a1a1a,14px 0 #1a1a1a}.description-container[_ngcontent-%COMP%]{width:100%;max-width:800px;text-align:center;padding:2em 1em;margin:0 auto}.description-text[_ngcontent-%COMP%]{font-size:1.1em;color:#333;line-height:1.6;font-style:italic;margin:0;letter-spacing:.3px}.mixed-cards-section[_ngcontent-%COMP%]{width:100%;padding:2em 1em;margin-top:2em;display:flex;flex-direction:column;align-items:center}.mixed-cards-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:1.5em;margin-bottom:2em;position:relative}@media (max-width: 768px){.mixed-cards-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;gap:1em}}.mixed-cards-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#000;font-size:2em;margin:0;font-weight:600;letter-spacing:-.5px;text-align:center}@media (max-width: 480px){.mixed-cards-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5em}}.mixed-cards-section[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{display:flex;gap:.5em;align-items:center}.mixed-cards-section[_ngcontent-%COMP%]   .criteria-selector[_ngcontent-%COMP%]{position:relative}.mixed-cards-section[_ngcontent-%COMP%]   .criteria-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5em);left:0;background-color:#fff;border:2px solid #1a1a1a;border-radius:8px;box-shadow:0 4px 12px #00000026;z-index:1000;min-width:150px;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .2s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.mixed-cards-section[_ngcontent-%COMP%]   .criteria-menu[_ngcontent-%COMP%]   .criteria-option[_ngcontent-%COMP%]{width:100%;padding:.75em 1em;background-color:#fff;border:none;border-bottom:1px solid #e0e0e0;cursor:pointer;text-align:left;font-size:.9em;color:#1a1a1a;transition:all .2s ease;font-weight:500}.mixed-cards-section[_ngcontent-%COMP%]   .criteria-menu[_ngcontent-%COMP%]   .criteria-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.mixed-cards-section[_ngcontent-%COMP%]   .criteria-menu[_ngcontent-%COMP%]   .criteria-option[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#1a1a1a}.mixed-cards-section[_ngcontent-%COMP%]   .criteria-menu[_ngcontent-%COMP%]   .criteria-option.selected[_ngcontent-%COMP%]{background-color:#1a1a1a;color:#fff}.mixed-cards-section[_ngcontent-%COMP%]   .criteria-menu[_ngcontent-%COMP%]   .criteria-option.selected[_ngcontent-%COMP%]:hover{background-color:#333}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5em;padding:.5em 1em;background-color:#fff;border:2px solid #1a1a1a;border-radius:8px;cursor:pointer;transition:all .2s ease;color:#1a1a1a;font-weight:500}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:1.2em;transition:transform .2s ease}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]{font-size:.9em;text-transform:uppercase;letter-spacing:.5px}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button.active[_ngcontent-%COMP%]{background-color:#1a1a1a;color:#fff}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]:hover{background-color:#1a1a1a;color:#fff;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button.direction-button[_ngcontent-%COMP%]{padding:.5em .75em;min-width:50px;justify-content:center}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button.direction-button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{margin:0}@media (max-width: 480px){.mixed-cards-section[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]{padding:.4em .8em}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]{font-size:.85em}.mixed-cards-section[_ngcontent-%COMP%]   .sort-button.direction-button[_ngcontent-%COMP%]{padding:.4em .6em;min-width:45px}}.mixed-cards-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{width:100%;padding:4em 2em;text-align:center}.mixed-cards-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1em}.mixed-cards-section[_ngcontent-%COMP%]   .cards-row[_ngcontent-%COMP%]{width:100%;max-width:1400px;margin:0 auto;--bs-gutter-x: 1.5rem}.mixed-cards-section[_ngcontent-%COMP%]   .cards-row[_ngcontent-%COMP%]   app-formation-card[_ngcontent-%COMP%]{display:flex;height:100%}.mixed-cards-section[_ngcontent-%COMP%]   .not-available[_ngcontent-%COMP%]{width:100%;text-align:center;padding:2em;color:#666}']})}}return l})();function X0(l,c){1&l&&(e.j41(0,"div",4)(1,"div",5)(2,"span",6),e.EFF(3,"Chargement..."),e.k0s()(),e.j41(4,"p",7),e.EFF(5,"Chargement des histoires..."),e.k0s()())}function K0(l,c){1&l&&(e.j41(0,"div",13)(1,"h2",14),e.EFF(2," PAS D'HISTOIRES DISPONIBLES ACTUELLEMENT "),e.k0s()())}function q0(l,c){if(1&l&&(e.j41(0,"div",17),e.nrm(1,"app-formation-card",18),e.k0s()),2&l){const n=c.$implicit;e.R7$(),e.Y8G("formation",n)}}function tg(l,c){if(1&l&&(e.j41(0,"div",15),e.DNE(1,q0,2,1,"div",16),e.k0s()),2&l){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.histoireArray)}}function Y0(l,c){if(1&l&&(e.qex(0),e.j41(1,"div",8)(2,"h1",9),e.EFF(3),e.k0s()(),e.j41(4,"div",10),e.EFF(5),e.k0s(),e.DNE(6,K0,3,0,"div",11)(7,tg,2,1,"div",12),e.bVm()),2&l){const n=e.XpG();e.R7$(3),e.JRh(null==n.histoireCategory?null:n.histoireCategory.category_name),e.R7$(2),e.SpI(" ",null==n.histoireCategory?null:n.histoireCategory.category_description," "),e.R7$(),e.Y8G("ngIf",0===n.histoireArray.length),e.R7$(),e.Y8G("ngIf",0!==n.histoireArray.length)}}let ng=(()=>{class l{constructor(n,r,a){this.router=n,this.route=r,this.formationService=a,this.histoireArray=[],this.isLoading=!0,this.goToPage=h=>this.router.navigate([`/${h}`])}ngOnInit(){this.route.params.subscribe(n=>{this.isLoading=!0;const r=n.code||"HISTOIRE";(0,Jl.p)({category:this.formationService.getCategoryByCode(r),histoires:this.formationService.getFormationAndNextSessionByCode(r)}).subscribe({next:({category:a,histoires:h})=>{this.histoireCategory=a,this.histoireArray=h.filter(p=>!0===p.displayed||void 0===p.displayed),this.isLoading=!1},error:a=>{console.error("Error loading histoires:",a),this.isLoading=!1}})})}openDialog(){const n=document.getElementById("connectDialog");n instanceof HTMLDialogElement&&n.showModal()}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(Mt.nX),e.rXU(Xs))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-histoire"]],viewQuery:function(r,a){if(1&r&&e.GBs(Oi._,5),2&r){let h;e.mGM(h=e.lsd())&&(a.navbar=h.first)}},hostAttrs:[1,"light-theme"],decls:4,vars:2,consts:[[3,"onOpenDialog"],[1,"container-fluid","home-container","d-flex","flex-column","align-items-center","overflow-auto"],["class","loading-container d-flex flex-column align-items-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"loading-container","d-flex","flex-column","align-items-center","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","mb-0"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],[1,"home-title","zilla-slab"],[1,"card","primary-card","m-3","p-3"],["id","card-container","class","card-container d-flex no-scrollbar",4,"ngIf"],["class","row m-3 cards-row",4,"ngIf"],["id","card-container",1,"card-container","d-flex","no-scrollbar"],[1,"card","primary-card","not-available"],[1,"row","m-3","cards-row"],["class","col-12 col-md-6 col-lg-4 mb-5",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","mb-5"],[3,"formation"]],template:function(r,a){1&r&&(e.j41(0,"app-navbar",0),e.bIt("onOpenDialog",function(){return a.openDialog()}),e.k0s(),e.j41(1,"div",1),e.DNE(2,X0,6,0,"div",2)(3,Y0,8,4,"ng-container",3),e.k0s()),2&r&&(e.R7$(2),e.Y8G("ngIf",a.isLoading),e.R7$(),e.Y8G("ngIf",!a.isLoading))},dependencies:[Oi._,R.bT,R.Sq,Yp],styles:[".home-container[_ngcontent-%COMP%]{height:100%;width:100%;padding:0!important}@media (max-height: 720px){.home-container[_ngcontent-%COMP%]{height:unset;flex:1;overflow-y:scroll}}.title-container[_ngcontent-%COMP%]{flex:1;flex-basis:0;max-width:80%}@media (max-width: 768px){.title-container[_ngcontent-%COMP%]{margin:.5em 0!important}}.home-title[_ngcontent-%COMP%]{color:var(--text-color);font-size:2.5em;flex-grow:2;margin:0;font-weight:600;letter-spacing:-1px;flex-basis:0;text-align:center;text-wrap:balance;width:fit-content}@media (min-width: 768px){.home-title[_ngcontent-%COMP%]{font-size:3.5em;line-height:54px;margin:0 .5em!important}}@media (max-height: 720px){.home-title[_ngcontent-%COMP%]{font-size:2em}}.card-container[_ngcontent-%COMP%]{flex:3;flex-basis:0;height:0%;grid-template-columns:repeat(auto-fill,400px);margin:0 auto;padding-top:2em;width:90%;display:flex;overflow-y:auto;justify-content:center}.cards-row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;max-width:1400px;margin-left:auto!important;margin-right:auto!important}.not-available[_ngcontent-%COMP%]{padding:2em;max-width:85vw;text-transform:uppercase}.loading-container[_ngcontent-%COMP%]{padding:2em;margin:3em 0}"]})}}return l})();const Q0=l=>({highlight:l});function cn(l,c){if(1&l&&(e.j41(0,"tr",8)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&l){const n=c.$implicit,r=e.XpG();e.Y8G("ngClass",e.eq3(6,Q0,n.user_id===r.user.user_id)),e.R7$(2),e.Lme("",n.position,".",n.username,""),e.R7$(2),e.SpI("",n.completion_time,"s"),e.R7$(2),e.JRh(n.helps_used),e.R7$(2),e.JRh(n.score)}}function sf(l,c){1&l&&(e.j41(0,"tbody")(1,"tr")(2,"td",9),e.EFF(3,"..."),e.k0s()()())}function ig(l,c){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&l){const n=c.$implicit;e.R7$(2),e.Lme("",n.position,".",n.username,""),e.R7$(2),e.SpI("",n.completion_time,"s"),e.R7$(2),e.JRh(n.helps_used),e.R7$(2),e.JRh(n.score)}}function af(l,c){if(1&l&&(e.j41(0,"tbody",10),e.DNE(1,ig,9,5,"tr",11),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",n.leaderboard.above_user)}}function Vd(l,c){if(1&l&&(e.j41(0,"tbody",12)(1,"tr",13)(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s()()()),2&l){const n=e.XpG();e.R7$(3),e.Lme("",n.user.position,".",n.user.username,""),e.R7$(2),e.SpI("",n.user.completion_time,"s"),e.R7$(2),e.JRh(n.user.helps_used),e.R7$(2),e.JRh(n.user.score)}}function ya(l,c){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&l){const n=c.$implicit;e.R7$(2),e.Lme("",n.position,".",n.username,""),e.R7$(2),e.SpI("",n.completion_time,"s"),e.R7$(2),e.JRh(n.helps_used),e.R7$(2),e.JRh(n.score)}}function rg(l,c){if(1&l&&(e.j41(0,"tbody",14),e.DNE(1,ya,9,5,"tr",11),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",n.leaderboard.below_user)}}let lf=(()=>{class l{constructor(n,r,a){this.router=n,this.mojetteService=r,this.route=a,this.leaderboard={top:[],user:{user_id:0,username:"",completion_time:0,helps_used:0,position:0,score:0},above_user:[],below_user:[]},this.user={user_id:0,username:"",completion_time:0,helps_used:0,position:0,score:0},this.displayDots=!0,this.displayUser=!0,this.hasUserSolvedGrid=!0}ngOnInit(){this.gridId=this.gridId??this.route.snapshot.queryParams.gridId,this.gridId&&this.loadLeaderboard(this.gridId)}ngOnChanges(n){n.gridId&&n.gridId.currentValue&&this.loadLeaderboard(n.gridId.currentValue)}loadLeaderboard(n){this.mojetteService.getMojetteLeaderboard(n).subscribe(r=>{this.leaderboard=r,this.displayDots=!1,r.user&&r.user.user_id?(this.user=r.user,this.displayDots=this.leaderboard.above_user.length>0&&this.leaderboard.above_user[0]?.position!==this.leaderboard.top[this.leaderboard.top.length-1]?.position+1,this.displayUser=this.leaderboard.top[this.leaderboard.top.length-1]?.position<this.user.position):(this.hasUserSolvedGrid=!1,this.displayDots=0===this.leaderboard.top.length)})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(rc),e.rXU(Mt.nX))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-leaderboard-table"]],hostAttrs:[1,"dark-theme"],inputs:{gridId:"gridId"},features:[e.OA$],decls:20,vars:5,consts:[["id","leaderboard-matrix-container",1,"card","primary-card"],[1,"text-center"],[1,"leaderboard-table"],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],["class","above-section",4,"ngIf"],["class","user-section",4,"ngIf"],["class","below-section",4,"ngIf"],[3,"ngClass"],["colspan","4",2,"text-align","center"],[1,"above-section"],[4,"ngFor","ngForOf"],[1,"user-section"],[1,"highlight"],[1,"below-section"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Classement"),e.k0s(),e.j41(3,"table",2)(4,"thead")(5,"tr")(6,"th"),e.EFF(7,"Nom"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Temps"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Indice"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Score"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,cn,9,8,"tr",3),e.k0s(),e.DNE(16,sf,4,0,"tbody",4)(17,af,2,1,"tbody",5)(18,Vd,10,5,"tbody",6)(19,rg,2,1,"tbody",7),e.k0s()()),2&r&&(e.R7$(15),e.Y8G("ngForOf",a.leaderboard.top),e.R7$(),e.Y8G("ngIf",a.displayDots),e.R7$(),e.Y8G("ngIf",a.hasUserSolvedGrid),e.R7$(),e.Y8G("ngIf",a.displayUser&&a.hasUserSolvedGrid),e.R7$(),e.Y8G("ngIf",a.hasUserSolvedGrid))},dependencies:[R.MD,R.YU,R.Sq,R.bT],styles:[".page-scroll{flex:1 1 auto;overflow-y:auto;padding:20px;box-sizing:border-box}#leaderboard-matrix-container{max-width:400px;width:90%;margin:auto!important;overflow:hidden}#leaderboard-matrix-container>h2{margin:1em 5%;font-size:1.8em}#leaderboard-matrix-container>div{margin:0 5% 1em}#leaderboard-matrix-container>.btn-container{margin:0 5%;padding:1em 0;border-top:1px solid var(--card-border)}.leaderboard-table{width:400px;max-width:100%;border-collapse:collapse;color:#fff}.leaderboard-table th,.leaderboard-table td{padding:10px;border-bottom:1px solid rgba(255,255,255,.3);color:#fff}.leaderboard-table th{background:#fff3;color:#fff}.leaderboard-table tr:nth-child(2n){background:#ffffff1a}.highlight td{background:#5604564d;color:#d8b4fe;font-weight:700}\n"],encapsulation:2})}}return l})(),fc=(()=>{class l{constructor(n,r,a){this.router=n,this.mojetteService=r,this.route=a,this.gridId=0,this.goToGridBrowse=()=>{this.router.navigate(["/mojette"])},this.gridId=this.route.snapshot.queryParams.gridId||0}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(rc),e.rXU(Mt.nX))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-leaderboard"]],hostAttrs:[1,"dark-theme"],decls:6,vars:1,consts:[[1,"container-fluid","flex-column","flex-grow-1","page-scroll","no-scrollbar"],[3,"gridId"],[1,"btn-container","d-flex","flex-row","justify-content-center"],[1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.j41(1,"div",0),e.nrm(2,"app-leaderboard-table",1),e.j41(3,"div",2)(4,"button",3),e.bIt("click",function(){return a.goToGridBrowse()}),e.EFF(5," Retour aux grilles "),e.k0s()()()),2&r&&(e.R7$(2),e.Y8G("gridId",a.gridId))},dependencies:[R.MD,S.YN,S.X1,is,Oe,Oi._,lf],encapsulation:2})}}return l})();function og(l,c){if(1&l){const n=e.RV6();e.j41(0,"mat-card-content",5)(1,"div",6)(2,"p"),e.EFF(3,"Un email vous a \xe9t\xe9 envoy\xe9 pour confirmer votre op\xe9ration."),e.k0s(),e.j41(4,"p"),e.EFF(5," V\xe9rifiez votre dossier spam au cas o\xf9 vous ne trouveriez pas l'e-mail de confirmation dans votre bo\xeete de r\xe9ception principale. "),e.k0s(),e.j41(6,"p"),e.EFF(7,"Vous pourrez r\xe9it\xe9rer l'op\xe9ration dans 2 minutes."),e.k0s()(),e.j41(8,"button",7),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.goToPage(""))}),e.EFF(9," Retour \xe0 l'accueil "),e.k0s()()}}function Z0(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1,"L'e-mail est requis."),e.k0s())}function J0(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1,"L'e-mail n'est pas dans le bon format."),e.k0s())}function sg(l,c){if(1&l){const n=e.RV6();e.j41(0,"mat-card-content",8)(1,"div",6)(2,"p"),e.EFF(3," Entrez votre e-mail dans le champ ci-dessous. Un mail vous sera envoy\xe9 pour r\xe9initialiser votre mot de passe. "),e.k0s()(),e.j41(4,"form",9),e.bIt("ngSubmit",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.lostpassword())}),e.j41(5,"mat-form-field",10)(6,"input",11),e.bIt("blur",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.updateErrorMessage("email"))}),e.k0s(),e.DNE(7,Z0,2,0,"mat-error",12)(8,J0,2,0,"mat-error",12),e.k0s(),e.j41(9,"div",13)(10,"button",14),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.goToPage(""))}),e.EFF(11," Retour "),e.k0s(),e.j41(12,"button",15),e.EFF(13," R\xe9cup\xe9rer "),e.k0s()()()()}if(2&l){let n,r;const a=e.XpG();e.R7$(4),e.Y8G("formGroup",a.form),e.R7$(2),e.Y8G("formControl",a.getField("email")),e.R7$(),e.Y8G("ngIf",null==(n=a.getField("email").errors)?null:n.required),e.R7$(),e.Y8G("ngIf",null==(r=a.getField("email").errors)?null:r.pattern)}}let cf=(()=>{class l{constructor(n,r){this.authService=n,this.router=r,this.hasRetrievedPassword=!1,this.form=new S.gE({email:new S.MJ("",[S.k0.required,S.k0.pattern(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)])}),this.getField=a=>this.form.get(a),this.goToPage=a=>this.router.navigate([`/${a}`])}updateErrorMessage(n){}isValidEmail(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}lostpassword(){this.form.invalid||this.hasRetrievedPassword?this.form.markAllAsTouched():this.authService.askPasswordReset(this.getField("email").value).subscribe(n=>{this.hasRetrievedPassword=n})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(yr.u),e.rXU(Mt.Ix))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-lost_password"]],hostAttrs:[1,"dark-theme"],decls:6,vars:2,consts:[[1,"container-fluid","d-flex","flex-column","position-absolute","flex-grow-1","dialog-container","no-scrollbar"],["id","endDialog",1,"dialog-card","d-flex","flex-column"],[1,"register-title"],["class","dialog-content d-flex flex-column","style","overflow: auto",4,"ngIf"],["class","dialog-content","style","overflow: auto",4,"ngIf"],[1,"dialog-content","d-flex","flex-column",2,"overflow","auto"],[1,"modal-body"],["type","button",1,"btn","btn-primary","btn-sm","modal-btn","align-self-end",3,"click"],[1,"dialog-content",2,"overflow","auto"],[1,"d-flex","flex-column",3,"ngSubmit","formGroup"],["appearance","outline",1,"register-form-field","mb-4"],["matInput","","placeholder","Email","name","email","type","email","required","",3,"blur","formControl"],[4,"ngIf"],[1,"modal-actions","d-flex","flex-row","flex-wrap","justify-content-between"],["type","button",1,"btn","btn-secondary","btn-sm","modal-btn",3,"click"],["type","submit",1,"btn","btn-primary","btn-sm","modal-btn"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-card-title",2),e.EFF(3," R\xe9cup\xe9ration de mot de passe "),e.k0s(),e.DNE(4,og,10,0,"mat-card-content",3)(5,sg,14,4,"mat-card-content",4),e.k0s()()),2&r&&(e.R7$(4),e.Y8G("ngIf",a.hasRetrievedPassword),e.R7$(),e.Y8G("ngIf",!a.hasRetrievedPassword))},dependencies:[Fh,R.bT,qs,S.YN,S.qT,S.me,S.BC,S.cb,S.YS,S.X1,S.l_,S.j4,Ye,il,Xe],styles:[".dialog-content[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:.25em 0;font-size:1.1em}.register-title[_ngcontent-%COMP%]{margin-bottom:.5em}mat-card-content[_ngcontent-%COMP%]{margin-top:.5em}.modal-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-bottom:6px}form[_ngcontent-%COMP%]{margin-top:1.5em}mat-form-field[_ngcontent-%COMP%]{margin-bottom:1.5em}"]})}}return l})();var eb=D(980);const ag=["*"];let Ca;function Ea(l){return function tb(){if(void 0===Ca&&(Ca=null,typeof window<"u")){const l=window;void 0!==l.trustedTypes&&(Ca=l.trustedTypes.createPolicy("angular#components",{createHTML:c=>c}))}return Ca}()?.createHTML(l)||l}function hl(l){return Error(`Unable to find icon with the name "${l}"`)}function uf(l){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${l}".`)}function hf(l){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${l}".`)}class Zo{constructor(c,n,r){this.url=c,this.svgText=n,this.options=r}}let fl=(()=>{class l{constructor(n,r,a,h){this._httpClient=n,this._sanitizer=r,this._errorHandler=h,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=a}addSvgIcon(n,r,a){return this.addSvgIconInNamespace("",n,r,a)}addSvgIconLiteral(n,r,a){return this.addSvgIconLiteralInNamespace("",n,r,a)}addSvgIconInNamespace(n,r,a,h){return this._addSvgIconConfig(n,r,new Zo(a,null,h))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,a,h){const p=this._sanitizer.sanitize(e.WPN.HTML,a);if(!p)throw hf(a);const _=Ea(p);return this._addSvgIconConfig(n,r,new Zo("",_,h))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,a){return this._addSvgIconSetConfig(n,new Zo(r,null,a))}addSvgIconSetLiteralInNamespace(n,r,a){const h=this._sanitizer.sanitize(e.WPN.HTML,r);if(!h)throw hf(r);const p=Ea(h);return this._addSvgIconSetConfig(n,new Zo("",p,a))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const r=this._sanitizer.sanitize(e.WPN.RESOURCE_URL,n);if(!r)throw uf(n);const a=this._cachedIconsByUrl.get(r);return a?(0,zt.of)(ml(a)):this._loadSvgIconFromConfig(new Zo(n,null)).pipe((0,xd.M)(h=>this._cachedIconsByUrl.set(r,h)),(0,U.T)(h=>ml(h)))}getNamedSvgIcon(n,r=""){const a=cg(r,n);let h=this._svgIconConfigs.get(a);if(h)return this._getSvgFromConfig(h);if(h=this._getIconConfigFromResolvers(r,n),h)return this._svgIconConfigs.set(a,h),this._getSvgFromConfig(h);const p=this._iconSetConfigs.get(r);return p?this._getSvgFromIconSetConfigs(n,p):(0,Cs.$)(hl(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?(0,zt.of)(ml(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,U.T)(r=>ml(r)))}_getSvgFromIconSetConfigs(n,r){const a=this._extractIconWithNameFromAnySet(n,r);if(a)return(0,zt.of)(a);const h=r.filter(p=>!p.svgText).map(p=>this._loadSvgIconSetFromConfig(p).pipe((0,Sr.W)(_=>{const F=`Loading icon set URL: ${this._sanitizer.sanitize(e.WPN.RESOURCE_URL,p.url)} failed: ${_.message}`;return this._errorHandler.handleError(new Error(F)),(0,zt.of)(null)})));return(0,Jl.p)(h).pipe((0,U.T)(()=>{const p=this._extractIconWithNameFromAnySet(n,r);if(!p)throw hl(n);return p}))}_extractIconWithNameFromAnySet(n,r){for(let a=r.length-1;a>=0;a--){const h=r[a];if(h.svgText&&h.svgText.toString().indexOf(n)>-1){const p=this._svgElementFromConfig(h),_=this._extractSvgIconFromSet(p,n,h.options);if(_)return _}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe((0,xd.M)(r=>n.svgText=r),(0,U.T)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?(0,zt.of)(null):this._fetchIcon(n).pipe((0,xd.M)(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,a){const h=n.querySelector(`[id="${r}"]`);if(!h)return null;const p=h.cloneNode(!0);if(p.removeAttribute("id"),"svg"===p.nodeName.toLowerCase())return this._setSvgAttributes(p,a);if("symbol"===p.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(p),a);const _=this._svgElementFromString(Ea("<svg></svg>"));return _.appendChild(p),this._setSvgAttributes(_,a)}_svgElementFromString(n){const r=this._document.createElement("DIV");r.innerHTML=n;const a=r.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(n){const r=this._svgElementFromString(Ea("<svg></svg>")),a=n.attributes;for(let h=0;h<a.length;h++){const{name:p,value:_}=a[h];"id"!==p&&r.setAttribute(p,_)}for(let h=0;h<n.childNodes.length;h++)n.childNodes[h].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[h].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){const{url:r,options:a}=n,h=a?.withCredentials??!1;if(!this._httpClient)throw function df(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const p=this._sanitizer.sanitize(e.WPN.RESOURCE_URL,r);if(!p)throw uf(r);const _=this._inProgressUrlFetches.get(p);if(_)return _;const M=this._httpClient.get(p,{responseType:"text",withCredentials:h}).pipe((0,U.T)(F=>Ea(F)),(0,eb.j)(()=>this._inProgressUrlFetches.delete(p)),Ce());return this._inProgressUrlFetches.set(p,M),M}_addSvgIconConfig(n,r,a){return this._svgIconConfigs.set(cg(n,r),a),this}_addSvgIconSetConfig(n,r){const a=this._iconSetConfigs.get(n);return a?a.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){const r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let a=0;a<this._resolvers.length;a++){const h=this._resolvers[a](r,n);if(h)return nb(h)?new Zo(h.url,null,h.options):new Zo(h,null)}}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(v.Qq,8),e.KVO(Zl.up),e.KVO(me.q,8),e.KVO(e.zcH))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function ml(l){return l.cloneNode(!0)}function cg(l,c){return l+":"+c}function nb(l){return!(!l.url||!l.options)}const dg=new e.nKC("MAT_ICON_DEFAULT_OPTIONS"),ib=new e.nKC("mat-icon-location",{providedIn:"root",factory:function rb(){const l=(0,e.WQX)(me.q),c=l?l.location:null;return{getPathname:()=>c?c.pathname+c.search:""}}}),ug=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Kr=ug.map(l=>`[${l}]`).join(", "),ob=/^url\(['"]?#(.*?)['"]?\)$/;let mf=(()=>{class l{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,a,h,p,_){this._elementRef=n,this._iconRegistry=r,this._location=h,this._errorHandler=p,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ke.yU.EMPTY,_&&(_.color&&(this.color=this._defaultColor=_.color),_.fontSet&&(this.fontSet=_.fontSet)),a||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const a=n.childNodes[r];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&a.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(a=>a.length>0);this._previousFontSetClass.forEach(a=>n.classList.remove(a)),r.forEach(a=>n.classList.add(a)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const r=this._elementsWithExternalReferences;r&&r.forEach((a,h)=>{a.forEach(p=>{h.setAttribute(p.name,`url('${n}#${p.value}')`)})})}_cacheChildrenWithExternalReferences(n){const r=n.querySelectorAll(Kr),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let h=0;h<r.length;h++)ug.forEach(p=>{const _=r[h],M=_.getAttribute(p),F=M?M.match(ob):null;if(F){let Y=a.get(_);Y||(Y=[],a.set(_,Y)),Y.push({name:p,value:F[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[r,a]=this._splitIconName(n);r&&(this._svgNamespace=r),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,r).pipe((0,W.s)(1)).subscribe(h=>this._setSvgElement(h),h=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${a}! ${h.message}`))})}}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.aKT),e.rXU(fl),e.kS0("aria-hidden"),e.rXU(ib),e.rXU(e.zcH),e.rXU(dg,8))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,a){2&r&&(e.BMQ("data-mat-icon-type",a._usingFontIcon()?"font":"svg")("data-mat-icon-name",a._svgName||a.fontIcon)("data-mat-icon-namespace",a._svgNamespace||a.fontSet)("fontIcon",a._usingFontIcon()?a.fontIcon:null),e.HbH(a.color?"mat-"+a.color:""),e.AVh("mat-icon-inline",a.inline)("mat-icon-no-color","primary"!==a.color&&"accent"!==a.color&&"warn"!==a.color))},inputs:{color:"color",inline:[2,"inline","inline",e.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:ag,decls:1,vars:0,template:function(r,a){1&r&&(e.NAR(),e.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return l})();function sb(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Le mot de passe est requis. "),e.k0s())}function ab(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Le mot de passe est trop court (6 min). "),e.k0s())}function lb(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," La confirmation est requise. "),e.k0s())}function pf(l,c){1&l&&(e.j41(0,"mat-error"),e.EFF(1," Les mots de passe ne correspondent pas. "),e.k0s())}let Jo=(()=>{class l{constructor(n,r,a){this.authService=n,this.router=r,this.activatedRoute=a,this.token=null,this.hidePassword=!0,this.form=new S.gE({password:new S.MJ("",[S.k0.required,S.k0.minLength(6)]),passwordConfirm:new S.MJ("",[S.k0.required,S.k0.minLength(6)])}),this.getField=h=>this.form.get(h),this.goToPage=h=>this.router.navigate([`/${h}`])}ngOnInit(){this.activatedRoute.params.subscribe(n=>{this.token=n.token})}updatePassword(){if(this.form.markAllAsTouched(),!this.form.invalid){if(this.form.value.password!==this.form.value.passwordConfirm)return void this.form.get("passwordConfirm")?.setErrors({notSame:!0});this.token&&this.authService.resetPassword(this.token,this.form.value.password).subscribe(n=>{n&&this.router.navigate(["/login"])})}}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(yr.u),e.rXU(Mt.Ix),e.rXU(Mt.nX))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-redefine"]],hostAttrs:[1,"dark-theme"],decls:26,vars:11,consts:[[1,"container-fluid","d-flex","flex-column","position-absolute","flex-grow-1","dialog-container","no-scrollbar"],["id","endDialog",1,"dialog-card","d-flex","flex-column"],[1,"register-title"],[1,"dialog-content",2,"overflow","auto"],[1,"modal-body"],[1,"d-flex","flex-column",3,"ngSubmit","formGroup"],["appearance","outline",1,"register-form-field","mb-4"],["matInput","","placeholder","Mot de passe","name","password","required","",3,"formControl","type"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["matInput","","placeholder","Confirmation Mot de passe","name","passwordConfirm","required","",3,"formControl","type"],[1,"modal-actions","d-flex","flex-row","flex-wrap","justify-content-between"],["type","button",1,"btn","btn-secondary","btn-sm","modal-btn",3,"click"],["type","submit",1,"btn","btn-primary","btn-sm","modal-btn"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-card-title",2),e.EFF(3," R\xe9cup\xe9ration de mot de passe "),e.k0s(),e.j41(4,"mat-card-content",3)(5,"div",4)(6,"p"),e.EFF(7,"Choisissez votre nouveau mot de passe."),e.k0s()(),e.j41(8,"form",5),e.bIt("ngSubmit",function(){return a.updatePassword()}),e.j41(9,"mat-form-field",6),e.nrm(10,"input",7),e.j41(11,"mat-icon",8),e.bIt("click",function(){return a.hidePassword=!a.hidePassword}),e.EFF(12),e.k0s(),e.DNE(13,sb,2,0,"mat-error",9)(14,ab,2,0,"mat-error",9),e.k0s(),e.j41(15,"mat-form-field",6),e.nrm(16,"input",10),e.j41(17,"mat-icon",8),e.bIt("click",function(){return a.hidePassword=!a.hidePassword}),e.EFF(18),e.k0s(),e.DNE(19,lb,2,0,"mat-error",9)(20,pf,2,0,"mat-error",9),e.k0s(),e.j41(21,"div",11)(22,"button",12),e.bIt("click",function(){return a.goToPage("")}),e.EFF(23," Retour "),e.k0s(),e.j41(24,"button",13),e.EFF(25," Modifier "),e.k0s()()()()()()),2&r&&(e.R7$(8),e.Y8G("formGroup",a.form),e.R7$(2),e.Y8G("formControl",a.getField("password"))("type",a.hidePassword?"password":"text"),e.R7$(2),e.SpI(" ",a.hidePassword?"visibility_off":"visibility"," "),e.R7$(),e.Y8G("ngIf",a.getField("password").hasError("required")),e.R7$(),e.Y8G("ngIf",a.getField("password").hasError("minlength")),e.R7$(2),e.Y8G("formControl",a.getField("passwordConfirm"))("type",a.hidePassword?"password":"text"),e.R7$(2),e.SpI(" ",a.hidePassword?"visibility_off":"visibility"," "),e.R7$(),e.Y8G("ngIf",a.getField("passwordConfirm").hasError("required")),e.R7$(),e.Y8G("ngIf",a.getField("passwordConfirm").hasError("notSame")))},dependencies:[Fh,R.bT,qs,S.YN,S.qT,S.me,S.BC,S.cb,S.YS,S.X1,S.l_,S.j4,Ye,il,mf,Xe],styles:[".dialog-content[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:.25em 0;font-size:1.1em}.register-title[_ngcontent-%COMP%]{margin-bottom:.5em}mat-card-content[_ngcontent-%COMP%]{margin-top:.5em}.modal-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-bottom:6px}mat-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);cursor:pointer}form[_ngcontent-%COMP%]{margin-top:1.5em}mat-form-field[_ngcontent-%COMP%]{margin-bottom:1.5em}"]})}}return l})(),gf=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-mentions-legales"]],hostAttrs:[1,"dark-theme"],decls:161,vars:0,consts:[[1,"text-white","p-5","overflow-auto","bg-dark"],[1,"text-center"],["href","https://www.ppmoj.fr"],["href","mailto:contact@ppmoj.fr"],["href","https://www.o2switch.fr/"],["href","http://www.cnil.fr/"],["href","/conditions-generales-de-vente"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.j41(1,"div",0)(2,"h1",1),e.EFF(3,"MENTIONS L\xc9GALES"),e.k0s(),e.j41(4,"h2"),e.EFF(5,"ARTICLE 1 \u2013 Identit\xe9"),e.k0s(),e.j41(6,"p"),e.EFF(7," Le site internet "),e.j41(8,"a",2),e.EFF(9,"https://www.ppmoj.fr/"),e.k0s(),e.EFF(10," (\xab le Site \xbb) est \xe9dit\xe9 par la soci\xe9t\xe9 "),e.j41(11,"strong"),e.EFF(12,"BARNSDEAL"),e.k0s(),e.EFF(13,", soci\xe9t\xe9 par actions simplifi\xe9e, au capital de 30 000,00 euros, dont le si\xe8ge est sis 70, Rue des Armateurs, 85440 TALMONT-SAINT-HILAIRE, immatricul\xe9e au Registre du Commerce et des Soci\xe9t\xe9s de LA ROCHE SUR YON, sous le num\xe9ro "),e.j41(14,"strong"),e.EFF(15,"SIREN 939 636 502 RCS LA ROCHE SUR YON"),e.k0s(),e.EFF(16," ; Num\xe9ro de TVA intracommunautaire : "),e.j41(17,"strong"),e.EFF(18,"FR84 939 636 502"),e.k0s(),e.EFF(19,". "),e.k0s(),e.j41(20,"p"),e.EFF(21," Pour contacter rapidement BARNSDEAL :"),e.nrm(22,"br"),e.EFF(23," T\xe9l\xe9phone : "),e.j41(24,"em"),e.EFF(25,"non communiqu\xe9"),e.k0s(),e.nrm(26,"br"),e.EFF(27," Mail : "),e.j41(28,"a",3),e.EFF(29,"contact@ppmoj.fr"),e.k0s()(),e.j41(30,"h2"),e.EFF(31,"ARTICLE 2 \u2013 H\xe9bergement"),e.k0s(),e.j41(32,"p"),e.EFF(33," L\u2019h\xe9bergement du Site est assur\xe9 par : la soci\xe9t\xe9 "),e.j41(34,"strong"),e.EFF(35,"O2SWITCH"),e.k0s(),e.EFF(36,", soci\xe9t\xe9 par actions simplifi\xe9e, au capital de 100 000,00 euros, dont le si\xe8ge social est sis Chemin des Pardiaux, 63000 CLERMONT-FERRAND, immatricul\xe9e au Registre du Commerce et des Soci\xe9t\xe9s de CLERMONT-FERRAND, sous le num\xe9ro "),e.j41(37,"strong"),e.EFF(38,"SIREN 510 909 807 RCS CLERMONT-FERRAND"),e.k0s(),e.EFF(39,", "),e.j41(40,"a",4),e.EFF(41,"https://www.o2switch.fr/"),e.k0s(),e.EFF(42,". "),e.k0s(),e.j41(43,"h2"),e.EFF(44,"ARTICLE 3 \u2013 Droit applicable"),e.k0s(),e.j41(45,"p"),e.EFF(46," Le Site "),e.j41(47,"a",2),e.EFF(48,"https://www.ppmoj.fr/"),e.k0s(),e.EFF(49,", les CGV ainsi que les op\xe9rations d\u2019achat et de vente qui en d\xe9coulent sont r\xe9gies par le droit fran\xe7ais. Ils sont r\xe9dig\xe9s en langue fran\xe7aise. Dans le cas o\xf9 ils seraient traduits en une ou plusieurs langues, seul le texte fran\xe7ais ferait foi en cas de litige. "),e.k0s(),e.j41(50,"h2"),e.EFF(51,"ARTICLE 4 \u2013 Protection des donn\xe9es personnelles"),e.k0s(),e.j41(52,"h3"),e.EFF(53,"4.1 \u2013 Collecte des donn\xe9es"),e.k0s(),e.j41(54,"p"),e.EFF(55," De fa\xe7on g\xe9n\xe9rale, les donn\xe9es \xe0 caract\xe8re personnel de l\u2019utilisateur sont collect\xe9es par BARNSDEAL, qui s\u2019occupe du traitement desdites donn\xe9es. Toutefois, lors de sa visite sur le Site, l\u2019utilisateur peut voir ses donn\xe9es collect\xe9es par d\u2019autres soci\xe9t\xe9s (notamment celle \xe9ditant certains cookies \xe9nonc\xe9s \xe0 l\u2019article 5 des pr\xe9sentes). "),e.k0s(),e.j41(56,"h3"),e.EFF(57,"4.2 \u2013 Types de donn\xe9es collect\xe9es"),e.k0s(),e.j41(58,"h4"),e.EFF(59,"4.2.1 \u2013 G\xe9n\xe9ralit\xe9s"),e.k0s(),e.j41(60,"p"),e.EFF(61," Les donn\xe9es \xe0 caract\xe8re personnel collect\xe9es par BARNSDEAL sont le nom, les pr\xe9noms, l\u2019adresse, la date de naissance de l\u2019utilisateur, ses coordonn\xe9es, les informations relatives \xe0 son compte, son e-mail, son mot de passe et son pseudo, son historique de commande, sans que cette liste ne soit exhaustive. "),e.k0s(),e.j41(62,"h4"),e.EFF(63,"4.2.2 \u2013 Le cas des r\xe9seaux sociaux"),e.k0s(),e.j41(64,"p"),e.EFF(65," Afin de d\xe9velopper une relation forte avec ses Clients, BARNSDEAL a recours aux r\xe9seaux sociaux (Facebook, Instagram, LinkedIn, Tiktok, ...) sans que cette liste ne soit exhaustive. Sur ces plateformes, BARNSDEAL partage du contenu et propose aux personnes qui la suivent des offres publicitaires cibl\xe9es. Par cons\xe9quent, l\u2019utilisation des r\xe9seaux sociaux par les utilisateurs pour interagir avec BARNSDEAL est susceptible d\u2019entra\xeener des \xe9changes de donn\xe9es entre BARNSDEAL et lesdits r\xe9seaux sociaux. Ainsi, BARNSDEAL vous recommande de consulter les politiques de gestion des donn\xe9es personnelles des diff\xe9rents r\xe9seaux sociaux afin de prendre connaissance de la r\xe9cup\xe9ration et du traitement desdites donn\xe9es effectu\xe9s par ces r\xe9seaux sociaux. "),e.k0s(),e.j41(66,"h3"),e.EFF(67,"4.3 \u2013 Finalit\xe9s de la collecte"),e.k0s(),e.j41(68,"p"),e.EFF(69," Les donn\xe9es sont collect\xe9es par BARNSDEAL directement aupr\xe8s des utilisateurs lorsque ces derniers cr\xe9ent leur compte client, mais \xe9galement lorsqu\u2019ils effectuent des achats en ligne. Toutefois, conform\xe9ment \xe0 dispositions du R\xe8glement g\xe9n\xe9ral sur la protection des donn\xe9es (ci-apr\xe8s le \xab RGPD \xbb), BARNSDEAL ne collecte les donn\xe9es des utilisateurs qu\u2019en vertu de l\u2019ex\xe9cution d\u2019un contrat (gestion des commandes et acc\xe8s aux formations) ; l\u2019ex\xe9cution d\u2019une obligation l\xe9gale ; si elle a un int\xe9r\xeat l\xe9gitime (pr\xe9vention de la fraude ou partage des donn\xe9es au sein du groupe) ainsi que lorsque l\u2019utilisateur a donn\xe9 son consentement. "),e.k0s(),e.j41(70,"h3"),e.EFF(71,"4.4 \u2013 Transmission des donn\xe9es collect\xe9es"),e.k0s(),e.j41(72,"p"),e.EFF(73," Les donn\xe9es des utilisateurs du Site sont transmises au site h\xe9bergeur ainsi qu\u2019aux \xe9ventuels sous-traitants de BARNSDEAL, selon les instructions de cette derni\xe8re. BARNSDEAL fait notamment appel \xe0 des sous-traitants pour le paiement s\xe9curis\xe9 sur le Site ainsi que la r\xe9alisation des op\xe9rations de maintenance et/ou de d\xe9veloppements techniques du Site. "),e.k0s(),e.j41(74,"h3"),e.EFF(75,"4.5 \u2013 Destination des donn\xe9es"),e.k0s(),e.j41(76,"p"),e.EFF(77," Les donn\xe9es \xe0 caract\xe8re personnel des utilisateurs peuvent \xeatre transmises \xe0 des soci\xe9t\xe9s situ\xe9es dans des pays hors de l\u2019Union Europ\xe9enne (ci-apr\xe8s UE), et ce moyennant le respect de l\u2019article 45 et suivants du RGPD. Si tel est le cas, l\u2019utilisateur en sera inform\xe9 et les garanties prises afin de s\xe9curiser les donn\xe9es lui seront pr\xe9cis\xe9es. "),e.k0s(),e.j41(78,"h3"),e.EFF(79,"4.6 \u2013 Temps de conservation des donn\xe9es collect\xe9es"),e.k0s(),e.j41(80,"p"),e.EFF(81," Les donn\xe9es sont conserv\xe9es pendant la dur\xe9e n\xe9cessaire \xe0 l\u2019ex\xe9cution du contrat et conform\xe9ment aux obligations l\xe9gales. Le Client est inform\xe9 que ses donn\xe9es peuvent \xeatre conserv\xe9es jusqu\u2019\xe0 3 ans \xe0 compter de la fin du contrat. Le cas \xe9ch\xe9ant, le point de d\xe9part de cette conservation est : "),e.k0s(),e.j41(82,"ul")(83,"li"),e.EFF(84,"La cr\xe9ation de leur compte sur le Site pour les nouveaux Clients (n\u2019ayant jamais effectu\xe9 d\u2019achat sur le Site) ;"),e.k0s(),e.j41(85,"li"),e.EFF(86,"Le dernier achat effectu\xe9 sur le Site pour les Clients ayant effectu\xe9 au moins un achat."),e.k0s()(),e.j41(87,"p"),e.EFF(88," Certains types de traitement peuvent faire l\u2019objet d\u2019une conservation des donn\xe9es sp\xe9cifiques. En ce sens, les factures li\xe9es aux achats sont conserv\xe9es durant 10 ans. Pour les Clients ayant enregistr\xe9 leurs coordonn\xe9es bancaires apr\xe8s une commande, celles-ci sont enregistr\xe9es chez nos prestataires de paiement. "),e.k0s(),e.j41(89,"h2"),e.EFF(90,"ARTICLE 5 \u2013 Les cookies"),e.k0s(),e.j41(91,"p"),e.EFF(92," Le Site peut \xe9ventuellement recourir aux techniques de \xab cookies \xbb. Un cookie est un petit fichier texte enregistr\xe9 sur le disque dur de l\u2019ordinateur, tablette ou mobile de l\u2019utilisateur \xe0 la demande du serveur g\xe9rant le Site. Celuici contient des informations sur la navigation effectu\xe9e sur les pages du Site. Son enregistrement sur le disque dur ne donne aucunement lieu \xe0 la divulgation d\u2019informations personnelles concernant l\u2019utilisateur. Cette technologie vise \xe0 assurer le bon fonctionnement du site en enregistrant les informations de connexion de l\u2019utilisateur lors de sa navigation sur le Site. D\xe8s lors qu\u2019ils ne sont pas n\xe9cessaires au fonctionnement du Site, les cookies n\xe9cessitent le consentement de l\u2019utilisateur. Si l\u2019utilisateur donne son accord, ce dernier est valable pour une dur\xe9e de 13 mois maximum. Une fois cette dur\xe9e exp\xe9di\xe9e, les donn\xe9es collect\xe9es seront supprim\xe9es et l\u2019autorisation de l\u2019utilisateur sera redemand\xe9e \xe0 nouveau sur le Site. BARNSDEAL vous invite \xe0 vous r\xe9f\xe9rer \xe0 sa \xab Politique de cookie \xbb "),e.k0s(),e.j41(93,"h2"),e.EFF(94,"ARTICLE 6 \u2013 Sollicitations commerciales"),e.k0s(),e.j41(95,"p"),e.EFF(96," BARNSDEAL se r\xe9serve le droit d\u2019utiliser vos donn\xe9es afin de vous adresser des publicit\xe9s cibl\xe9es, que ce soit par mail, sms, courrier postal ainsi que sur les r\xe9seaux sociaux (sans que cette liste ne soit exhaustive). Concernant l\u2019envoi de prospection commerciale par voie \xe9lectronique (e-mail ou SMS), BARNSDEAL respecte les dispositions de la directive 2002/58/CE du 12 juillet 2022 et recueille le consentement express de l\u2019Utilisateur en amont. En effet, lors de la cr\xe9ation de son compte sur le Site, le consentement de l\u2019Utilisateur sera demand\xe9 concernant la r\xe9ception (par mails ou SMS) des offres commerciales de BARNSDEAL et/ou de ses partenaires auxquels les coordonn\xe9es de l\u2019utilisateur pourraient \xeatre transmises. En l\u2019absence de consentement, aucune sollicitation commerciale par voie \xe9lectronique ne pourra avoir lieu. "),e.k0s(),e.j41(97,"h2"),e.EFF(98,"ARTICLE 7 \u2013 Droits relatifs \xe0 ces donn\xe9es"),e.k0s(),e.j41(99,"p"),e.EFF(100," Conform\xe9ment \xe0 la r\xe9glementation applicable, l\u2019utilisateur dispose d'un droit d'acc\xe8s, de rectification, d\u2019opposition et d'effacement de vos donn\xe9es, d\u2019opposition au profilage, \xe0 la limitation du traitement, au retrait du consentement et de portabilit\xe9 des donn\xe9es le concernant, ainsi que du droit de s'opposer au traitement pour motif l\xe9gitime, droits qu'il peut exercer en s'adressant au responsable de traitement \xe0 l'adresse postale suivante : "),e.j41(101,"strong"),e.EFF(102,"BARNSDEAL, 70, Rue des Armateurs, 85440 TALMONT-SAINT-HILAIRE"),e.k0s(),e.EFF(103,". La demande doit contenir des informations permettant d\u2019identifier l\u2019utilisateur (nom, pr\xe9nom, adresse, r\xe9f\xe9rence client ainsi qu\u2019un justificatif d\u2019identit\xe9, sans que cette liste soit exhaustive). Toute rectification ou effacement de donn\xe9es \xe0 caract\xe8re personnel ou toute limitation du traitement effectu\xe9 par BARNSDEAL sera notifi\xe9 par la Soci\xe9t\xe9 \xe0 l\u2019utilisateur concern\xe9. En cas de violation \xe0 la r\xe9glementation applicable en mati\xe8re de protection des donn\xe9es personnelles, de non-r\xe9ponse ou de r\xe9ponse non-suffisante, l\u2019utilisateur peut adresser une r\xe9clamation \xe0 la CNIL ("),e.j41(104,"a",5),e.EFF(105,"www.cnil.fr"),e.k0s(),e.EFF(106,"). "),e.k0s(),e.j41(107,"h2"),e.EFF(108,"ARTICLE 8 \u2013 S\xe9curit\xe9"),e.k0s(),e.j41(109,"p"),e.EFF(110," BARNSDEAL prend toutes les pr\xe9cautions utiles afin de pr\xe9server l\u2019int\xe9grit\xe9 des donn\xe9es, leur confidentialit\xe9 ainsi que leur s\xe9curit\xe9, notamment en emp\xeachant qu\u2019elles soient endommag\xe9es, d\xe9form\xe9es ou que des tiers nonautoris\xe9s y ait acc\xe8s. Ainsi, lorsque BARNSDEAL d\xe9tecte une violation des donn\xe9es \xe0 caract\xe8re personnel, BARNSDEAL informe l\u2019utilisateur concern\xe9 de cette violation dans les meilleurs d\xe9lais. "),e.k0s(),e.j41(111,"h2"),e.EFF(112,"ARTICLE 9 \u2013 Liens hypertexte"),e.k0s(),e.j41(113,"h3"),e.EFF(114,"9.1 \u2013 Dirigeant vers le Site"),e.k0s(),e.j41(115,"p"),e.EFF(116," La mise en place de liens hypertexte n\u2019est aucunement conditionn\xe9e \xe0 l\u2019autorisation pr\xe9alable de BARNSDEAL, \xe0 conditions que : "),e.k0s(),e.j41(117,"ul")(118,"li"),e.EFF(119,"Le lien hypertexte ne se trouvent pas sur un site ou article discr\xe9ditant ou portant atteinte \xe0 BARNSDEAL ; "),e.k0s(),e.j41(120,"li"),e.EFF(121,"BARNSDEAL soit inform\xe9 de sa mise en place dans un d\xe9lai de 15 jours ouvrables suivant ladite mise en place. Si tel n\u2019est pas le cas, BARNSDEAL se r\xe9serve le droit de demander la suppression du lien hypertexte. "),e.k0s()(),e.j41(122,"h3"),e.EFF(123,"9.2 \u2013 Pr\xe9sents sur le Site"),e.k0s(),e.j41(124,"p"),e.EFF(125," Des liens hypertextes peuvent \xeatre pr\xe9sents sur le site. L'utilisateur est inform\xe9 qu\u2019en cliquant sur ces liens, il sortira du site BARNSDEAL. Ce dernier n\u2019a pas de contr\xf4le sur les pages web sur lesquelles aboutissent ces liens et ne saurait, en aucun cas, \xeatre responsable de leur contenu. "),e.k0s(),e.j41(126,"h2"),e.EFF(127,"ARTICLE 10 \u2013 Droits de propri\xe9t\xe9 intellectuelle"),e.k0s(),e.j41(128,"p"),e.EFF(129," BARNSDEAL informe les utilisateurs que le Site comporte des \xe9l\xe9ments qui sont prot\xe9g\xe9s par les droits d\u2019auteur, dont les photographies, images, textes, son, slogans (sans que la liste ne soit exhaustive), par la l\xe9gislation sur les dessins et mod\xe8les ainsi que la l\xe9gislation sur les marques. Les \xe9l\xe9ments prot\xe9g\xe9s sont la propri\xe9t\xe9 de BARNSDEAL ou de tiers ayant autoris\xe9 BARNSDEAL \xe0 les exploiter. Par cons\xe9quent, sauf exception pr\xe9vues \xe0 l\u2019article L. 122-5 du Code de la Propri\xe9t\xe9 intellectuelle, les utilisateurs s\u2019interdisent de copier, reproduire, adapter, modifier (sans que cette liste ne soit exhaustive) les \xe9l\xe9ments cit\xe9s cidessus, faisant l\u2019objet d\u2019une protection. "),e.k0s(),e.j41(130,"h2"),e.EFF(131,"ARTICLE 11 \u2013 Limitation de responsabilit\xe9"),e.k0s(),e.j41(132,"p"),e.EFF(133," Les sources des informations diffus\xe9es sur le Site sont r\xe9put\xe9es fiables mais le site ne garantit pas qu\u2019il soit exempt de d\xe9fauts, d\u2019erreurs ou d\u2019omissions. Les informations communiqu\xe9es sont pr\xe9sent\xe9es \xe0 titre indicatif et g\xe9n\xe9ral sans valeur contractuelle. Malgr\xe9 des mises \xe0 jour r\xe9guli\xe8res, BARNSDEAL ne peut \xeatre tenu responsable de la modification des dispositions administratives et juridiques survenant apr\xe8s la publication. De m\xeame, BARNSDEAL ne peut \xeatre tenu responsable de l\u2019utilisation et de l\u2019interpr\xe9tation de l\u2019information contenue dans ce site. L'utilisateur s'assure de garder son mot de passe secret. Toute divulgation du mot de passe, quelle que soit sa forme, est interdite. Il assume les risques li\xe9s \xe0 l'utilisation de son identifiant et mot de passe. Le site d\xe9cline toute responsabilit\xe9. BARNSDEAL ne pourra \xeatre tenu responsable des dommages, directs ou indirects, quelles qu\u2019en soient les causes, origines, nature ou cons\xe9quences, r\xe9sultant de l\u2019utilisation du Site. La responsabilit\xe9 de BARNSDEAL ne peut \xeatre engag\xe9e en cas de force majeure ou du fait impr\xe9visible et insurmontable d'un tiers (action frauduleuse ou malveillante, etc.). "),e.k0s(),e.j41(134,"h2"),e.EFF(135,"ARTICLE 12 \u2013 Mise \xe0 jour"),e.k0s(),e.j41(136,"p"),e.EFF(137," Les mentions l\xe9gales pouvant \xeatre amen\xe9es \xe0 \xeatre modifi\xe9es ou mise \xe0 jour, il revient \xe0 l\u2019utilisateur, qui navigue sur le Site, de consulter lesdites Mentions \xe0 chaque connexion. BARNSDEAL se r\xe9serve \xe9galement le droit de corriger et modifier le contenu du Site \xe0 tout moment et sans pr\xe9avis. "),e.k0s(),e.j41(138,"h2"),e.EFF(139,"ARTICLE 13 \u2013 Reproduction sur support papier"),e.k0s(),e.j41(140,"p"),e.EFF(141,"Sans pr\xe9judice de l\u2019application de l\u2019article 10 des pr\xe9sentes, toute reproduction des pages de ce site sur un support papier est autoris\xe9e, \xe0 conditions de respecter les \xe9l\xe9ments suivants : "),e.k0s(),e.j41(142,"ul")(143,"li"),e.EFF(144,"Gratuit\xe9 de la diffusion ;"),e.k0s(),e.j41(145,"li"),e.EFF(146,"Respect de l\u2019int\xe9grit\xe9 des documents reproduits (interdiction de modifier, ou alt\xe9rer le document de quelque fa\xe7on que ce soit) ; "),e.k0s(),e.j41(147,"li"),e.EFF(148,"Discr\xe9diter ou porter atteinte \xe0 l\u2019image de marque de la Soci\xe9t\xe9 ; "),e.k0s(),e.j41(149,"li"),e.EFF(150,"Citation explicite du site "),e.j41(151,"a",2),e.EFF(152,"https://www.ppmoj.fr/"),e.k0s(),e.EFF(153," comme source, et pr\xe9cision que les droits de reproduction sont r\xe9serv\xe9s et strictement limit\xe9s.\n"),e.k0s()(),e.j41(154,"h2"),e.EFF(155,"ARTICLE 14 \u2013 CGV"),e.k0s(),e.j41(156,"p"),e.EFF(157," Conform\xe9ment aux obligations l\xe9gales, BARNSDEAL est dot\xe9e de Conditions G\xe9n\xe9rales de Vente (ci-apr\xe8s \xab CGV \xbb) que l\u2019utilisateur peut librement et gratuitement consult\xe9 sur le Site ou en cliquant "),e.j41(158,"a",6),e.EFF(159,"ici"),e.k0s(),e.EFF(160,". "),e.k0s()())},dependencies:[Oi._],encapsulation:2})}}return l})();function cb(l,c){1&l&&e.nrm(0,"div",2)}const jE=new e.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let vf=(()=>{class l{constructor(n,r,a,h,p){this._elementRef=n,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=h,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new e.bkB,this._mode="determinate",this._transitionendHandler=_=>{0===this.animationEnd.observers.length||!_.target||!_.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===h,p&&(p.color&&(this.color=this._defaultColor=p.color),this.mode=p.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(n){this._color=n}get value(){return this._value}set value(n){this._value=hg(n||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(n){this._bufferValue=hg(n||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(n){this._mode=n,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(e.bc$,8),e.rXU(jE,8))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(r,a){2&r&&(e.BMQ("aria-valuenow",a._isIndeterminate()?null:a.value)("mode",a.mode),e.HbH("mat-"+a.color),e.AVh("_mat-animation-noopable",a._isNoopAnimation)("mdc-linear-progress--animation-ready",!a._isNoopAnimation)("mdc-linear-progress--indeterminate",a._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",e.Udg],bufferValue:[2,"bufferValue","bufferValue",e.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(r,a){1&r&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.DNE(2,cb,1,0,"div",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"span",4),e.k0s(),e.j41(5,"div",5),e.nrm(6,"span",4),e.k0s()),2&r&&(e.R7$(),e.xc7("flex-basis",a._getBufferBarFlexBasis()),e.R7$(),e.vxM("buffer"===a.mode?2:-1),e.R7$(),e.xc7("transform",a._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}}return l})();function hg(l,c=0,n=100){return Math.max(c,Math.min(n,l))}let ub=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[q.yE]})}}return l})();var pl=function(l){return l.diamond="diamond",l.circle="circle",l.triangle="triangle",l}(pl||{});const hb=[{descriptionTitle:"Tutoriel Mojette",description:"Bienvenue dans le tutoriel du Jeu Mojette.",instructions:"",image:"",gridVisible:!1,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[],bins:[]},{descriptionTitle:"R\xe8gle n\xb01:",description:"Chaque case contient un chiffre de 0 \xe0 9.",instructions:"Avant de commencer, les 3 r\xe8gles du Jeu Mojette",image:"",gridVisible:!0,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[{tileId:18,value:11,color:"red"},{tileId:23,value:8,color:"green"}],bins:[]},{descriptionTitle:"R\xe8gle n\xb02:",description:"Chaque projection, qu\u2019elle soit <b>verticale (90\xb0)</b> ou diagonale (45\xb0 ou 135\xb0), indique la somme des chiffres pr\xe9sents dans les cases qu\u2019elle traverse.",instructions:"Avant de commencer, les 3 r\xe8gles du Jeu Mojette",image:"tuto1.png",gridVisible:!1,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[],bins:[]},{descriptionTitle:"R\xe8gle n\xb02:",description:"Chaque projection, qu\u2019elle soit verticale (90\xb0) ou <b>diagonale (45\xb0 ou 135\xb0)</b>, indique la somme des chiffres pr\xe9sents dans les cases qu\u2019elle traverse.",instructions:"Avant de commencer, les 3 r\xe8gles du Jeu Mojette",image:"tuto2.png",gridVisible:!1,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[],bins:[]},{descriptionTitle:"R\xe8gle n\xb02:",description:"Chaque projection, qu\u2019elle soit <b>verticale (90\xb0) ou diagonale (45\xb0 ou 135\xb0)</b>, indique la somme des chiffres pr\xe9sents dans les cases qu\u2019elle traverse.",instructions:"Avant de commencer, les 3 r\xe8gles du Jeu Mojette",image:"tuto3.png",gridVisible:!1,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[],bins:[]},{descriptionTitle:"R\xe8gle n\xb03:",description:"Il ne peut y avoir que trois chiffres diff\xe9rents par grille.",instructions:"Avant de commencer, les 3 r\xe8gles du Jeu Mojette",image:"",gridVisible:!0,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[{tileId:9,value:1,color:"green"},{tileId:15,value:2,color:"green"},{tileId:24,value:3,color:"green"},{tileId:38,value:4,color:"red"}],bins:[]},{descriptionTitle:"Premi\xe8re partie du jeu",description:"Trouver les 3 chiffres qui composent la grille.",instructions:"",image:"",gridVisible:!1,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[],bins:[]},{descriptionTitle:"",description:"",instructions:"Remplir la case violette pour que la somme de la projection soit \xe9gale \xe0 0.",image:"",gridVisible:!0,gridActive:!0,hideBin:!1,tilesToFill:[21],tileNumbers:[],bins:[["down",0]]},{descriptionTitle:"",description:"",instructions:"Remplir la case violette pour que la somme de la projection soit \xe9gale \xe0 0.",image:"",gridVisible:!0,gridActive:!0,hideBin:!1,tilesToFill:[27],tileNumbers:[],bins:[["down",6]]},{descriptionTitle:"",description:"On note que lorsque l\u2019on remplit une case de la grille, chaque projection associ\xe9e (ici, verticale) se calcule automatiquement.",instructions:"",image:"",gridVisible:!0,gridActive:!1,hideBin:!1,tilesToFill:[],bins:[["down",0],["down",6]],tileNumbers:[]},{descriptionTitle:"",description:"",instructions:"Remplir les cases violettes pour que la somme de la projection soit \xe9gale \xe0 0.",image:"",gridVisible:!0,gridActive:!0,hideBin:!1,tilesToFill:[11,18,25,32,39],tileNumbers:[],bins:[["down",4]]},{descriptionTitle:"",description:"Il existe 3 possibilit\xe9s pour remplir les cases violettes en prenant en compte la r\xe8gle n\xb01 (chaque case contient un chiffre de 0 \xe0 9). <br> 18 = 8+8+2 <br> 18 = 9+9+0 <br> 18 = 6+6+6",instructions:"",image:"",gridVisible:!0,gridActive:!1,hideBin:!1,tilesToFill:[15,22,29],tileNumbers:[],bins:[["down",1]]},{descriptionTitle:"18 = 8 + 8 + 2",description:"Cette solution n\u2019est pas possible, car elle ne respecte par la r\xe8gle n\xb03 du jeu (pas plus de 3 chiffres par grille). Or, on a d\xe9j\xe0 trouv\xe9s les chiffres 0 et 1.",instructions:"",image:"",gridVisible:!0,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[{tileId:15,value:8,color:"red"},{tileId:22,value:8,color:"red"},{tileId:29,value:2,color:"red"}],bins:[["down",1]]},{descriptionTitle:"18=9+9+0 \n 18=6+6+6",description:"Les deux solutions restantes semblent possibles car elles respectent les r\xe8gles n\xb01 et n\xb03. Il va donc falloir regarder au niveau de la r\xe8gle n\xb02 pour trouver la bonne solution.",instructions:"",image:"",gridVisible:!0,gridActive:!1,hideBin:!1,tilesToFill:[15,22,29],tileNumbers:[],bins:[["down",1]]},{descriptionTitle:"RAPPEL DE LA R\xe8gle n\xb02",description:"Chaque projection, qu\u2019elle soit verticale (90\xb0) ou diagonale (45\xb0 ou 135\xb0), indique la somme des chiffres pr\xe9sents dans les cases qu\u2019elle traverse.",instructions:"",image:"tuto3.png",gridVisible:!1,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[],bins:[]},{descriptionTitle:"18 = 9 + 9 + 0",description:"Cette solution n\u2019est pas possible, car elle imposerait qu\u2019au moins une des sommes des projections diagonales soit >= \xe0 9. Or ce n\u2019est pas le cas ici.",instructions:"",image:"",gridVisible:!0,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[{tileId:15,value:9,color:"red"},{tileId:22,value:9,color:"red"},{tileId:29,value:0,color:"red"}],bins:[["down",1],["left",4],["left",5],["left",6],["right",0],["right",1],["right",2]]},{descriptionTitle:"18 = 6 + 6 + 6",description:"Cette solution est donc la bonne car elle respecte les 3 r\xe8gles du Jeu Mojette. Remplir les cases violettes pour que la somme de la projection (18) soit \xe9gale \xe0 0.",instructions:"Remplir les cases violettes pour que la somme de la projection soit \xe9gale \xe0 0.",gridVisible:!0,image:"",gridActive:!0,hideBin:!1,tilesToFill:[15,22,29],tileNumbers:[],bins:[["down",1]]},{descriptionTitle:"",description:"Comme expliqu\xe9 pr\xe9c\xe9demment dans le tutoriel, on remarque que les sommes des projections se mettent \xe0 jour en fonction des donn\xe9es entr\xe9es dans les cases de la grille.",instructions:"",image:"",gridVisible:!0,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[],bins:[["down",1],["left",4],["left",5],["left",6],["right",0],["right",1],["right",2]]},{descriptionTitle:"",description:"\xc0 ce stade on a obtenu les 3 chiffres qui composent la grille (0; 1; 6). On doit donc pouvoir remplir facilement le reste de la grille.",instructions:"",image:"",gridVisible:!0,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[],bins:[]},{descriptionTitle:"Finir de remplir la grille",description:"",instructions:"Remplir les cases violettes pour que la somme des projections soit \xe9gale \xe0 0.",image:"",gridVisible:!0,gridActive:!0,hideBin:!1,tilesToFill:[10,16],tileNumbers:[],bins:[]},{descriptionTitle:"Finir de remplir la grille",description:"",instructions:"Remplir les cases violettes pour que la somme des projections soit \xe9gale \xe0 0.",image:"",gridVisible:!0,gridActive:!0,hideBin:!1,tilesToFill:[17,23,24,31],tileNumbers:[],bins:[]},{descriptionTitle:"Finir de remplir la grille",description:"",instructions:"Remplir les cases violettes pour que la somme des projections soit \xe9gale \xe0 0.",image:"",gridVisible:!0,gridActive:!0,hideBin:!1,tilesToFill:[3,19,26,30,33,38],tileNumbers:[],bins:[]},{descriptionTitle:"Finir de remplir la grille",description:"",instructions:"Remplir les cases violettes pour que la somme des projections soit \xe9gale \xe0 0.",image:"",gridVisible:!0,gridActive:!0,hideBin:!1,tilesToFill:[9,37],tileNumbers:[],bins:[]},{descriptionTitle:"F\xe9licitations !",description:"Vous avez termin\xe9 le tutoriel du Jeu Mojette !",image:"",instructions:"",gridVisible:!1,gridActive:!1,hideBin:!1,tilesToFill:[],tileNumbers:[],bins:[]}],gl=["matriceContainer"],wa=l=>[l];function bf(l,c){if(1&l&&e.nrm(0,"img",41),2&l){const n=e.XpG();e.Y8G("src","assets/mojette-tutorial/"+n.tutorialSteps[n.STEP].image,e.B4B)}}function yf(l,c){if(1&l&&(e.j41(0,"div",42),e.nrm(1,"p",43),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.Y8G("innerHTML",n.tutorialSteps[n.STEP].description,e.npT)}}function fb(l,c){if(1&l&&(e.j41(0,"div",44),e.EFF(1),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.SpI(" ",n.tutorialSteps[n.STEP].instructions," ")}}function Ud(l,c){1&l&&(e.j41(0,"div",45),e.EFF(1,"Valeurs incorrectes"),e.k0s())}function Ys(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.nextStep())}),e.EFF(1," Suivant \u2192 "),e.k0s()}}function _l(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.endGrid())}),e.EFF(1," Aller au jeu "),e.k0s()}}function fg(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.skipTutorial())}),e.EFF(1," Passer le tutoriel "),e.k0s()}}let mb=(()=>{class l{constructor(n,r,a){this.router=n,this.authService=r,this.mojetteService=a,this.STEP=0,this.mojettes=0,this.lastActiveTiles=[],this.lastActiveBins=[],this.lastValueTiles=[],this.solution=[0,1,1,0,6,1,0,0,1,0,6,0,0,0,1,1,6,1,0,0,1,0,0,0],this.validStep=!0,this.tutorialSteps=hb,this.rerender=!1,this.hasStarted=!1,this.timeElapsed=0,this.hasBeenSolved=!1,this.isHelpOpen=!1,this.selectedLevel="1",this.showFinishedGrid=!1,this.dailyGridDays=[],this.todayDayNumber=(new Date).getDate(),this.dailyGridCompletionStatus={},this.isCurrentGridDaily=!1,this.availableGridsByLevel={1:[],2:[],3:[]},this.currentNbGrid=[],this.nextNbGrid=[],this.reward=0,this.helpsUsed=0,this.helpCost=0,this.gridLevel=-1,this.gridId=0,this.height=0,this.width=0,this.gridShape=null,this.arrayBox=[],this.bins={down:[],left:[],right:[]},this.levelName=["Facile","Moyen","Difficile"],this.sidesOrder=["right","left","down"],this.currentBinDown=[],this.currentBinLeft=[],this.currentBinRight=[],this.mjGridValues=[],this.changeHistory=[],this.lastClickedTileIndex=-1,this.initMatrixDisplay=()=>{const h=document.getElementById("mojette-matrix"),p=document.getElementById("split-container"),_=document.getElementById("bin-container"),M=Math.min(400,.9*window.innerWidth)/400;h?.style.setProperty("--scale-ratio",`${M}`),p?.style.setProperty("--scale-ratio",`${M}`),_?.style.setProperty("--scale-ratio",`${M}`),h?.style.setProperty("opacity","1")},this.initGrid=h=>new Promise(p=>{if(!h)return void p();this.gridId=h.id,this.hasStarted=!1,this.gridLevel=h.level,this.height=h.height,this.width=h.width,this.gridShape=pl[h.shape_name],this.arrayBox=h.array_box,this.resetMjGridValues(),this.hasBeenSolved=!1,this.helpsUsed=0,this.helpCost=Math.floor(h.help_1_percent_cost*(h.reward/100));const _=[h.nb_bin_right,h.nb_bin_left,h.nb_bin_down];this.sidesOrder.forEach((M,F)=>{this.bins[M]=h.bin_values.splice(0,_[F])}),this.bins.right.reverse(),this.currentBinDown=[...this.bins.down],this.currentBinLeft=[...this.bins.left],this.currentBinRight=[...this.bins.right],this.initMojetteGrid(),this.initBinValues(),this.initGridInfo(),this.initTimer(),this.initMatrixDisplay(),this.colorNumberButton(),p()}),this.addBinToContainer=(h,p,_,M)=>{const F=document.createElement("div");F.className="binDiv",F.id=`${p}Bin${_}`,F.textContent=M.toString(),"left"==p&&F.style.setProperty("transform","rotate(-135deg)"),"right"==p&&F.style.setProperty("transform","rotate(-45deg)"),h.appendChild(F)},this.initBinValues=()=>{this.sidesOrder.map(h=>{const p=document.getElementById(`${h}-bin-container`);null!==p&&this.bins[h].map((_,M)=>this.addBinToContainer(p,h,M,_))})},this.createBox=h=>{const p=document.createElement("input");return p.type="text",p.inputMode="numeric",p.id=`p${h}`,p.className="mojette-box pixel",p.autocomplete="off",p.name=`pixel${h}`,p.onclick=this.onTileClick,p.oninput=this.onInput,p},this.createVoidDiv=h=>{const p=document.createElement("div");return p.id=`v${h}`,p.className="mojette-box void",p.setAttribute("disabled",""),p},this.initMojetteGrid=()=>{const h=document.getElementById("mojette-form");if(null!==h){for(h.style.gridTemplateColumns=`repeat(${this.width}, 1fr)`;h.firstChild;)h.removeChild(h.firstChild);Array(this.height*this.width).fill(0).map((p,_)=>{const M=this.arrayBox.includes(_)?this.createBox(_):this.createVoidDiv(_);h.appendChild(M)}),this.matriceContainer.nativeElement.appendChild(h)}},this.unmountMojetteGrid=()=>{const h=document.getElementById("mojette-form");if(null!==h){for(;h.firstChild;)h.removeChild(h.firstChild);this.sidesOrder.map(p=>{const _=document.getElementById(`${p}-bin-container`);if(null!==_)for(;_.firstChild;)_.removeChild(_.firstChild)})}},this.rightBinIndexFromTileIndex=h=>-3+Math.floor(h/this.width)+h%this.width,this.leftBinIndexFromTileIndex=h=>3+Math.floor(h/this.width)-h%this.width,this.downBinArrayFromTileIndex=h=>this.arrayBox.filter(p=>p!=h&&p%this.width==h%this.width),this.rightBinArrayFromTileIndex=h=>this.arrayBox.filter(p=>p!=h&&this.rightBinIndexFromTileIndex(p)==this.rightBinIndexFromTileIndex(h)),this.leftBinArrayFromTileIndex=h=>this.arrayBox.filter(p=>p!=h&&this.leftBinIndexFromTileIndex(p)==this.leftBinIndexFromTileIndex(h)),this.onTileClick=h=>{const _=parseInt(h.target.id.substring(1));this.colorSelectedTiles(_,!1)},this.colorSelectedTiles=(h,p)=>{const _={down:h%this.width,left:this.leftBinIndexFromTileIndex(h),right:this.rightBinIndexFromTileIndex(h)};if(-1!=this.lastClickedTileIndex){const F={down:this.lastClickedTileIndex%this.width,left:this.leftBinIndexFromTileIndex(this.lastClickedTileIndex),right:this.rightBinIndexFromTileIndex(this.lastClickedTileIndex)};Object.entries(F).forEach(Y=>document.getElementById(`${Y[0]}Bin${Y[1]}`)?.classList.remove("active"))}Object.entries(_).forEach(F=>document.getElementById(`${F[0]}Bin${F[1]}`)?.classList.add("active")),p&&(document.getElementById(`p${h}`)?.classList.add("active"),(F=>[this.downBinArrayFromTileIndex(F),this.leftBinArrayFromTileIndex(F),this.rightBinArrayFromTileIndex(F)].flat())(h).forEach(F=>document.getElementById(`p${F}`)?.classList.add("secondary"))),this.lastClickedTileIndex=h},this.onInput=h=>{const p=h,F=parseInt(h.target.id.substring(1));if("deleteContentBackward"==p.inputType){const ge=this.mjGridValues[F];if(this.mjGridValues.splice(F,1,-1),this.colorNumberButton(),this.refreshBinValues(F),this.mjGridValues.includes(ge))return}if(null===p.data)return;const Y=parseInt(p.data);this.addValueToTile(Y,F,"input"),this.checkStepComplete()},this.addValueToTile=(h,p,_,M,F)=>{const Y=document.getElementById("p"+p);if(null===Y)return;const ge=Je=>{const at=new Set(this.mjGridValues.filter(dt=>-1!=dt));return!isNaN(Je)&&-1!=Je&&(-1!=this.mjGridValues.indexOf(Je)||at.size<3)};ge(h)||F?("revert"!=_&&this.addToHistory(p),this.mjGridValues.splice(p,1,h),Y.value=h.toString(),this.hasStarted||this.toggleTimer()):ge(h)||(-1!=this.mjGridValues.slice(p,p+1)[0]&&"revert"!=_&&this.addToHistory(p),this.mjGridValues.splice(p,1,-1),Y.value=""),Y.style.backgroundColor=M||"",this.colorNumberButton(),this.refreshBinValues(p)},this.addToHistory=h=>{this.changeHistory.length>4&&(this.changeHistory=this.changeHistory.slice(1)),this.changeHistory.push({tileID:h,prevValue:this.mjGridValues[h]}),this.changeHistory.length&&document.getElementById("btn_kb_back")?.classList.remove("disabled")},this.refreshBinValues=h=>{const p=on=>on.map(yn=>parseInt(document.getElementById(`p${yn}`).value)).reduce((yn,Dn)=>Dn?yn+Dn:yn,0),_=p(this.downBinArrayFromTileIndex(h).concat(h)),M=p(this.leftBinArrayFromTileIndex(h).concat(h)),F=p(this.rightBinArrayFromTileIndex(h).concat(h)),Y=[h%this.width,this.leftBinIndexFromTileIndex(h),this.rightBinIndexFromTileIndex(h)],ge=this.bins.down[Y[0]]-_,Je=this.bins.left[Y[1]]-M,at=this.bins.right[Y[2]]-F;this.currentBinDown[Y[0]]=ge,this.currentBinLeft[Y[1]]=Je,this.currentBinRight[Y[2]]=at;const dt=document.getElementById(`downBin${Y[0]}`);if(null===dt)return;dt.textContent=ge.toString();const bt=document.getElementById(`leftBin${Y[1]}`);if(null===bt)return;bt.textContent=Je.toString();const gt=document.getElementById(`rightBin${Y[2]}`);null!==gt&&(gt.textContent=at.toString(),this.isGridValid()&&(clearInterval(this.timer),this.mojetteService.postSolvedMojette(this.gridId,this.mjGridValues,this.helpsUsed,this.timeElapsed).subscribe(on=>{this.reward=on.reward,this.authService.sendUpdateMojette(on.mojettes),"4"!==this.selectedLevel&&this.availableGridsByLevel[this.selectedLevel].forEach(Dn=>{Dn.id==this.gridId&&(Dn.solved=!0)}),document.getElementById("mojette-matrix"),this.showFinishedGrid=!0})))},this.toggleTimer=()=>{const h=document.getElementById("timer-btn"),p=document.getElementById("timer-span");null!==h&&null!==p&&(this.hasStarted&&(this.resetGrid(),clearInterval(this.timer),p.textContent=this.updateTimerDisplay(0)),this.hasStarted||(this.timeElapsed=0,this.timer=setInterval(()=>{this.timeElapsed++,p.textContent=this.updateTimerDisplay(this.timeElapsed)},1e3)),h.textContent=this.hasStarted?"Start":"Reset",this.hasStarted=!this.hasStarted)},this.initTimer=()=>{this.timeElapsed=0,clearInterval(this.timer);const h=document.getElementById("timer-btn"),p=document.getElementById("timer-span");null!==h&&null!==p&&(h.textContent="Start",p.textContent=this.updateTimerDisplay(0))},this.resetGrid=()=>{this.resetMjGridValues(),this.arrayBox.forEach(h=>{this.addValueToTile(-1,h,"button")}),this.resetBins(!0),this.changeHistory=[]},this.resetBins=h=>{this.sidesOrder.forEach(p=>{const _=document.getElementById(`${p}-bin-container`);null!==_&&Array.from(_.children).forEach((M,F)=>{M.classList.remove("valid","active"),h&&(M.textContent=this.bins[p][F].toString())})})},this.isGridValid=()=>this.mjGridValues.filter(h=>-1!=h).length==this.arrayBox.length&&this.currentBinDown.every(h=>0==h)&&this.currentBinLeft.every(h=>0==h)&&this.currentBinRight.every(h=>0==h),this.colorNumberButton=()=>{const h=new Set(this.mjGridValues.filter(p=>-1!=p));Array(10).fill(0).forEach((p,_)=>{const M=document.getElementById("btn_kb_"+_);h.has(_)?M.classList.add("active"):M.classList.remove("active")})},this.updateTimerDisplay=h=>{const p=F=>F<10?`0${F}`:F.toString(),M=h%60;return`${p(Math.floor(h/60))}:${p(M)}`},this.timeToString=h=>{const p=Math.floor(h/60),_=h%60;return`${p?p+" "+(1==p?"minute":"minutes")+" ":""}${_+" "+(1==_?"seconde":"secondes")}`},this.initGridInfo=()=>{const h=document.getElementById("grid-info-span");null!==h&&-1!=this.gridLevel&&-1!=this.gridId&&(h.textContent="TUTORIEL",h.classList.add("daily-grid"))},this.handleHelpSwipe=()=>{const h=document.getElementById("helpDialog");let p=0,_=0;h?.addEventListener("touchstart",M=>{p=M.changedTouches[0].screenY}),h?.addEventListener("touchend",M=>{_=M.changedTouches[0].screenY,1==this.checkSwipeDirection(p,_)&&(this.isHelpOpen=!1)})},this.goToGridBrowse=()=>{this.unmountMojetteGrid(),this.hasBeenSolved=!0,this.gridId=0},this.goToHomePage=()=>{this.router.navigate(["/"])}}getGridSize(){return this.width&&this.height?this.width*this.height:this.arrayBox.length>0?Math.max(...this.arrayBox)+1:0}resetMjGridValues(){const n=this.getGridSize();this.mjGridValues=n?Array(n).fill(-1):[]}updateStep(n){var r=this;return(0,Bt.A)(function*(){if(r.resetBins(!1),r.validStep=!0,n<0||n>=r.tutorialSteps.length)return;n<=7&&r.resetMjGridValues(),r.STEP=n;const a=r.tutorialSteps[n];r.setActiveGrid(a.gridVisible),r.setTileNumbers(a.tileNumbers),r.setActiveTiles(a.tilesToFill),r.setActiveBins(a.bins),r.toggleGridEnabled(a.gridActive,a.tilesToFill),r.toggleBinEnabled(a.gridVisible,a.hideBin)})()}nextStep(){const n=this.tutorialSteps[this.STEP].tilesToFill;n.length>0&&this.tutorialSteps[this.STEP].gridActive&&(this.validStep=this.checkTilesResult(n)),this.validStep&&this.STEP<this.tutorialSteps.length-1&&this.updateStep(this.STEP+1)}restart(){this.STEP>0&&location.reload()}ngOnInit(){const n=localStorage.getItem("currentUser");null!==n&&(this.currentUser=JSON.parse(n))}colorBin(n,r,a="red"){const h=`${r}Bin${n}`,p=document.getElementById(h);p?p.style.setProperty("color","#D972FF","important"):console.warn(`Element with id ${h} not found`)}checkStepComplete(){this.checkTilesResult(this.tutorialSteps[this.STEP].tilesToFill)&&this.nextStep()}ngAfterViewInit(){this.getTutorialGrid().subscribe(h=>{h?(this.isCurrentGridDaily=!0,this.initGrid(h).then(()=>{this.handleHelpSwipe(),this.updateStep(0)})):console.error("No grid available")}),setTimeout(()=>{const h=document.getElementById("split-container");h&&["downSplit","leftSplit","rightSplit"].forEach(_=>{const M=document.createElement("div");M.id=_,M.classList.add("split"),h.appendChild(M)})},0);const n=document.getElementById("btn_kb_back");if(null===n)return;n.onclick=()=>a();const r=h=>{if(-1==this.lastClickedTileIndex)return;const _=parseInt(h.target.id.split("_").slice(-1)[0]);this.addValueToTile(_,this.lastClickedTileIndex,"button"),this.checkStepComplete()};Array(10).fill(0).map((h,p)=>{const _=document.getElementById(`btn_kb_${p}`);null!==_&&(_.onclick=r)});const a=()=>{if(!this.changeHistory.length)return;const h=this.changeHistory.pop();void 0!==h&&(this.addValueToTile(h.prevValue,h.tileID,"revert"),this.changeHistory.length||document.getElementById("btn_kb_back")?.classList.add("disabled"))}}getTutorialGrid(){return this.mojetteService.getGridById(1003090)}toggleGridEnabled(n,r=[]){document.getElementById("keyboard").style.visibility=n?"visible":"hidden",this.arrayBox.forEach(h=>{const p=document.getElementById(`p${h}`);if(p){const _=n&&r.includes(h);p.disabled=!_,p.classList.toggle("disabled",!_)}})}toggleBinEnabled(n,r){if(n){const a=document.getElementById("left-bin-container"),h=document.getElementById("right-bin-container"),p=document.getElementById("down-bin-container");a.style.visibility=r?"hidden":"visible",h.style.visibility=r?"hidden":"visible",p.style.visibility=r?"hidden":"visible"}}checkTilesResult(n){let r=!0;return n.forEach(a=>{const h=this.arrayBox.indexOf(a);if(-1===h)return;const p=document.getElementById("p"+a);p&&p.value.toString()!==this.solution[h].toString()&&(this.colorSelectedTiles(a,!1),r=!1)}),r}setActiveBins(n){this.lastActiveBins.forEach(([r,a])=>{const h=document.getElementById(`${r}Bin${a}`);h&&h.classList.remove("active","bold")}),n.forEach(([r,a])=>{const h=document.getElementById(`${r}Bin${a}`);h&&(h.classList.add("active"),h.classList.add("bold"))}),this.lastActiveBins=n}setActiveTiles(n){this.lastActiveTiles.forEach(r=>{document.getElementById(`p${r}`)?.classList.remove("active")}),n.forEach(r=>{const a=document.getElementById(`p${r}`);a&&a.classList.add("active")}),this.lastActiveTiles=n}setTileNumbers(n){this.lastValueTiles.forEach(r=>{this.addValueToTile(-1,r,"revert","")}),n.forEach(({tileId:r,value:a,color:h})=>{this.addValueToTile(a,r,"input",h,!0)}),this.lastValueTiles=n.map(r=>r.tileId)}setActiveGrid(n){document.getElementById("mojette-matrix").style.display=n?"":"none"}endGrid(){clearInterval(this.timer),this.mojetteService.postSolvedMojette(this.gridId,this.mjGridValues,this.helpsUsed,this.timeElapsed).subscribe(n=>{this.mojettes=n.mojettes,this.authService.sendUpdateMojette(n.mojettes)}),this.updateUserTutorialDone().subscribe({next:()=>{this.goToGame()},error:n=>{console.error("Failed to update user",n)}})}skipTutorial(){this.updateUserTutorialDone().subscribe({next:()=>{this.goToGame()},error:n=>{console.error("Failed to update user",n)}})}updateUserTutorialDone(){return this.currentUser.tutorial_mojette_done=!0,this.authService.updateUserById(this.currentUser?.id,{tutorial_mojette_done:"true"}).pipe((0,xd.M)(()=>{this.currentUser.tutorial_mojette_done=!0,localStorage.setItem("currentUser",JSON.stringify(this.currentUser))}))}goToGame(){this.router.navigate(["/mojette"])}checkSwipeDirection(n,r){return r<n?1:r>n?-1:0}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(yr.u),e.rXU(rc))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-mojette-tutorial"]],viewQuery:function(r,a){if(1&r&&e.GBs(gl,5),2&r){let h;e.mGM(h=e.lsd())&&(a.matriceContainer=h.first)}},hostAttrs:[1,"dark-theme"],decls:57,vars:18,consts:[["matriceContainer",""],[1,"game-container","container-fluid","flex-row","align-items-start","flex-grow-1"],[1,"d-flex","flex-column","align-items-center"],["id","mojette-matrix-container",1,"container","card","primary-card"],[1,"mojette-matrix-header","container","d-flex","flex-row","justify-content-between","align-items-stretch"],[1,"btn","btn-timer","btn-primary","btn-sm","d-flex","align-items-center","w-auto",3,"click","disabled"],[1,"material-symbols-outlined",2,"font-size","16px"],["id","grid-info-span",1,"container","d-flex","align-items-center"],["alt","Image du tutoriel","class","img-fluid my-3",3,"src",4,"ngIf"],["id","mojette-matrix"],["id","split-container"],["id","bin-container"],["id","left-bin-container",1,"bin-div-container"],["id","right-bin-container",1,"bin-div-container"],["id","down-bin-container",1,"bin-div-container"],["id","mojette-form"],[1,"tutorial-text"],["mode","determinate",1,"pt-5",3,"value"],["class","pt-2",4,"ngIf"],["class","instructions mt-1",4,"ngIf"],["style","color: red;","class","mt-1",4,"ngIf"],["class","btn btn-timer btn-primary btn-sm mt-3",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm mt-3","style","background-color: transparent; border: 1px solid rgba(255, 255, 255, 0.3); color: rgba(255, 255, 255, 0.7);",3,"click",4,"ngIf"],["id","keyboard",1,"button-container","card","primary-card","mx-auto","d-flex","flex-row","align-items-center"],[1,"button-keyboard-container"],["id","btn_kb_0",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_1",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_2",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_3",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_4",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_5",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_6",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_7",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_8",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_9",1,"btn","btn-default","btn-md","square","btn-kb"],[1,"button-secondary-actions-container","d-flex","flex-column"],["id","btn_hint",1,"btn","btn-default","square","btn-kb","btn-md",3,"title","ngClass","disabled"],["id","stars",1,"bi","bi-stars"],["id","brush",1,"bi","bi-brush-fill"],["id","btn_kb_back","title","Retour",1,"btn","btn-default","btn-md","square","btn-kb","disabled"],[1,"bi","bi-arrow-return-left"],["alt","Image du tutoriel",1,"img-fluid","my-3",3,"src"],[1,"pt-2"],[1,"mb-0",3,"innerHTML"],[1,"instructions","mt-1"],[1,"mt-1",2,"color","red"],[1,"btn","btn-timer","btn-primary","btn-sm","mt-3",3,"click"],[1,"btn","btn-secondary","btn-sm","mt-3",2,"background-color","transparent","border","1px solid rgba(255, 255, 255, 0.3)","color","rgba(255, 255, 255, 0.7)",3,"click"]],template:function(r,a){if(1&r){const h=e.RV6();e.nrm(0,"app-navbar"),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(h),e.Njj(a.restart())}),e.j41(6,"span",6),e.EFF(7,"refresh"),e.k0s()(),e.nrm(8,"div",7),e.k0s(),e.DNE(9,bf,1,1,"img",8),e.j41(10,"div",9,0),e.nrm(12,"div",10),e.j41(13,"div",11),e.nrm(14,"div",12)(15,"div",13)(16,"div",14),e.k0s(),e.nrm(17,"form",15),e.k0s(),e.j41(18,"div",16),e.nrm(19,"mat-progress-bar",17),e.j41(20,"div")(21,"b"),e.EFF(22),e.k0s()(),e.DNE(23,yf,2,1,"div",18)(24,fb,2,1,"div",19)(25,Ud,2,0,"div",20)(26,Ys,2,0,"button",21)(27,_l,2,0,"button",21)(28,fg,2,0,"button",22),e.k0s()(),e.j41(29,"div",23)(30,"div",24)(31,"button",25),e.EFF(32,"0"),e.k0s(),e.j41(33,"button",26),e.EFF(34,"1"),e.k0s(),e.j41(35,"button",27),e.EFF(36,"2"),e.k0s(),e.j41(37,"button",28),e.EFF(38,"3"),e.k0s(),e.j41(39,"button",29),e.EFF(40,"4"),e.k0s(),e.j41(41,"button",30),e.EFF(42,"5"),e.k0s(),e.j41(43,"button",31),e.EFF(44,"6"),e.k0s(),e.j41(45,"button",32),e.EFF(46,"7"),e.k0s(),e.j41(47,"button",33),e.EFF(48,"8"),e.k0s(),e.j41(49,"button",34),e.EFF(50,"9"),e.k0s()(),e.j41(51,"div",35)(52,"button",36),e.nrm(53,"i",37)(54,"i",38),e.k0s(),e.j41(55,"button",39),e.nrm(56,"i",40),e.k0s()()()()()}2&r&&(e.R7$(),e.xc7("display",a.hasBeenSolved?"none":"flex"),e.R7$(4),e.Y8G("disabled",0===a.STEP),e.R7$(4),e.Y8G("ngIf",""!==a.tutorialSteps[a.STEP].image),e.R7$(10),e.Y8G("value",a.STEP/(a.tutorialSteps.length-1)*100),e.R7$(3),e.JRh(a.tutorialSteps[a.STEP].descriptionTitle),e.R7$(),e.Y8G("ngIf",""!==a.tutorialSteps[a.STEP].description),e.R7$(),e.Y8G("ngIf",""!==a.tutorialSteps[a.STEP].instructions),e.R7$(),e.Y8G("ngIf",!a.validStep),e.R7$(),e.Y8G("ngIf",a.STEP!==a.tutorialSteps.length-1),e.R7$(),e.Y8G("ngIf",a.STEP===a.tutorialSteps.length-1),e.R7$(),e.Y8G("ngIf",!a.showFinishedGrid&&a.STEP!==a.tutorialSteps.length-1),e.R7$(24),e.Mz_("title","Indice (",a.helpCost," mojettes)"),e.Y8G("ngClass",e.eq3(16,wa,a.helpsUsed>=1?"disabled":""))("disabled","4"===a.selectedLevel||a.helpCost>a.currentUser.mojettes))},dependencies:[R.MD,R.YU,R.bT,S.YN,S.qT,S.cb,S.cV,S.X1,is,Oe,ub,vf,Oi._],styles:['.game-container{overflow-y:auto;justify-content:center}@media (max-height: 740px){.game-container{justify-content:start}}.tutorial-text{font-size:1.2em;height:70%!important;overflow:auto;padding:0 20px 20px;margin:auto;text-align:center}#mojette-matrix-container{max-width:400px;height:100%;width:90%;padding:0;z-index:0;margin-top:2em!important}.mojette-matrix-header{border-bottom:1px solid color-mix(in srgb,var(--primary-color) 70%,white 30%);margin:auto 5%;padding:1em 0;width:auto}#mojette-matrix{opacity:0;transition:all .4s ease-out .2s;display:flex;position:relative;margin-left:auto;margin-right:auto;width:400px;height:380px;max-width:100%}#mojette-matrix>*:not(#mojette-form){height:100%;width:100%;position:absolute}#mojette-form{display:grid;margin:auto;width:fit-content;height:fit-content;position:relative;z-index:1}#mojette-matrix{--scale-ratio: 1}@media (max-width: 768px){#mojette-matrix>#mojette-form{transform:scale(var(--scale-ratio))}}#bin-container{--scale-ratio: 1}#bin-container>*{display:flex}#bin-container>#left-bin-container{width:calc(var(--scale-ratio) * 200px);top:calc(24% / var(--scale-ratio));left:calc(-2% / var(--scale-ratio));transform:rotate(135deg)}#bin-container>#right-bin-container{width:calc(var(--scale-ratio) * 200px);top:calc(24% / var(--scale-ratio));right:calc(-2% / var(--scale-ratio));transform:rotate(45deg)}#bin-container>#down-bin-container{width:calc(var(--scale-ratio) * 300px);bottom:calc(7% / var(--scale-ratio));left:0;right:0;margin:0 auto}.bin-div-container{position:absolute;justify-content:space-around;font-size:1.1em;font-weight:400;display:inline-block}.bin-div-container>div{-webkit-font-smoothing:antialiased}.button-container{width:400px;max-width:90%}.header-container{margin:1em auto 3em}.button-secondary-actions-container{justify-content:space-around;align-content:center;align-items:center;height:100%}.btn-help{position:absolute;right:-18px;top:-18px;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;margin:0;color:#f5efed;background-color:color-mix(in srgb,#0A0F0D 90%,white 10%);border:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%)!important;border-radius:100%;width:36px;height:36px;font-size:1.2em;padding:0}.btn-help:before,.btn-help:after{content:"";display:block;position:absolute;pointer-events:none}.btn-help:before{z-index:-2;top:-4px;left:-4px;width:42px;height:42px;background:#1b1c22;border-radius:100%}.btn-help:after{z-index:-1;top:18px;left:-5px;width:21px;height:21px;border-radius:0 0 0 100%;border:0;border-bottom:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%);border-left:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%)}.btn-help:hover{background-color:color-mix(in srgb,#0A0F0D 80%,white 20%)!important;box-shadow:0 4px 5px -2px #0003,0 4px 5px 1px #00000024,0 3px 9px 2px #0000001f}#btn_kb_back>i{position:relative;top:2px}#btn_hint{position:relative}#btn_hint>#stars{position:absolute;font-size:.7em}#btn_hint>#stars>#brush{position:relative;top:4px;left:4px;font-size:1em}#btn_hint>#stars.error{border-color:color-mix(in srgb,#ed2525 80%,white 20%)!important;color:color-mix(in srgb,#ed2525 80%,white 20%)!important;animation:.15s tilt-n-move-shaking linear;animation-iteration-count:3}.selector-container{overflow:hidden}.selector-container:not(:first-child){border-top:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%)}.selector-container:first-child{margin-top:1em!important}.selector-container>.grid-selector-header{margin:1em .5em}.selectPanel{min-width:165px;white-space:nowrap}.calendar-scroll-container{width:200%}.calendar-container{position:relative;width:50%;grid-template-columns:repeat(auto-fill,36px);grid-template-rows:repeat(4,36px)}.calendar-container>button{margin:0;border:0!important;border-radius:0;font-size:1.1em}.calendar-container>button:hover{color:#d972ff!important}.btn-calendar{padding:0!important}.btn-calendar.withTick:after{font-family:Material Icons;content:"check";font-feature-settings:"liga";-webkit-font-feature-settings:"liga";width:100%;height:100%;z-index:2;position:absolute;top:0;display:flex;justify-content:center;align-items:center;color:#7ddf64;font-weight:700;font-size:1.2em}.calendar-scroll-container.animate>.left{animation:calendar-left-move-left .6s ease-out;animation-fill-mode:forwards}.calendar-scroll-container.animate>.right{animation:calendar-right-move-left .6s ease-out;animation-fill-mode:forwards}.calendar-scroll-container.animate>.calendar-container.daily{animation:calendar-left-move-left .6s ease-out;animation-fill-mode:forwards}.grid-selector-header{margin:1em 0;align-items:center}.grid-selector-header>h3{margin:0!important}.secondary-link{max-width:90%;width:400px;text-decoration:none;text-align:end;margin-bottom:2em;color:#fff}.secondary-link:hover{text-decoration:underline;color:#d972ff}@keyframes calendar-left-move-left{0%{left:0%;opacity:1}to{left:50%;opacity:0}}@keyframes calendar-right-move-left{0%{left:-100%;opacity:0}to{left:-50%;opacity:1}}@keyframes tilt-n-move-shaking{0%{transform:translate(0) rotate(0)}25%{transform:translate(2px,2px) rotate(5deg)}50%{transform:translate(0) rotate(0)}75%{transform:translate(-2px,2px) rotate(-5deg)}to{transform:translate(0) rotate(0)}}.instructions{color:#d972ff;font-style:italic}\n'],encapsulation:2})}}return l})();var Cf=D(4572);const pb=["matriceContainer"],$d=l=>[l],mc=()=>({"pointer-events":"none"}),Ef=()=>({}),gb=(l,c)=>({"outside-month":l,today:c});function _b(l,c){1&l&&(e.j41(0,"h2",19),e.EFF(1,"F\xe9licitations !"),e.k0s())}function wf(l,c){if(1&l&&(e.j41(0,"div",61)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4,"Vous avez remport\xe9 "),e.j41(5,"b"),e.EFF(6),e.k0s(),e.EFF(7," mojettes !"),e.k0s()()),2&l){const n=e.XpG();e.R7$(2),e.Lme("Vous avez r\xe9solu la grille N\xb0",n.gridId," en ",n.timeToString(n.timeElapsed)," !"),e.R7$(4),e.JRh(n.reward)}}function mg(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",67),e.bIt("click",function(){const a=e.eBV(n).index,h=e.XpG(2);return e.Njj(h.playGrid(a))}),e.EFF(1),e.k0s()}if(2&l){const r=c.index;e.AVh("withTick",c.$implicit.solved),e.Mz_("id","btn_calendar_",r,""),e.Y8G("value",r),e.R7$(),e.SpI(" ",r+1," ")}}function pg(l,c){if(1&l&&(e.j41(0,"button",68),e.EFF(1),e.k0s()),2&l){const r=c.index;e.AVh("withTick",c.$implicit.solved),e.Mz_("id","btn_calendar_right_",r,""),e.Y8G("value",r),e.R7$(),e.SpI(" ",r+1," ")}}function gg(l,c){if(1&l&&(e.j41(0,"div",62)(1,"div",63),e.DNE(2,mg,2,6,"button",64),e.k0s(),e.j41(3,"div",65),e.DNE(4,pg,2,6,"button",66),e.k0s()()),2&l){const n=e.XpG();e.R7$(2),e.Y8G("ngForOf",n.currentNbGrid),e.R7$(2),e.Y8G("ngForOf",n.nextNbGrid)}}function _g(l,c){if(1&l&&(e.j41(0,"div",76),e.EFF(1),e.k0s()),2&l){const n=c.$implicit;e.R7$(),e.SpI(" ",n," ")}}function Df(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",82),e.bIt("click",function(){e.eBV(n);const a=e.XpG().$implicit,h=e.XpG(3);return e.Njj(h.playDailyGrid(a.dayNumber))}),e.EFF(1),e.k0s()}if(2&l){const n=e.XpG().$implicit,r=e.XpG(3);e.AVh("withTick",null!==n.dayNumber&&r.dailyGridCompletionStatus[n.dayNumber]),e.Mz_("id","btn_daily_",n.dayNumber,""),e.Y8G("value",n.dayNumber)("disabled",n.dayNumber>r.todayDayNumber),e.R7$(),e.SpI(" ",n.dayNumber," ")}}function vg(l,c){if(1&l&&(e.j41(0,"div",80),e.DNE(1,Df,2,7,"button",81),e.k0s()),2&l){const n=c.$implicit;e.Y8G("ngClass",e.l_i(2,gb,!n.isCurrentMonth,n.isToday)),e.R7$(),e.Y8G("ngIf",null!==n.dayNumber)}}function Gd(l,c){if(1&l&&(e.j41(0,"div",77)(1,"div",78),e.EFF(2),e.k0s(),e.DNE(3,vg,2,5,"div",79),e.k0s()),2&l){const n=c.$implicit;e.R7$(2),e.SpI(" ",n.weekNumber," "),e.R7$(),e.Y8G("ngForOf",n.days)}}function Da(l,c){if(1&l&&(e.j41(0,"div",69)(1,"div",70)(2,"div",71),e.nrm(3,"div",72),e.DNE(4,_g,2,1,"div",73),e.k0s(),e.j41(5,"div",74),e.DNE(6,Gd,4,2,"div",75),e.k0s()()()),2&l){const n=e.XpG();e.R7$(4),e.Y8G("ngForOf",n.weekDayLabels),e.R7$(2),e.Y8G("ngForOf",n.dailyCalendarWeeks)}}function bg(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",83),e.nrm(1,"app-leaderboard-table",84),e.j41(2,"div",85)(3,"button",16),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return a.unmountMojetteGrid(),a.hasBeenSolved=!0,e.Njj(a.showFinishedGrid=!1)}),e.EFF(4," Retour "),e.k0s()()()}if(2&l){const n=e.XpG();e.R7$(),e.Y8G("gridId",n.gridId)}}let xf=(()=>{class l{constructor(n,r,a,h,p){this.internalService=n,this.router=r,this.authService=a,this.mojetteService=h,this.confettiService=p,this.rerender=!1,this.hasStarted=!1,this.timeElapsed=0,this.hasBeenSolved=!1,this.isHelpOpen=!1,this.selectedLevel="4",this.showFinishedGrid=!1,this.dailyGridDays=[],this.todayDayNumber=(new Date).getDate(),this.dailyGridCompletionStatus={},this.weekDayLabels=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],this.dailyCalendarWeeks=[],this.isCurrentGridDaily=!1,this.activeDailyDay=null,this.availableGridsByLevel={1:[],2:[],3:[]},this.currentNbGrid=[],this.nextNbGrid=[],this.reward=0,this.helpsUsed=0,this.helpCost=0,this.gridLevel=-1,this.gridId=0,this.height=0,this.width=0,this.gridShape=null,this.arrayBox=[],this.bins={down:[],left:[],right:[]},this.levelName=["Facile","Moyen","Difficile"],this.sidesOrder=["right","left","down"],this.currentBinDown=[],this.currentBinLeft=[],this.currentBinRight=[],this.mjGridValues=[],this.changeHistory=[],this.lastClickedTileIndex=-1,this.initMatrixDisplay=()=>{const _=document.getElementById("mojette-matrix"),M=document.getElementById("split-container"),F=document.getElementById("bin-container"),Y=Math.min(400,.9*window.innerWidth)/400;_?.style.setProperty("--scale-ratio",`${Y}`),M?.style.setProperty("--scale-ratio",`${Y}`),F?.style.setProperty("--scale-ratio",`${Y}`),_?.style.setProperty("opacity","1")},this.initGrid=_=>{_&&(this.gridId=_.id,this.mojetteService.hasUserSolvedGrid(_.id).subscribe(M=>{this.hasBeenSolved=!0,this.helpsUsed=M.helps_used,this.timeElapsed=M.completion_time,this.reward=M.reward},()=>{this.hasStarted=!1,this.gridLevel=_.level,this.height=_.height,this.width=_.width,this.gridShape=pl[_.shape_name],this.arrayBox=_.array_box,this.mjGridValues=Array(this.arrayBox.length).fill(-1),this.hasBeenSolved=!1,this.helpsUsed=0,this.helpCost=Math.floor(_.help_1_percent_cost*(_.reward/100));const M=[_.nb_bin_right,_.nb_bin_left,_.nb_bin_down];this.sidesOrder.forEach((F,Y)=>{this.bins[F]=_.bin_values.splice(0,M[Y])}),this.bins.right.reverse(),this.currentBinDown=[...this.bins.down],this.currentBinLeft=[...this.bins.left],this.currentBinRight=[...this.bins.right],this.initMojetteGrid(),this.initBinValues(),this.initGridInfo(),this.initTimer(),this.initMatrixDisplay(),this.colorNumberButton()}))},this.addBinToContainer=(_,M,F,Y)=>{const ge=document.createElement("div");ge.className="binDiv",ge.id=`${M}Bin${F}`,ge.textContent=Y.toString(),"left"==M&&ge.style.setProperty("transform","rotate(-135deg)"),"right"==M&&ge.style.setProperty("transform","rotate(-45deg)"),_.appendChild(ge)},this.initBinValues=()=>{this.sidesOrder.map(_=>{const M=document.getElementById(`${_}-bin-container`);null!==M&&this.bins[_].map((F,Y)=>this.addBinToContainer(M,_,Y,F))})},this.createBox=_=>{const M=document.createElement("input");return M.type="text",M.inputMode="numeric",M.id=`p${_}`,M.className="mojette-box pixel",M.autocomplete="off",M.name=`pixel${_}`,M.onclick=this.onTileClick,M.oninput=this.onInput,M},this.createVoidDiv=_=>{const M=document.createElement("div");return M.id=`v${_}`,M.className="mojette-box void",M.setAttribute("disabled",""),M},this.initMojetteGrid=()=>{const _=document.getElementById("mojette-form");if(null!==_){for(_.style.gridTemplateColumns=`repeat(${this.width}, 1fr)`;_.firstChild;)_.removeChild(_.firstChild);Array(this.height*this.width).fill(0).map((M,F)=>{const Y=this.arrayBox.includes(F)?this.createBox(F):this.createVoidDiv(F);_.appendChild(Y)}),this.matriceContainer.nativeElement.appendChild(_)}},this.unmountMojetteGrid=()=>{const _=document.getElementById("mojette-form");if(null!==_){for(;_.firstChild;)_.removeChild(_.firstChild);this.sidesOrder.map(M=>{const F=document.getElementById(`${M}-bin-container`);if(null!==F)for(;F.firstChild;)F.removeChild(F.firstChild)})}},this.rightBinIndexFromTileIndex=_=>-3+Math.floor(_/this.width)+_%this.width,this.leftBinIndexFromTileIndex=_=>3+Math.floor(_/this.width)-_%this.width,this.downBinArrayFromTileIndex=_=>this.arrayBox.filter(M=>M!=_&&M%this.width==_%this.width),this.rightBinArrayFromTileIndex=_=>this.arrayBox.filter(M=>M!=_&&this.rightBinIndexFromTileIndex(M)==this.rightBinIndexFromTileIndex(_)),this.leftBinArrayFromTileIndex=_=>this.arrayBox.filter(M=>M!=_&&this.leftBinIndexFromTileIndex(M)==this.leftBinIndexFromTileIndex(_)),this.onTileClick=_=>{const F=parseInt(_.target.id.substring(1));this.colorSelectedTiles(F)},this.colorSelectedTiles=_=>{const M={down:_%this.width,left:this.leftBinIndexFromTileIndex(_),right:this.rightBinIndexFromTileIndex(_)},F=Y=>[this.downBinArrayFromTileIndex(Y),this.leftBinArrayFromTileIndex(Y),this.rightBinArrayFromTileIndex(Y)].flat();if(-1!=this.lastClickedTileIndex){const Y={down:this.lastClickedTileIndex%this.width,left:this.leftBinIndexFromTileIndex(this.lastClickedTileIndex),right:this.rightBinIndexFromTileIndex(this.lastClickedTileIndex)};Object.entries(Y).forEach(ge=>document.getElementById(`${ge[0]}Bin${ge[1]}`)?.classList.remove("active")),document.getElementById(`p${this.lastClickedTileIndex}`)?.classList.remove("active"),F(this.lastClickedTileIndex).forEach(ge=>document.getElementById(`p${ge}`)?.classList.remove("secondary"))}Object.entries(M).forEach(Y=>document.getElementById(`${Y[0]}Bin${Y[1]}`)?.classList.add("active")),document.getElementById(`p${_}`)?.classList.add("active"),F(_).forEach(Y=>document.getElementById(`p${Y}`)?.classList.add("secondary")),this.lastClickedTileIndex=_},this.onInput=_=>{const M=_,Y=parseInt(_.target.id.substring(1)),ge=this.arrayBox.indexOf(Y);if("deleteContentBackward"==M.inputType){const at=this.mjGridValues[ge];if(this.mjGridValues.splice(ge,1,-1),this.colorNumberButton(),this.refreshBinValues(this.arrayBox[ge]),this.mjGridValues.includes(at))return}if(null===M.data)return;const Je=parseInt(M.data);this.addValueToTile(Je,ge,"input")},this.addValueToTile=(_,M,F)=>{const Y=document.getElementById("p"+this.arrayBox[M]);if(null===Y)return;const ge="revert"==F?this.arrayBox[M]:this.lastClickedTileIndex,Je=at=>{const dt=new Set(this.mjGridValues.filter(bt=>-1!=bt));return!isNaN(at)&&-1!=at&&(-1!=this.mjGridValues.indexOf(at)||dt.size<3)};Je(_)&&("revert"!=F&&this.addToHistory(M),this.mjGridValues.splice(M,1,_),Y.value=_.toString(),this.hasStarted||this.toggleTimer()),Je(_)||(-1!=this.mjGridValues.slice(M,M+1)[0]&&"revert"!=F&&this.addToHistory(M),this.mjGridValues.splice(M,1,-1),Y.value=""),this.colorNumberButton(),this.refreshBinValues(ge)},this.addToHistory=_=>{this.changeHistory.length>4&&(this.changeHistory=this.changeHistory.slice(1)),this.changeHistory.push({tileID:_,prevValue:this.mjGridValues[_]}),this.changeHistory.length&&document.getElementById("btn_kb_back")?.classList.remove("disabled")},this.refreshBinValues=_=>{const M=Dn=>Dn.map(Sn=>parseInt(document.getElementById(`p${Sn}`).value)).reduce((Sn,hi)=>hi?Sn+hi:Sn,0),F=M(this.downBinArrayFromTileIndex(_).concat(_)),Y=M(this.leftBinArrayFromTileIndex(_).concat(_)),ge=M(this.rightBinArrayFromTileIndex(_).concat(_)),Je=[_%this.width,this.leftBinIndexFromTileIndex(_),this.rightBinIndexFromTileIndex(_)],at=this.bins.down[Je[0]]-F,dt=this.bins.left[Je[1]]-Y,bt=this.bins.right[Je[2]]-ge;this.currentBinDown[Je[0]]=at,this.currentBinLeft[Je[1]]=dt,this.currentBinRight[Je[2]]=bt;const gt=document.getElementById(`downBin${Je[0]}`);if(null===gt)return;gt.textContent=at.toString(),0==at?gt.classList.add("valid"):gt.classList.remove("valid");const on=document.getElementById(`leftBin${Je[1]}`);if(null===on)return;on.textContent=dt.toString(),0==dt?on.classList.add("valid"):on.classList.remove("valid");const yn=document.getElementById(`rightBin${Je[2]}`);null!==yn&&(yn.textContent=bt.toString(),0==bt?yn.classList.add("valid"):yn.classList.remove("valid"),this.isGridValid()&&(clearInterval(this.timer),this.mojetteService.postSolvedMojette(this.gridId,this.mjGridValues,this.helpsUsed,this.timeElapsed).subscribe(Dn=>{if(this.reward=Dn.reward,this.authService.sendUpdateMojette(Dn.mojettes),"4"!==this.selectedLevel)this.availableGridsByLevel[this.selectedLevel].forEach(hi=>{hi.id==this.gridId&&(hi.solved=!0)});else if(this.isCurrentGridDaily){const hi=(this.activeDailyDay??this.todayDayNumber).toString();this.dailyGridCompletionStatus[hi]=!0}document.getElementById("mojette-matrix"),this.showFinishedGrid=!0,this.confettiService.trigger()})))},this.toggleTimer=()=>{const _=document.getElementById("timer-btn"),M=document.getElementById("timer-span");null!==_&&null!==M&&(this.hasStarted&&(this.resetGrid(),clearInterval(this.timer),M.textContent=this.updateTimerDisplay(0)),this.hasStarted||(this.timeElapsed=0,this.timer=setInterval(()=>{this.timeElapsed++,M.textContent=this.updateTimerDisplay(this.timeElapsed)},1e3)),_.textContent=this.hasStarted?"Start":"Reset",this.hasStarted=!this.hasStarted)},this.initTimer=()=>{this.timeElapsed=0,clearInterval(this.timer);const _=document.getElementById("timer-btn"),M=document.getElementById("timer-span");null!==_&&null!==M&&(_.textContent="Start",M.textContent=this.updateTimerDisplay(0))},this.resetGrid=()=>{this.mjGridValues=Array(this.arrayBox.length).fill(-1),this.arrayBox.forEach((_,M)=>{this.addValueToTile(-1,M,"revert")}),this.resetBins(),this.changeHistory=[]},this.resetBins=()=>{this.sidesOrder.forEach(_=>{const M=document.getElementById(`${_}-bin-container`);null!==M&&Array.from(M.children).forEach((F,Y)=>{F.classList.remove("valid","active"),F.textContent=this.bins[_][Y].toString()})})},this.isGridValid=()=>this.mjGridValues.filter(_=>-1!=_).length==this.arrayBox.length&&this.currentBinDown.every(_=>0==_)&&this.currentBinLeft.every(_=>0==_)&&this.currentBinRight.every(_=>0==_),this.colorNumberButton=()=>{const _=new Set(this.mjGridValues.filter(M=>-1!=M));Array(10).fill(0).forEach((M,F)=>{const Y=document.getElementById("btn_kb_"+F);_.has(F)?Y.classList.add("active"):Y.classList.remove("active")})},this.updateTimerDisplay=_=>{const M=ge=>ge<10?`0${ge}`:ge.toString(),Y=_%60;return`${M(Math.floor(_/60))}:${M(Y)}`},this.timeToString=_=>{const M=Math.floor(_/60),F=_%60;return`${M?M+" "+(1==M?"minute":"minutes")+" ":""}${F+" "+(1==F?"seconde":"secondes")}`},this.initGridInfo=()=>{const _=document.getElementById("grid-info-span");null!==_&&-1!=this.gridLevel&&-1!=this.gridId&&(this.isCurrentGridDaily?(_.textContent=`GRILLE DU JOUR - ${this.levelName[Math.max(0,this.gridLevel-1)].toUpperCase()}`,_.classList.add("daily-grid")):(_.textContent=`${this.levelName[Math.max(0,this.gridLevel-1)].toUpperCase()}`,_.classList.remove("daily-grid")))},this.handleHelpSwipe=()=>{const _=document.getElementById("helpDialog");let M=0,F=0;_?.addEventListener("touchstart",Y=>{M=Y.changedTouches[0].screenY}),_?.addEventListener("touchend",Y=>{F=Y.changedTouches[0].screenY,1==this.checkSwipeDirection(M,F)&&(this.isHelpOpen=!1)})},this.onSelectChange=()=>{const _="4"===this.selectedLevel;this.currentNbGrid=this.availableGridsByLevel[this.selectedLevel],this.nextNbGrid=this.availableGridsByLevel[this.selectedLevel],setTimeout(()=>{const F=document.getElementById(_?"daily-scroll-container":"scroll-container");F&&(F.classList.add("animate"),setTimeout(()=>{F.classList.remove("animate")},800))},0)},this.playGrid=_=>{this.activeDailyDay=null,this.isCurrentGridDaily=!1;const M=this.nextNbGrid[_];if(!M)return;!0!==M.solved?(()=>{this.mojetteService.getNthLastMojetteGridByLevel(_,this.selectedLevel).subscribe(ge=>this.initGrid(ge))})():(()=>{this.router.navigate(["/leaderboard"],{queryParams:{gridId:M.id}})})()},this.goToGridBrowse=()=>{this.unmountMojetteGrid(),this.hasBeenSolved=!0,this.gridId=0},this.goToHomePage=()=>{this.router.navigate(["/"])},this.goToTutorial=()=>{this.router.navigate(["/mojette-tutorial"])}}ngOnInit(){const n=localStorage.getItem("currentUser");if(null!==n){if(this.currentUser=JSON.parse(n),!this.currentUser.tutorial_mojette_done)return void this.goToTutorial();this.generateDailyGridDays(),this.getDailyGrid(),this.handleHelpSwipe(),this.mojetteService.getDailyGridsCompletionStatus().subscribe(r=>{this.dailyGridCompletionStatus=r},r=>{console.error("Error fetching daily grid completion status:",r)}),(0,Cf.z)([1,2,3].map(r=>this.mojetteService.getMojettesGridByLevel(r))).subscribe(r=>{r.forEach((a,h)=>this.availableGridsByLevel[h+1]=a),this.currentNbGrid=this.availableGridsByLevel[this.selectedLevel],this.nextNbGrid=this.availableGridsByLevel[this.selectedLevel]})}}generateDailyGridDays(){const n=new Date,r=n.getFullYear(),a=n.getMonth(),h=new Date(r,a+1,0).getDate();n.setHours(0,0,0,0),this.todayDayNumber=n.getDate(),this.dailyGridDays=Array.from({length:h},(p,_)=>_+1),this.buildDailyCalendarWeeks(n)}ngAfterViewInit(){const n=document.getElementById("split-container"),r=document.getElementById("toggle-help-btn"),a=document.getElementById("modal-backdrop");if(null===r||(r.onclick=()=>this.isHelpOpen=!this.isHelpOpen,null===a)||(a.onclick=()=>this.isHelpOpen=!1,null===n))return;["downSplit","leftSplit","rightSplit"].forEach(Y=>{const ge=document.createElement("div");ge.id=Y,ge.classList.add("split"),n.appendChild(ge)});const p=document.getElementById("btn_kb_back");if(null===p)return;p.onclick=()=>M();const _=document.getElementById("btn_hint");if(null===_)return;_.onclick=()=>F();const M=()=>{if(!this.changeHistory.length)return;const Y=this.changeHistory.pop();void 0!==Y&&(this.addValueToTile(Y.prevValue,Y.tileID,"revert"),this.changeHistory.length||document.getElementById("btn_kb_back")?.classList.add("disabled"))},F=()=>{this.mojetteService.getMojetteHint(this.gridId).subscribe(Y=>{this.helpsUsed+=1,this.authService.sendUpdateMojette(Y.mojettes),this.colorSelectedTiles(this.arrayBox[Y.tile]),this.addValueToTile(Y.value,Y.tile,"input")},()=>{_.classList.add("error"),setTimeout(()=>{_.classList.remove("error")},450)})};this.bindKeyboardButtons()}buildDailyCalendarWeeks(n){const r=n.getFullYear(),a=n.getMonth(),h=new Date(r,a+1,0).getDate(),p=new Date(r,a,1);p.setHours(0,0,0,0);const _=this.getStartOfWeek(p),M=[];let F=0;const Y=new Date(_);for(;F<h;){const ge=new Date(Y),Je=this.getISOWeekNumber(ge),at=[];for(let dt=0;dt<7;dt++){const bt=new Date(Y),gt=bt.getMonth()===a;gt&&(F+=1),at.push({dayNumber:gt?bt.getDate():null,isCurrentMonth:gt,isToday:this.isSameDay(bt,n)}),Y.setDate(Y.getDate()+1)}M.push({weekNumber:Je,days:at})}this.dailyCalendarWeeks=M}getStartOfWeek(n){const r=new Date(n),h=(r.getDay()+6)%7;return r.setDate(r.getDate()-h),r.setHours(0,0,0,0),r}getISOWeekNumber(n){const r=new Date(n);r.setHours(0,0,0,0),r.setDate(r.getDate()+3-(r.getDay()+6)%7);const a=new Date(r.getFullYear(),0,4),h=this.getStartOfWeek(a),p=r.getTime()-h.getTime();return 1+Math.round(p/6048e5)}isSameDay(n,r){return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}bindKeyboardButtons(){const n=r=>{if(!r)return;const a=h=>{if(h.preventDefault(),-1===this.lastClickedTileIndex)return;const p=h.currentTarget;if(!p)return;const _=p.getAttribute("data-value")??p.id.split("_").pop();if(void 0===_)return;const M=parseInt(_,10);if(Number.isNaN(M))return;const F=this.arrayBox.indexOf(this.lastClickedTileIndex);-1!==F&&this.addValueToTile(M,F,"button")};r.addEventListener("click",a),r.addEventListener("pointerdown",a)};Array.from({length:10},(r,a)=>document.getElementById(`btn_kb_${a}`)).forEach(r=>n(r))}getDailyGrid(){this.mojetteService.getDailyGrid().subscribe(n=>{n?(this.isCurrentGridDaily=!0,this.initGrid(n)):(console.error("No daily grid available"),this.getGrid())})}getGrid(){this.isCurrentGridDaily=!1,this.mojetteService.getCurrentMojetteGrid().subscribe(n=>this.initGrid(n))}checkSwipeDirection(n,r){return r<n?1:r>n?-1:0}playDailyGrid(n){this.activeDailyDay=n;const r=n.toString(),a=this.dailyGridCompletionStatus[r],h=p=>{if(!p||void 0===p.id)return;!0!==a?(()=>{this.activeDailyDay=n,this.dailyGridCompletionStatus[r]=!1,this.isCurrentGridDaily=!0,this.initGrid(p)})():(()=>{this.dailyGridCompletionStatus[r]=!0,this.router.navigate(["/leaderboard"],{queryParams:{gridId:p.id}})})()};n===this.todayDayNumber?this.mojetteService.getDailyGrid().subscribe(h):this.mojetteService.getDailyGridid(n).subscribe(h)}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(co.P),e.rXU(Mt.Ix),e.rXU(yr.u),e.rXU(rc),e.rXU(Nd))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-mojette"]],viewQuery:function(r,a){if(1&r&&e.GBs(pb,5),2&r){let h;e.mGM(h=e.lsd())&&(a.matriceContainer=h.first)}},hostAttrs:[1,"dark-theme"],decls:88,vars:25,consts:[["matriceContainer",""],[1,"container-fluid","flex-column","flex-grow-1","dialog-container","no-scrollbar"],["id","endDialog",1,"card","primary-card"],["class","text-center",4,"ngIf"],["class","d-flex flex-column",4,"ngIf"],[1,"selector-container"],[1,"grid-selector-header","d-flex","flex-row","justify-content-between"],[1,"d-block"],["name","level","id","level-select","panelClass","selectPanel",1,"outline-select","btn-sm",3,"ngModelChange","selectionChange","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["id","scroll-container","class","d-flex flex-row calendar-scroll-container",4,"ngIf"],["id","daily-scroll-container","class","calendar-scroll-container daily-view",4,"ngIf"],[1,"btn-container","d-flex","flex-row","justify-content-end"],[1,"btn","btn-secondary","btn-sm",3,"click"],["id","modal-backdrop"],["id","helpDialog",1,"d-flex","modal","card","primary-modal",3,"ngClass"],[1,"text-center"],[1,"btn","btn-primary","btn-sm","btn-tuto",3,"click"],[1,"tuto"],[1,"justify-content-end","swipe-info","align-center"],[1,"bi","bi-arrow-up-short"],[1,"game-container","container-fluid","flex-row","align-items-start","flex-grow-1",3,"ngClass"],[1,"d-flex","flex-column","align-items-center","me-4",2,"width","50%",3,"ngStyle"],["id","mojette-matrix-container",1,"container","card","primary-card"],["id","toggle-help-btn",1,"btn","btn-help"],[1,"mojette-matrix-header","container","d-flex","flex-row","justify-content-between","align-items-stretch"],[1,"timer-container","container","d-flex"],["id","timer-btn",1,"btn","btn-timer","btn-primary","btn-sm",3,"click"],["id","timer-span",1,"timer"],[1,"info-container","container","d-flex"],["id","grid-info-span"],["id","mojette-matrix"],["id","split-container"],["id","bin-container"],["id","left-bin-container",1,"bin-div-container"],["id","right-bin-container",1,"bin-div-container"],["id","down-bin-container",1,"bin-div-container"],["id","mojette-form"],[1,"button-container","card","primary-card","mx-auto","d-flex","flex-row","align-items-center"],[1,"button-keyboard-container"],["id","btn_kb_0",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_1",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_2",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_3",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_4",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_5",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_6",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_7",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_8",1,"btn","btn-default","btn-md","square","btn-kb"],["id","btn_kb_9",1,"btn","btn-default","btn-md","square","btn-kb"],[1,"button-secondary-actions-container","d-flex","flex-column"],["id","btn_hint",1,"btn","btn-default","square","btn-kb","btn-md",3,"title","ngClass","disabled"],["id","stars",1,"bi","bi-stars"],["id","brush",1,"bi","bi-brush-fill"],["id","btn_kb_back","title","Retour",1,"btn","btn-default","btn-md","square","btn-kb","disabled"],[1,"bi","bi-arrow-return-left"],["tabindex","0",1,"secondary-link","button-link",3,"click","keypress"],["class","container-fluid d-flex flex-column flex-grow-1 dialog-container no-scrollbar","style","width: 50%;",4,"ngIf"],[1,"d-flex","flex-column"],["id","scroll-container",1,"d-flex","flex-row","calendar-scroll-container"],[1,"calendar-container","left","d-grid","justify-content-between"],["class","btn btn-default btn-sm square btn-calendar",3,"value","id","withTick","click",4,"ngFor","ngForOf"],[1,"calendar-container","right","d-grid","justify-content-between"],["class","btn btn-default btn-sm square btn-calendar","disabled","",3,"value","id","withTick",4,"ngFor","ngForOf"],[1,"btn","btn-default","btn-sm","square","btn-calendar",3,"click","value","id"],["disabled","",1,"btn","btn-default","btn-sm","square","btn-calendar",3,"value","id"],["id","daily-scroll-container",1,"calendar-scroll-container","daily-view"],[1,"daily-agenda"],[1,"daily-agenda__header"],[1,"daily-agenda__week-label"],["class","daily-agenda__day-label",4,"ngFor","ngForOf"],[1,"daily-agenda__body"],["class","daily-agenda__row",4,"ngFor","ngForOf"],[1,"daily-agenda__day-label"],[1,"daily-agenda__row"],[1,"daily-agenda__week-number"],["class","daily-agenda__cell",3,"ngClass",4,"ngFor","ngForOf"],[1,"daily-agenda__cell",3,"ngClass"],["class","btn btn-default btn-sm square btn-calendar",3,"value","id","disabled","withTick","click",4,"ngIf"],[1,"btn","btn-default","btn-sm","square","btn-calendar",3,"click","value","id","disabled"],[1,"container-fluid","d-flex","flex-column","flex-grow-1","dialog-container","no-scrollbar",2,"width","50%"],[3,"gridId"],[1,"btn-container","d-flex","flex-row","justify-content-end",2,"width","55%"]],template:function(r,a){if(1&r){const h=e.RV6();e.nrm(0,"app-navbar"),e.j41(1,"div",1)(2,"div",2),e.DNE(3,_b,2,0,"h2",3)(4,wf,8,3,"div",4),e.j41(5,"div",5)(6,"div",6)(7,"h3",7),e.EFF(8,"Grilles pr\xe9c\xe9dentes"),e.k0s(),e.j41(9,"mat-form-field")(10,"mat-select",8),e.mxI("ngModelChange",function(_){return e.eBV(h),e.DH7(a.selectedLevel,_)||(a.selectedLevel=_),e.Njj(_)}),e.bIt("selectionChange",function(){return e.eBV(h),e.Njj(a.onSelectChange())}),e.j41(11,"mat-option",9),e.EFF(12,"Facile"),e.k0s(),e.j41(13,"mat-option",10),e.EFF(14,"Moyen"),e.k0s(),e.j41(15,"mat-option",11),e.EFF(16,"Difficile"),e.k0s(),e.j41(17,"mat-option",12),e.EFF(18,"Grille du jour"),e.k0s()()()(),e.DNE(19,gg,5,2,"div",13)(20,Da,7,2,"div",14),e.k0s(),e.j41(21,"div",15)(22,"span"),e.EFF(23," Cliquez sur une grille compl\xe9t\xe9e pour voir le classement "),e.k0s(),e.j41(24,"button",16),e.bIt("click",function(){return e.eBV(h),e.Njj(a.goToHomePage())}),e.EFF(25," Retour \xe0 l'accueil "),e.k0s()()()(),e.nrm(26,"div",17),e.j41(27,"dialog",18)(28,"h2",19),e.EFF(29,"Aide"),e.k0s(),e.j41(30,"button",20),e.bIt("click",function(){return e.eBV(h),e.Njj(a.goToTutorial())}),e.j41(31,"div",21),e.EFF(32,"Tutoriel"),e.k0s()(),e.j41(33,"span",22),e.EFF(34,"Swipe up pour fermer "),e.nrm(35,"i",23),e.k0s()(),e.j41(36,"div",24)(37,"div",25)(38,"div",26)(39,"button",27),e.EFF(40,"?"),e.k0s(),e.j41(41,"div",28)(42,"div",29)(43,"button",30),e.bIt("click",function(){return e.eBV(h),e.Njj(a.toggleTimer())}),e.EFF(44," Start "),e.k0s(),e.j41(45,"span",31),e.EFF(46,"00:00"),e.k0s()(),e.j41(47,"div",32),e.nrm(48,"span",33),e.k0s()(),e.j41(49,"div",34,0),e.nrm(51,"div",35),e.j41(52,"div",36),e.nrm(53,"div",37)(54,"div",38)(55,"div",39),e.k0s(),e.nrm(56,"form",40),e.k0s()(),e.j41(57,"div",41)(58,"div",42)(59,"button",43),e.EFF(60,"0"),e.k0s(),e.j41(61,"button",44),e.EFF(62,"1"),e.k0s(),e.j41(63,"button",45),e.EFF(64,"2"),e.k0s(),e.j41(65,"button",46),e.EFF(66,"3"),e.k0s(),e.j41(67,"button",47),e.EFF(68,"4"),e.k0s(),e.j41(69,"button",48),e.EFF(70,"5"),e.k0s(),e.j41(71,"button",49),e.EFF(72,"6"),e.k0s(),e.j41(73,"button",50),e.EFF(74,"7"),e.k0s(),e.j41(75,"button",51),e.EFF(76,"8"),e.k0s(),e.j41(77,"button",52),e.EFF(78,"9"),e.k0s()(),e.j41(79,"div",53)(80,"button",54),e.nrm(81,"i",55)(82,"i",56),e.k0s(),e.j41(83,"button",57),e.nrm(84,"i",58),e.k0s()()(),e.j41(85,"a",59),e.bIt("click",function(){return e.eBV(h),e.Njj(a.goToGridBrowse())})("keypress",function(){return e.eBV(h),e.Njj(a.goToGridBrowse())}),e.EFF(86,"En difficult\xe9? Jouez une autre grille"),e.k0s()(),e.DNE(87,bg,5,1,"div",60),e.k0s()}2&r&&(e.R7$(),e.xc7("display",a.hasBeenSolved?"flex":"none"),e.R7$(2),e.Y8G("ngIf",a.gridId&&a.reward),e.R7$(),e.Y8G("ngIf",a.gridId&&a.reward),e.R7$(6),e.R50("ngModel",a.selectedLevel),e.R7$(9),e.Y8G("ngIf","4"!==a.selectedLevel),e.R7$(),e.Y8G("ngIf","4"===a.selectedLevel),e.R7$(6),e.xc7("display",a.isHelpOpen?"block":"none"),e.R7$(),e.Y8G("ngClass",e.eq3(19,$d,a.isHelpOpen?"open":"")),e.R7$(9),e.xc7("display",a.hasBeenSolved?"none":"flex"),e.Y8G("ngClass",a.showFinishedGrid?"justify-content-start":"justify-content-center"),e.R7$(),e.Y8G("ngStyle",a.showFinishedGrid?e.lJ4(21,mc):e.lJ4(22,Ef)),e.R7$(43),e.Mz_("title","Indice (",a.helpCost," mojettes)"),e.Y8G("ngClass",e.eq3(23,$d,a.helpsUsed>=1?"disabled":""))("disabled","4"===a.selectedLevel||a.helpCost>a.currentUser.mojettes),e.R7$(7),e.Y8G("ngIf",a.showFinishedGrid))},dependencies:[R.MD,R.YU,R.Sq,R.bT,R.B3,S.YN,S.qT,S.BC,S.cb,S.vS,S.cV,S.X1,is,Ye,mo,q.wT,Oe,Oi._,lf],styles:['.game-container{overflow-y:auto;justify-content:center}@media (max-height: 740px){.game-container{justify-content:start}}#mojette-matrix-container{max-width:400px;width:90%;padding:0;z-index:0;margin-top:2em!important}.mojette-matrix-header{border-bottom:1px solid color-mix(in srgb,var(--primary-color) 70%,white 30%);margin:auto 5%;padding:1em 0;width:auto}#mojette-matrix{opacity:0;transition:all .4s ease-out .2s;display:flex;position:relative;margin-left:auto;margin-right:auto;width:400px;height:400px;max-width:100%}#mojette-matrix>*:not(#mojette-form){height:100%;width:100%;position:absolute}#mojette-form{display:grid;margin:auto;width:fit-content;height:fit-content;position:relative;z-index:1}#mojette-matrix{--scale-ratio: 1}@media (max-width: 768px){#mojette-matrix>#mojette-form{transform:scale(var(--scale-ratio))}}#bin-container{--scale-ratio: 1}#bin-container>*{display:flex}#bin-container>#left-bin-container{width:calc(var(--scale-ratio) * 200px);top:calc(25% / var(--scale-ratio));left:calc(-5% / var(--scale-ratio));transform:rotate(135deg)}#bin-container>#right-bin-container{width:calc(var(--scale-ratio) * 200px);top:calc(25% / var(--scale-ratio));right:calc(-5% / var(--scale-ratio));transform:rotate(45deg)}#bin-container>#down-bin-container{width:calc(var(--scale-ratio) * 300px);bottom:calc(9% / var(--scale-ratio));left:0;right:0;margin:0 auto}.bin-div-container{position:absolute;justify-content:space-around;font-size:1.1em;font-weight:400;display:inline-block}.bin-div-container>div{-webkit-font-smoothing:antialiased}.button-container{width:400px;max-width:90%}.header-container{margin:1em auto 3em}.button-secondary-actions-container{justify-content:space-around;align-content:center;align-items:center;height:100%}.btn-help{position:absolute;right:-18px;top:-18px;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;margin:0;color:#f5efed;background-color:color-mix(in srgb,#0A0F0D 90%,white 10%);border:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%)!important;border-radius:100%;width:36px;height:36px;font-size:1.2em;padding:0}.btn-help:before,.btn-help:after{content:"";display:block;position:absolute;pointer-events:none}.btn-help:before{z-index:-2;top:-4px;left:-4px;width:42px;height:42px;background:#1b1c22;border-radius:100%}.btn-help:after{z-index:-1;top:18px;left:-5px;width:21px;height:21px;border-radius:0 0 0 100%;border:0;border-bottom:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%);border-left:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%)}.btn-help:hover{background-color:color-mix(in srgb,#0A0F0D 80%,white 20%)!important;box-shadow:0 4px 5px -2px #0003,0 4px 5px 1px #00000024,0 3px 9px 2px #0000001f}#btn_kb_back>i{position:relative;top:2px}#btn_hint{position:relative}#btn_hint>#stars{position:absolute;font-size:.7em}#btn_hint>#stars>#brush{position:relative;top:4px;left:4px;font-size:1em}#btn_hint.error{border-color:color-mix(in srgb,#ed2525 80%,white 20%)!important;color:color-mix(in srgb,#ed2525 80%,white 20%)!important;animation:.15s tilt-n-move-shaking linear;animation-iteration-count:3}#endDialog{width:min(120vw,700px)}.selector-container{overflow:hidden}.selector-container:not(:first-child){border-top:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%)}.selector-container:first-child{margin-top:1em!important}.selector-container>.grid-selector-header{margin:1em .5em}.selectPanel{min-width:165px;white-space:nowrap}.calendar-scroll-container{width:200%}.calendar-scroll-container.daily-view{width:100%;display:block;max-width:600px;margin:0 auto 1.5em}.calendar-container{position:relative;width:50%;grid-template-columns:repeat(auto-fill,36px);grid-template-rows:repeat(4,36px)}.calendar-container>button{margin:0;border:0!important;border-radius:0;font-size:1.1em}.calendar-container>button:hover{color:#d972ff!important}.btn-calendar{padding:0!important}.btn-calendar.withTick:after{font-family:Material Icons;content:"check";font-feature-settings:"liga";-webkit-font-feature-settings:"liga";width:100%;height:100%;z-index:2;position:absolute;top:0;display:flex;justify-content:center;align-items:center;color:#7ddf64;font-weight:700;font-size:1.2em}.daily-agenda{position:relative;left:0;display:flex;flex-direction:column;width:100%;padding:0;margin:0 .5em 1em;overflow:hidden;background:var(--card-background);border:1px solid color-mix(in srgb,var(--card-border) 70%,transparent 30%);border-radius:16px;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;font-size:1.05em}.daily-agenda__header,.daily-agenda__row{display:grid;grid-template-columns:30px repeat(7,minmax(0,1fr));column-gap:0}.daily-agenda__header{background:color-mix(in srgb,var(--card-background) 85%,white 15%);text-transform:uppercase;font-weight:400;letter-spacing:.001em}.daily-agenda__week-label,.daily-agenda__day-label,.daily-agenda__week-number{display:flex;align-items:flex-end;justify-content:center;padding:.15em .25em .4em;border-right:1px solid color-mix(in srgb,var(--card-border) 70%,transparent 30%)}.daily-agenda__week-label{border-left:none}.daily-agenda__day-label:last-child{border-right:none}.daily-agenda__body{display:flex;flex-direction:column}.daily-agenda__row{background:color-mix(in srgb,var(--card-background) 96%,black 4%);grid-auto-rows:36px;align-items:stretch}.daily-agenda__row>.daily-agenda__week-number,.daily-agenda__row>.daily-agenda__cell{border-top:1px solid color-mix(in srgb,var(--card-border) 70%,transparent 30%)}.daily-agenda__week-number{font-weight:600}.daily-agenda__cell{min-height:36px;display:flex;align-items:stretch;justify-content:center;padding:0;border-right:1px solid color-mix(in srgb,var(--card-border) 70%,transparent 30%)}.daily-agenda__cell:last-child{border-right:none}.daily-agenda__cell.outside-month{background:color-mix(in srgb,var(--card-background) 60%,var(--card-border) 40%);opacity:.4}.daily-agenda__cell.today{background:color-mix(in srgb,var(--card-background) 85%,var(--accent-color) 15%)}.daily-agenda__cell>button{flex:1 1 auto;width:100%;height:100%;margin:0;padding:0;border-radius:0;border:0;display:flex;align-items:center;justify-content:center;position:relative;font-size:1.2em}.daily-agenda__cell>.btn-calendar{width:100%!important;height:100%!important;margin:0!important;padding:0!important;border:1px solid rgba(255,255,255,.479)!important;border-radius:0!important;display:flex!important;align-items:center;justify-content:center;aspect-ratio:auto!important;line-height:1}.calendar-scroll-container.animate>.left{animation:calendar-left-move-left .6s ease-out;animation-fill-mode:forwards}.calendar-scroll-container.animate>.right{animation:calendar-right-move-left .6s ease-out;animation-fill-mode:forwards}.calendar-scroll-container.animate.daily-view>.daily-agenda{animation:calendar-left-move-left .6s ease-out;animation-fill-mode:forwards}.grid-selector-header{margin:1em 0;align-items:center}.grid-selector-header>h3{margin:0!important}.secondary-link{max-width:90%;width:400px;text-decoration:none;text-align:end;margin-bottom:2em;color:#fff}.secondary-link:hover{text-decoration:underline;color:#d972ff}@keyframes calendar-left-move-left{0%{left:0%;opacity:1}to{left:50%;opacity:0}}@keyframes calendar-right-move-left{0%{left:-100%;opacity:0}to{left:-50%;opacity:1}}@keyframes tilt-n-move-shaking{0%{transform:translate(0) rotate(0)}25%{transform:translate(2px,2px) rotate(5deg)}50%{transform:translate(0) rotate(0)}75%{transform:translate(-2px,2px) rotate(-5deg)}to{transform:translate(0) rotate(0)}}.tuto{font-size:large}.btn-tuto{margin:0 auto}\n'],encapsulation:2})}}return l})();var Hd=D(3965);let pc=(()=>{class l{constructor(n){this.http=n,this.baseUrl=ur.c.apiUrl}getProducts(){return this.http.get(`${this.baseUrl}/payment/product`)}getPrices(){return this.http.get(`${this.baseUrl}/payment/prices`)}getMojettePrices(){return this.getProducts().pipe((0,U.T)(n=>n.filter(r=>"mojette"===r?.metadata?.type)[0].id),(0,rh.Z)(n=>this.http.get(`${this.baseUrl}/payment/product/${n}/prices`)),(0,U.T)(n=>n.map(r=>({id:r.id,mojette:r.transform_quantity.divide_by,price:r.unit_amount/100}))))}getTokensPrices(){return this.getProducts().pipe((0,U.T)(n=>n.filter(r=>"token"===r?.metadata?.type)[0].id),(0,rh.Z)(n=>this.http.get(`${this.baseUrl}/payment/product/${n}/prices`)),(0,U.T)(n=>n.map(r=>({id:r.id,token:r.transform_quantity.divide_by,price:r.unit_amount/100,promoMojette:"true"===r.metadata.promo_mojette,promoMojetteAmount:"true"===r.metadata.promo_mojette?Number(r.metadata.promo_mojette_amount):0}))))}createCheckoutSession(n){return this.http.post(`${this.baseUrl}/payment/create-checkout-session`,{line_items:n})}success(){return this.http.get(`${this.baseUrl}/payment/success`)}cancel(){return this.http.get(`${this.baseUrl}/payment/cancel`)}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(v.Qq))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function vb(l,c){if(1&l&&(e.j41(0,"p",6),e.EFF(1),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.Lme(" ",n.cartItems.length," article",n.cartItems.length>1?"s":""," dans votre panier ")}}function yg(l,c){1&l&&(e.j41(0,"div",7)(1,"div",8)(2,"span",9),e.EFF(3,"shopping_cart"),e.k0s()(),e.j41(4,"h2",10),e.EFF(5,"Votre panier est vide"),e.k0s(),e.j41(6,"p",11),e.EFF(7,"Ajoutez des articles depuis la boutique pour commencer vos achats."),e.k0s(),e.j41(8,"a",12),e.EFF(9,"Parcourir la boutique"),e.k0s()())}function bb(l,c){if(1&l&&(e.j41(0,"span",46),e.EFF(1),e.nrm(2,"img",47),e.k0s()),2&l){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ou ",n.mojette_unit_amount," ")}}function yb(l,c){if(1&l&&(e.j41(0,"span",48),e.EFF(1),e.nrm(2,"img",47),e.k0s()),2&l){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ou ",n.mojette_unit_amount*n.quantity," ")}}function vl(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",30)(1,"div",31)(2,"img",32),e.bIt("error",function(a){e.eBV(n);const h=e.XpG(2);return e.Njj(h.handleImageError(a))}),e.k0s()(),e.j41(3,"div",33)(4,"h3",34),e.EFF(5),e.k0s(),e.j41(6,"div",35)(7,"span",36),e.EFF(8),e.k0s(),e.DNE(9,bb,3,1,"span",37),e.k0s()(),e.j41(10,"div",38)(11,"button",39),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.decrementQuantity(a))}),e.j41(12,"span",9),e.EFF(13,"remove"),e.k0s()(),e.j41(14,"span",40),e.EFF(15),e.k0s(),e.j41(16,"button",41),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.incrementQuantity(a))}),e.j41(17,"span",9),e.EFF(18,"add"),e.k0s()()(),e.j41(19,"div",42)(20,"span",43),e.EFF(21),e.k0s(),e.DNE(22,yb,3,1,"span",44),e.k0s(),e.j41(23,"button",45),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.removeItem(a))}),e.j41(24,"span",9),e.EFF(25,"delete"),e.k0s()()()}if(2&l){const n=c.$implicit;e.R7$(2),e.Y8G("src",n.image||"assets/beans.svg",e.B4B)("alt",n.name),e.R7$(3),e.Lme("",n.amount," ",n.name,""),e.R7$(3),e.SpI("",n.euro_unit_amount,"\u20ac"),e.R7$(),e.Y8G("ngIf",n.mojette_unit_amount>0),e.R7$(2),e.Y8G("disabled",1===n.quantity),e.R7$(4),e.JRh(n.quantity),e.R7$(6),e.SpI("",(n.euro_unit_amount*n.quantity).toFixed(2),"\u20ac"),e.R7$(),e.Y8G("ngIf",n.mojette_unit_amount>0)}}function Mf(l,c){if(1&l&&(e.j41(0,"div",18)(1,"span",19),e.EFF(2,"Total Mojettes"),e.k0s(),e.j41(3,"span",20),e.EFF(4),e.nrm(5,"img",47),e.k0s()()),2&l){const n=e.XpG(2);e.R7$(4),e.SpI(" ",n.total_mojette," ")}}function Cg(l,c){if(1&l&&(e.j41(0,"span",49),e.EFF(1),e.nrm(2,"img",47),e.k0s()),2&l){const n=e.XpG(2);e.R7$(),e.SpI(" ou ",n.total_mojette," ")}}function Eg(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",13)(1,"div",14),e.DNE(2,vl,26,10,"div",15),e.k0s(),e.j41(3,"div",16)(4,"h2",17),e.EFF(5,"R\xe9sum\xe9 de la commande"),e.k0s(),e.j41(6,"div",18)(7,"span",19),e.EFF(8,"Sous-total"),e.k0s(),e.j41(9,"span",20),e.EFF(10),e.k0s()(),e.DNE(11,Mf,6,1,"div",21),e.nrm(12,"div",22),e.j41(13,"div",23)(14,"span",24),e.EFF(15,"Total"),e.k0s(),e.j41(16,"div",25)(17,"span",26),e.EFF(18),e.k0s(),e.DNE(19,Cg,3,1,"span",27),e.k0s()(),e.j41(20,"button",28),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.checkout())}),e.j41(21,"span",9),e.EFF(22,"lock"),e.k0s(),e.EFF(23," Passer au paiement "),e.k0s(),e.j41(24,"a",29)(25,"span",9),e.EFF(26,"arrow_back"),e.k0s(),e.EFF(27," Continuer les achats "),e.k0s()()()}if(2&l){const n=e.XpG();e.R7$(2),e.Y8G("ngForOf",n.cartItems),e.R7$(8),e.SpI("",n.total_euro.toFixed(2),"\u20ac"),e.R7$(),e.Y8G("ngIf",n.total_mojette>0),e.R7$(7),e.SpI("",n.total_euro.toFixed(2),"\u20ac"),e.R7$(),e.Y8G("ngIf",n.total_mojette>0),e.R7$(),e.Y8G("disabled",n.isCartEmpty())}}let Cb=(()=>{class l{constructor(n,r,a){this.cartService=n,this.paymentService=r,this.stripeService=a,this.cartItems=[],this.total_euro=0,this.total_mojette=0}ngOnInit(){this.paymentService.getPrices().subscribe(n=>{n=n.reduce((r,a)=>(r[a.id]=a,r),{}),this.paymentService.getProducts().subscribe(r=>{r=r.reduce((h,p)=>(h[p.id]=p,h),{});const a=this.cartService.getCart();this.cartItems=a.map(h=>{const p=n[h.price],_=r[p.product];return{...h,name:_.name,image:_.images[0],amount:p.transform_quantity.divide_by??1,euro_unit_amount:p.unit_amount/100,mojette_unit_amount:p?.metadata?.promo_mojette_amount??0}}),this.updateTotal()})})}updateTotal(){this.total_euro=this.cartItems.reduce((n,r)=>n+r.euro_unit_amount*r.quantity,0),this.total_mojette=this.cartItems.reduce((n,r)=>n+r.mojette_unit_amount*r.quantity,0)}removeItem(n){this.cartService.removeFromCart(n),this.cartItems=this.cartItems.filter(r=>r.price!==n.price),this.updateTotal()}incrementQuantity(n){this.cartService.updatequantityInCart(n.price,n.quantity+1),this.cartItems=this.cartItems.map(r=>(r.price===n.price&&r.quantity++,r)),this.updateTotal()}decrementQuantity(n){1!==n.quantity&&(this.cartService.updatequantityInCart(n.price,n.quantity-1),this.cartItems=this.cartItems.map(r=>(r.price===n.price&&r.quantity--,r)),this.updateTotal())}isCartEmpty(){return this.cartService.isCartEmpty()||0===this.cartItems.length}checkout(){if(this.isCartEmpty())return;if(this.total_mojette>0){const r=window.localStorage.getItem("currentUser");if(!r)return;if((JSON.parse(r)?.mojettes??0)<this.total_mojette)return void alert("Vous ne poss\xe9dez pas assez de mojette pour effectuer cet achat")}const n=this.cartService.getCart();this.paymentService.createCheckoutSession(n).pipe((0,L.n)(r=>this.stripeService.redirectToCheckout({sessionId:r.id}))).subscribe(r=>{r.error&&alert(r.error.message)})}handleImageError(n){n.target.src="assets/beans.svg"}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Hd.m),e.rXU(pc),e.rXU(Va))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-cart"]],hostAttrs:[1,"light-theme"],decls:8,vars:3,consts:[[1,"cart-container"],[1,"cart-header"],[1,"cart-title"],["class","cart-subtitle",4,"ngIf"],["class","empty-cart",4,"ngIf"],["class","cart-content",4,"ngIf"],[1,"cart-subtitle"],[1,"empty-cart"],[1,"empty-cart-icon"],[1,"material-symbols-outlined"],[1,"empty-cart-title"],[1,"empty-cart-text"],["href","/boutique",1,"btn","btn-primary","btn-browse"],[1,"cart-content"],[1,"cart-items-section"],["class","cart-item",4,"ngFor","ngForOf"],[1,"order-summary"],[1,"summary-title"],[1,"summary-line"],[1,"summary-label"],[1,"summary-value"],["class","summary-line",4,"ngIf"],[1,"summary-divider"],[1,"summary-total"],[1,"total-label"],[1,"total-amounts"],[1,"total-euro"],["class","total-mojette",4,"ngIf"],[1,"checkout-btn",3,"click","disabled"],["href","/boutique",1,"continue-shopping"],[1,"cart-item"],[1,"item-image-container"],[1,"item-image",3,"error","src","alt"],[1,"item-details"],[1,"item-name"],[1,"item-pricing"],[1,"item-price"],["class","item-mojette-price",4,"ngIf"],[1,"item-quantity-controls"],["aria-label","Diminuer la quantit\xe9",1,"quantity-btn",3,"click","disabled"],[1,"quantity-value"],["aria-label","Augmenter la quantit\xe9",1,"quantity-btn",3,"click"],[1,"item-total"],[1,"item-total-price"],["class","item-total-mojette",4,"ngIf"],["aria-label","Retirer l'article",1,"remove-btn",3,"click"],[1,"item-mojette-price"],["src","assets/boutique/formations/formation_beans.png","alt","Mojette",1,"mojette-icon-small"],[1,"item-total-mojette"],[1,"total-mojette"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.j41(1,"div",0)(2,"div",1)(3,"h1",2),e.EFF(4,"Panier"),e.k0s(),e.DNE(5,vb,2,2,"p",3),e.k0s(),e.DNE(6,yg,10,0,"div",4)(7,Eg,28,6,"div",5),e.k0s()),2&r&&(e.R7$(5),e.Y8G("ngIf",!a.isCartEmpty()),e.R7$(),e.Y8G("ngIf",a.isCartEmpty()),e.R7$(),e.Y8G("ngIf",!a.isCartEmpty()))},dependencies:[Oi._,R.Sq,R.bT],styles:["[_nghost-%COMP%]{display:flex!important;flex-direction:column!important;width:100%!important;overflow-y:auto!important;overflow-x:hidden!important;max-height:none!important;height:auto!important;flex:none!important;background-color:#fff!important;align-items:stretch!important}  app-navbar{flex-shrink:0!important;width:100%!important;display:block!important}  app-navbar .navbar{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:space-between!important}[_nghost-%COMP%]{--text-color: #000000 !important;--secondary-color: #000000 !important}  app-navbar .navbar{color:#000!important}  app-navbar .navbar button.btn-navbar,   app-navbar .navbar .btn-navbar{color:#000!important}  app-navbar .navbar button.btn-navbar .material-symbols-outlined,   app-navbar .navbar .btn-navbar .material-symbols-outlined{color:#000!important}  app-navbar h2.titre>a{color:#000!important}  app-navbar .navbar-button-container .navbar-icon,   app-navbar .navbar-button-container .token-span-container,   app-navbar .navbar-button-container .mojette-span-container{color:#000!important}  app-navbar .navbar-button-container .navbar-icon .nb-mojette,   app-navbar .navbar-button-container .navbar-icon span,   app-navbar .navbar-button-container .token-span-container .nb-mojette,   app-navbar .navbar-button-container .token-span-container span,   app-navbar .navbar-button-container .mojette-span-container .nb-mojette,   app-navbar .navbar-button-container .mojette-span-container span{color:#000!important}  app-navbar .navbar-button-container .navbar-icon .material-symbols-outlined,   app-navbar .navbar-button-container .token-span-container .material-symbols-outlined,   app-navbar .navbar-button-container .mojette-span-container .material-symbols-outlined{color:#000!important}  app-navbar .navbar-button-container .material-symbols-outlined{color:#000!important}  app-navbar .account-button,   app-navbar .login-button{color:#000!important;border-color:#000!important}  app-navbar .account-button .ItemsButtonLogin,   app-navbar .login-button .ItemsButtonLogin{color:#000!important}  app-navbar .account-button .ItemsButtonLogin i,   app-navbar .account-button .ItemsButtonLogin span,   app-navbar .login-button .ItemsButtonLogin i,   app-navbar .login-button .ItemsButtonLogin span{color:#000!important}  app-navbar .dropdown-menu{color:#000!important;border-color:#000!important}  app-navbar .dropdown-menu li{color:#000!important}  app-navbar .dropdown-menu li span{color:#000!important}.cart-container[_ngcontent-%COMP%]{min-height:calc(100vh - 87px);background-color:#fff;padding:2em 1em;max-width:1200px;width:100%;margin:0 auto;position:relative;box-sizing:border-box}@media (min-width: 768px){.cart-container[_ngcontent-%COMP%]{padding:3em 2em}}.cart-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3em;padding-bottom:2em;border-bottom:2px solid #e0e0e0}.cart-title[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:#000;margin:0 0 .5em;letter-spacing:-1px}@media (min-width: 768px){.cart-title[_ngcontent-%COMP%]{font-size:3.5em}}.cart-subtitle[_ngcontent-%COMP%]{font-size:1.1em;color:#666;margin:0}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4em 2em;text-align:center}.empty-cart-icon[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background-color:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-bottom:2em}.empty-cart-icon[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:64px;color:#ccc}.empty-cart-title[_ngcontent-%COMP%]{font-size:2em;font-weight:600;color:#000;margin:0 0 .5em}.empty-cart-text[_ngcontent-%COMP%]{font-size:1.1em;color:#666;margin:0 0 2em;max-width:500px}.btn-browse[_ngcontent-%COMP%]{padding:.75em 2em;font-size:1.1em;border-radius:8px;text-decoration:none;display:inline-block;transition:all .2s ease}.cart-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:2em}@media (min-width: 968px){.cart-content[_ngcontent-%COMP%]{grid-template-columns:1fr 380px;gap:3em}}.cart-items-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5em}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px 1fr auto auto 50px;gap:1.5em;align-items:center;padding:1.5em;background-color:#fff;border:1px solid #e0e0e0;border-radius:12px;transition:all .2s ease}.cart-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000014;transform:translateY(-2px)}@media (max-width: 967px){.cart-item[_ngcontent-%COMP%]{grid-template-columns:100px 1fr 50px;grid-template-rows:auto auto;gap:1em}}@media (max-width: 480px){.cart-item[_ngcontent-%COMP%]{grid-template-columns:80px 1fr 40px;grid-template-rows:auto auto auto;padding:1em}}.item-image-container[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:8px;overflow:hidden;background-color:#f5f5f5;display:flex;align-items:center;justify-content:center}@media (max-width: 967px){.item-image-container[_ngcontent-%COMP%]{grid-column:1;grid-row:1/3;width:100px;height:100px}}@media (max-width: 480px){.item-image-container[_ngcontent-%COMP%]{width:80px;height:80px;grid-row:1}}.item-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;padding:.5em}.item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5em}@media (max-width: 967px){.item-details[_ngcontent-%COMP%]{grid-column:2;grid-row:1}}@media (max-width: 480px){.item-details[_ngcontent-%COMP%]{grid-column:2;grid-row:1}}.item-name[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600;color:#000;margin:0;line-height:1.3}.item-pricing[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25em}.item-price[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;color:#000}.item-mojette-price[_ngcontent-%COMP%]{font-size:.95em;color:#666;display:flex;align-items:center;gap:.25em}.mojette-icon-small[_ngcontent-%COMP%]{width:16px;height:16px;object-fit:contain}.item-quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75em;border:1px solid #e0e0e0;border-radius:8px;padding:.25em;background-color:#fafafa}@media (max-width: 967px){.item-quantity-controls[_ngcontent-%COMP%]{grid-column:2;grid-row:2;justify-self:start}}@media (max-width: 480px){.item-quantity-controls[_ngcontent-%COMP%]{grid-column:2;grid-row:2;align-self:center}}.quantity-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background-color:#fff;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#666}.quantity-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#7ddf64;color:#fff;transform:scale(1.05)}.quantity-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.quantity-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px}.quantity-value[_ngcontent-%COMP%]{min-width:30px;text-align:center;font-weight:600;font-size:1em;color:#000}.item-total[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.25em}@media (max-width: 967px){.item-total[_ngcontent-%COMP%]{grid-column:1/4;grid-row:3;flex-direction:row;justify-content:space-between;align-items:center;margin-top:1em;padding-top:1em;border-top:1px solid #e0e0e0}}@media (max-width: 480px){.item-total[_ngcontent-%COMP%]{grid-column:1/4;grid-row:3}}.item-total-price[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;color:#000}.item-total-mojette[_ngcontent-%COMP%]{font-size:.95em;color:#666;display:flex;align-items:center;gap:.25em}.remove-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:none;background-color:transparent;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#ed2525}.remove-btn[_ngcontent-%COMP%]:hover{background-color:#ffeaea;transform:scale(1.1)}.remove-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px}@media (max-width: 967px){.remove-btn[_ngcontent-%COMP%]{grid-column:3;grid-row:1/3;align-self:start;justify-self:end}}@media (max-width: 480px){.remove-btn[_ngcontent-%COMP%]{grid-column:3;grid-row:1;width:36px;height:36px}.remove-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px}}.order-summary[_ngcontent-%COMP%]{background-color:#fafafa;border:1px solid #e0e0e0;border-radius:12px;padding:2em;height:fit-content;position:sticky;top:2em}@media (max-width: 967px){.order-summary[_ngcontent-%COMP%]{position:static}}.summary-title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#000;margin:0 0 1.5em}.summary-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75em 0;font-size:1em}.summary-label[_ngcontent-%COMP%]{color:#666}.summary-value[_ngcontent-%COMP%]{font-weight:600;color:#000;display:flex;align-items:center;gap:.25em}.summary-divider[_ngcontent-%COMP%]{height:1px;background-color:#e0e0e0;margin:1em 0}.summary-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:1em 0;margin-bottom:1.5em}.total-label[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;color:#000}.total-amounts[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.5em}.total-euro[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:#7ddf64}.total-mojette[_ngcontent-%COMP%]{font-size:1em;color:#666;display:flex;align-items:center;gap:.25em}.checkout-btn[_ngcontent-%COMP%]{width:100%;padding:1em 2em;background-color:#7ddf64;color:#fff;border:none;border-radius:8px;font-size:1.1em;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5em;transition:all .2s ease;margin-bottom:1em}.checkout-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#6ccf54;transform:translateY(-2px);box-shadow:0 4px 12px #7ddf644d}.checkout-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.checkout-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.checkout-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px}.continue-shopping[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5em;color:#666;text-decoration:none;font-size:.95em;transition:color .2s ease;padding:.5em}.continue-shopping[_ngcontent-%COMP%]:hover{color:#7ddf64}.continue-shopping[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 767px){.cart-container[_ngcontent-%COMP%]{padding:1.5em 1em}.cart-title[_ngcontent-%COMP%]{font-size:2.5em}.cart-item[_ngcontent-%COMP%]{padding:1em}.item-image-container[_ngcontent-%COMP%]{width:80px;height:80px}.item-name[_ngcontent-%COMP%]{font-size:1em}.order-summary[_ngcontent-%COMP%]{padding:1.5em;margin-top:2em;border-top:2px solid #e0e0e0;border-radius:0;border-left:none;border-right:none}}"]})}}return l})();const Eb=["illustrationImg"];function wb(l,c){1&l&&(e.j41(0,"div",22)(1,"div",23),e.nrm(2,"div",24),e.j41(3,"p",25),e.EFF(4,"Chargement de la boutique..."),e.k0s()()())}function Db(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",26)(1,"div",27),e.EFF(2),e.k0s(),e.j41(3,"div",28),e.nrm(4,"img",29,0),e.k0s(),e.j41(6,"div",30)(7,"span",31),e.EFF(8),e.k0s(),e.j41(9,"button",32),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG();return e.Njj(h.addtocart(a.id))}),e.j41(10,"span",33),e.EFF(11,"add"),e.k0s()()()()}if(2&l){const n=c.$implicit,r=e.XpG();e.R7$(2),e.SpI("",n.mojette," MOJETTES"),e.R7$(2),e.Y8G("src",r.getMojetteAsset(n.mojette),e.B4B)("alt",n.mojette+" Mojettes"),e.R7$(4),e.SpI("",n.price,"\u20ac")}}function xb(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",34)(1,"div",27),e.EFF(2),e.k0s(),e.j41(3,"div",28),e.nrm(4,"img",29,0),e.k0s(),e.j41(6,"div",35)(7,"div",36)(8,"span",31),e.EFF(9),e.k0s(),e.j41(10,"button",32),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG();return e.Njj(h.addtocart(a[0].id))}),e.j41(11,"span",33),e.EFF(12,"add"),e.k0s()()(),e.j41(13,"div",37)(14,"span",38),e.EFF(15,"ou"),e.k0s(),e.j41(16,"span",31),e.EFF(17),e.k0s(),e.j41(18,"span",39),e.EFF(19,"+"),e.k0s(),e.j41(20,"span",40),e.EFF(21),e.k0s(),e.nrm(22,"img",41),e.j41(23,"button",32),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG();return e.Njj(h.addtocart(a[1].id))}),e.j41(24,"span",33),e.EFF(25,"add"),e.k0s()()()()()}if(2&l){const n=c.$implicit,r=e.XpG();e.R7$(2),e.SpI("",n[0].token," JETONS"),e.R7$(2),e.Y8G("src",r.getFormationAsset(n[0].token),e.B4B)("alt",n[0].token+" Jetons"),e.R7$(5),e.SpI("",n[0].price,"\u20ac"),e.R7$(8),e.SpI("",n[1].price,"\u20ac"),e.R7$(4),e.JRh(n[1].promoMojetteAmount)}}let Mb=(()=>{class l{openDialog(){const n=document.getElementById("connectDialog");n instanceof HTMLDialogElement&&n.showModal()}constructor(n,r){this.paymentService=n,this.cartService=r,this.mojettes=[],this.tokens=[],this.isLoading=!0,this.loadedImages=0,this.totalImages=0,this.paymentService.getMojettePrices().subscribe(a=>{this.mojettes=a.sort((h,p)=>h.mojette-p.mojette),this.updateTotalImages()}),this.paymentService.getTokensPrices().subscribe(a=>{10==a.length?(this.tokens=a.sort((h,p)=>h.token-p.token||h.promoMojetteAmount-p.promoMojetteAmount).reduce((h,p,_)=>(_%2==0?h.push([p]):h[h.length-1].push(p),h),[]),this.updateTotalImages()):console.log("Error: prices.length != 10")})}ngAfterViewInit(){setTimeout(()=>{this.attachImageLoadHandlers()},100)}updateTotalImages(){const h=this.mojettes.length+this.tokens.length+this.tokens.length;h!==this.totalImages&&h>0&&(this.totalImages=h,this.loadedImages=0,setTimeout(()=>{this.attachImageLoadHandlers()},150)),0===this.totalImages&&(this.isLoading=!1)}attachImageLoadHandlers(){this.images&&this.images.length>0&&this.images.forEach(n=>{const r=n.nativeElement;if(r.complete&&r.naturalWidth>0)this.onImageLoad();else{const h=()=>this.onImageLoad();r.addEventListener("load",()=>this.onImageLoad(),{once:!0}),r.addEventListener("error",h,{once:!0})}}),setTimeout(()=>{document.querySelectorAll(".mojette-icon").forEach(r=>{const a=r;a.complete&&a.naturalWidth>0?this.onImageLoad():(a.addEventListener("load",()=>this.onImageLoad(),{once:!0}),a.addEventListener("error",()=>this.onImageLoad(),{once:!0}))})},50)}onImageLoad(){this.loadedImages++,this.loadedImages>=this.totalImages&&this.totalImages>0&&setTimeout(()=>{this.isLoading=!1},300)}addtocart(n){this.cartService.addToCart({price:n,quantity:1})}getMojetteAsset(n){return`assets/boutique/mojettes/mojettes_x${n}.png`}getFormationAsset(n){return`assets/boutique/formations/formation_${n}x.png`}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(pc),e.rXU(Hd.m))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-payment"]],viewQuery:function(r,a){if(1&r&&e.GBs(Eb,5),2&r){let h;e.mGM(h=e.lsd())&&(a.images=h)}},hostAttrs:[1,"light-theme"],decls:32,vars:5,consts:[["illustrationImg",""],[3,"onOpenDialog"],["class","loading-overlay",4,"ngIf"],[1,"boutique-container"],[1,"title-container","d-flex","flex-row","justify-content-center","align-items-center"],[1,"home-title","zilla-slab"],[1,"w-100","d-flex","flex-row","justify-content-center","mb-4"],["href","/cart",1,"btn","btn-primary"],[1,"mojettes-section"],[1,"section-header"],[1,"decorative-separator"],[1,"section-title"],[1,"section-description"],[1,"items-grid","mojettes-grid"],["class","item-card mojette-card",4,"ngFor","ngForOf"],[1,"category-separator"],[1,"separator-line"],[1,"separator-ornament"],[1,"formations-section"],[1,"section-subtitle"],[1,"items-grid","formations-grid"],["class","item-card formation-card",4,"ngFor","ngForOf"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"spinner"],[1,"loading-text"],[1,"item-card","mojette-card"],[1,"item-quantity"],[1,"item-illustration"],[1,"illustration-img",3,"src","alt"],[1,"item-footer"],[1,"item-price"],["aria-label","Ajouter au panier",1,"add-button",3,"click"],[1,"material-symbols-outlined"],[1,"item-card","formation-card"],[1,"item-pricing-options"],[1,"pricing-option"],[1,"pricing-option","promo-option"],[1,"promo-label"],[1,"plus-sign"],[1,"mojette-amount"],["src","assets/boutique/formations/formation_beans.png","alt","Mojette",1,"mojette-icon"]],template:function(r,a){1&r&&(e.j41(0,"app-navbar",1),e.bIt("onOpenDialog",function(){return a.openDialog()}),e.k0s(),e.DNE(1,wb,5,0,"div",2),e.j41(2,"div",3)(3,"div",4)(4,"h1",5),e.EFF(5,"Boutique"),e.k0s()(),e.j41(6,"div",6)(7,"a",7),e.EFF(8," Voir le panier "),e.k0s()(),e.j41(9,"section",8)(10,"div",9),e.nrm(11,"div",10),e.j41(12,"h2",11),e.EFF(13,"Mojettes"),e.k0s(),e.j41(14,"p",12),e.EFF(15," Gagner des mojettes en jouant aux jeux. Utiliser vos mojettes pour obtenir de l'aide dans les jeux, ou pour obtenir des r\xe9ductions \xe0 l'achat de vos jetons de formations. "),e.k0s()(),e.j41(16,"div",13),e.DNE(17,Db,12,4,"div",14),e.k0s()(),e.j41(18,"div",15),e.nrm(19,"div",16)(20,"div",17)(21,"div",16),e.k0s(),e.j41(22,"section",18)(23,"div",9)(24,"h2",11),e.EFF(25,"Jetons de formations"),e.k0s(),e.j41(26,"p",12),e.EFF(27," Utiliser les jetons de formations pour acc\xe9der aux formations lives et aux replays "),e.k0s(),e.j41(28,"p",19),e.EFF(29,'"Histoire" et "R\xe9solution de probl\xe8me"'),e.k0s()(),e.j41(30,"div",20),e.DNE(31,xb,26,6,"div",21),e.k0s()()()),2&r&&(e.R7$(),e.Y8G("ngIf",a.isLoading),e.R7$(),e.AVh("content-hidden",a.isLoading),e.R7$(15),e.Y8G("ngForOf",a.mojettes),e.R7$(14),e.Y8G("ngForOf",a.tokens))},dependencies:[Oi._,R.Sq,R.bT],styles:['[_nghost-%COMP%]{display:block;width:100%;overflow-y:auto;overflow-x:hidden;max-height:none;height:auto;flex:none;--text-color: #000000 !important;--secondary-color: #000000 !important}  app-navbar{--text-color: #000000 !important;--secondary-color: #000000 !important}  app-navbar .navbar{color:#000!important}  app-navbar .navbar button.btn-navbar,   app-navbar .navbar .btn-navbar{color:#000!important}  app-navbar .navbar button.btn-navbar .material-symbols-outlined,   app-navbar .navbar .btn-navbar .material-symbols-outlined{color:#000!important}  app-navbar h2.titre>a{color:#000!important}  app-navbar .navbar-button-container .navbar-icon,   app-navbar .navbar-button-container .token-span-container,   app-navbar .navbar-button-container .mojette-span-container{color:#000!important}  app-navbar .navbar-button-container .navbar-icon .nb-mojette,   app-navbar .navbar-button-container .navbar-icon span,   app-navbar .navbar-button-container .token-span-container .nb-mojette,   app-navbar .navbar-button-container .token-span-container span,   app-navbar .navbar-button-container .mojette-span-container .nb-mojette,   app-navbar .navbar-button-container .mojette-span-container span{color:#000!important}  app-navbar .navbar-button-container .navbar-icon .material-symbols-outlined,   app-navbar .navbar-button-container .token-span-container .material-symbols-outlined,   app-navbar .navbar-button-container .mojette-span-container .material-symbols-outlined{color:#000!important}  app-navbar .navbar-button-container .material-symbols-outlined{color:#000!important}  app-navbar .account-button,   app-navbar .login-button{color:#000!important;border-color:#000!important}  app-navbar .account-button .ItemsButtonLogin,   app-navbar .login-button .ItemsButtonLogin{color:#000!important}  app-navbar .account-button .ItemsButtonLogin i,   app-navbar .account-button .ItemsButtonLogin span,   app-navbar .login-button .ItemsButtonLogin i,   app-navbar .login-button .ItemsButtonLogin span{color:#000!important}  app-navbar .dropdown-menu{color:#000!important;border-color:#000!important}  app-navbar .dropdown-menu li{color:#000!important}  app-navbar .dropdown-menu li span{color:#000!important}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fff;display:flex;justify-content:center;align-items:center;z-index:9999;transition:opacity .3s ease,visibility .3s ease}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5em}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #f0f0f0;border-top:4px solid #7DDF64;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:1.1em;color:#666;font-weight:500;margin:0}.boutique-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#fff;padding:2em 1em;max-width:1400px;margin:0 auto;overflow-y:visible;overflow-x:hidden;transition:opacity .3s ease;position:relative;width:100%}@media (min-width: 768px){.boutique-container[_ngcontent-%COMP%]{padding:3em 2em}}.boutique-container.content-hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.title-container[_ngcontent-%COMP%]{margin-bottom:2em}.home-title[_ngcontent-%COMP%]{color:#000;font-size:2.5em;font-weight:700;letter-spacing:-1px;margin:0;text-align:center}@media (min-width: 768px){.home-title[_ngcontent-%COMP%]{font-size:3.5em;line-height:54px}}section[_ngcontent-%COMP%]{margin-bottom:4em}.section-header[_ngcontent-%COMP%]{margin-bottom:3em;text-align:center}.decorative-separator[_ngcontent-%COMP%]{width:100%;height:2px;background:linear-gradient(to right,transparent,#1a1a1a 20%,#1a1a1a 80%,transparent);position:relative;margin-bottom:2em}.decorative-separator[_ngcontent-%COMP%]:before, .decorative-separator[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;transform:translateY(-50%);width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:6px solid #1a1a1a}.decorative-separator[_ngcontent-%COMP%]:before{left:calc(50% - 30px)}.decorative-separator[_ngcontent-%COMP%]:after{right:calc(50% - 30px);border-top:none;border-bottom:6px solid #1a1a1a}.section-title[_ngcontent-%COMP%]{font-size:2.5em;font-weight:700;color:#000;margin:.5em 0;letter-spacing:-.5px}.section-description[_ngcontent-%COMP%]{font-size:1.1em;color:#000;line-height:1.6;max-width:800px;margin:.5em auto}.section-subtitle[_ngcontent-%COMP%]{font-size:1em;color:#666;margin-top:.5em;font-style:italic}.category-separator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1em;width:100%;max-width:600px;margin:4em auto}.separator-line[_ngcontent-%COMP%]{flex:1;height:2px;background:linear-gradient(to right,transparent,#1a1a1a 50%,transparent)}.separator-ornament[_ngcontent-%COMP%]{width:16px;height:16px;position:relative;flex-shrink:0}.separator-ornament[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg);width:6px;height:6px;background-color:#1a1a1a;box-shadow:-20px 0 0 -3px #1a1a1a,20px 0 0 -3px #1a1a1a}.separator-ornament[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:1px;height:12px;background-color:#1a1a1a;box-shadow:-14px 0 #1a1a1a,14px 0 #1a1a1a}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:0;padding:0 1em;position:relative}@media (min-width: 768px){.items-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);padding:0}}@media (max-width: 767px){.items-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 480px){.items-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 768px){.mojettes-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}}@media (min-width: 768px){.formations-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}}.item-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#fff;padding:1.5em 1em;transition:transform .2s ease,box-shadow .2s ease;position:relative;border-right:1px solid #d0d0d0}.item-card[_ngcontent-%COMP%]:last-child{border-right:none}@media (max-width: 767px){.item-card[_ngcontent-%COMP%]{border-right:1px solid #d0d0d0}.item-card[_ngcontent-%COMP%]:nth-child(2n){border-right:none}}@media (max-width: 480px){.item-card[_ngcontent-%COMP%]{border-right:none;border-bottom:1px solid #d0d0d0}.item-card[_ngcontent-%COMP%]:last-child{border-bottom:none}}.item-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #0000001a}.item-quantity[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;color:#ff6b35;margin-bottom:1em;text-align:center;letter-spacing:.5px}@media (min-width: 768px){.item-quantity[_ngcontent-%COMP%]{font-size:1.5em}}.item-illustration[_ngcontent-%COMP%]{width:100%;max-width:180px;height:auto;margin-bottom:1.5em;display:flex;justify-content:center;align-items:center;position:relative}.illustration-img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;filter:drop-shadow(0 2px 4px rgba(0,0,0,.15))}.item-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;gap:1em;margin-top:auto;padding-top:1em;position:relative}.item-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background-color:#d0d0d0}.item-price[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600;color:#000}.add-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#7ddf64;border:none;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 4px #00000026;flex-shrink:0}.add-button[_ngcontent-%COMP%]:hover{background-color:#6ccf54;transform:scale(1.1);box-shadow:0 4px 8px #0003}.add-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.add-button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.formation-card[_ngcontent-%COMP%]   .item-pricing-options[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:.75em;margin-top:auto;padding-top:1em;position:relative}.formation-card[_ngcontent-%COMP%]   .item-pricing-options[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background-color:#d0d0d0}.formation-card[_ngcontent-%COMP%]   .pricing-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5em;width:100%;flex-wrap:wrap}.formation-card[_ngcontent-%COMP%]   .promo-option[_ngcontent-%COMP%]{font-size:.95em;color:#666}.formation-card[_ngcontent-%COMP%]   .promo-option[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:1em;margin-left:.25em}.formation-card[_ngcontent-%COMP%]   .promo-label[_ngcontent-%COMP%]{font-size:.9em;color:#666;font-weight:400;margin-right:.25em}.formation-card[_ngcontent-%COMP%]   .plus-sign[_ngcontent-%COMP%]{color:#666;font-weight:600;margin:0 .25em}.formation-card[_ngcontent-%COMP%]   .mojette-amount[_ngcontent-%COMP%]{font-weight:600;color:#666}.formation-card[_ngcontent-%COMP%]   .mojette-icon[_ngcontent-%COMP%]{width:18px;height:18px;margin:0 .25em;object-fit:contain}.formation-card[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:1.1em}@media (max-width: 767px){.formation-card[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:1em}}@media (max-width: 1024px){.items-grid[_ngcontent-%COMP%]{gap:1em}.item-card[_ngcontent-%COMP%]{padding:1em .75em}.item-quantity[_ngcontent-%COMP%]{font-size:1.2em}}@media (max-width: 480px){.boutique-container[_ngcontent-%COMP%]{padding:1.5em .5em}.section-title[_ngcontent-%COMP%]{font-size:2em}.section-description[_ngcontent-%COMP%]{font-size:1em;padding:0 1em}.item-card[_ngcontent-%COMP%]{padding:1.5em 1em}}']})}}return l})(),wg=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-remerciements"]],hostAttrs:[1,"dark-theme"],decls:5,vars:0,consts:[[1,"text-white","p-5","overflow-auto","bg-dark"],[1,"text-center"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.j41(1,"div",0)(2,"h1",1),e.EFF(3,"REMERCIEMENTS"),e.k0s(),e.EFF(4," Work in progress...\n"),e.k0s())},dependencies:[Oi._],encapsulation:2})}}return l})(),Dg=(()=>{class l{constructor(n){this.http=n,this.baseUrl=ur.c.apiUrl}getRegions(){return this.http.get(`${this.baseUrl}/problems/regions`)}getDepartmentsByRegion(n){return this.http.get(`${this.baseUrl}/problems/regions/${n}/departments`)}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(v.Qq))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const Sb=["dptImage"];function zd(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.resetZoom())}),e.j41(1,"mat-icon"),e.EFF(2,"arrow_back"),e.k0s(),e.j41(3,"span"),e.EFF(4,"VERS FRANCE"),e.k0s()()}}function Ib(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.zoomToRegion(a.zoomedRegion))}),e.j41(1,"mat-icon"),e.EFF(2,"arrow_back"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()}if(2&l){const n=e.XpG();e.R7$(4),e.SpI("VERS ",n.zoomedRegion.name,"")}}function xg(l,c){if(1&l){const n=e.RV6();e.qSk(),e.qex(0),e.j41(1,"path",15),e.bIt("mouseenter",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.setHoverRegion(a))})("mouseleave",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.setHoverRegion(null))})("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.zoomToRegion(a))}),e.j41(2,"title"),e.EFF(3),e.k0s()(),e.bVm()}if(2&l){const n=c.$implicit;e.R7$(),e.Y8G("id","region_"+n.region_code),e.BMQ("d",n.coordinates),e.R7$(2),e.JRh(n.name)}}function Mg(l,c){if(1&l&&(e.qSk(),e.j41(0,"svg",11)(1,"g",12),e.DNE(2,xg,4,3,"ng-container",13),e.k0s(),e.nrm(3,"text",14),e.k0s()),2&l){const n=e.XpG();e.R7$(2),e.Y8G("ngForOf",n.regions)}}function Sg(l,c){if(1&l){const n=e.RV6();e.qSk(),e.qex(0),e.j41(1,"path",15),e.bIt("mouseenter",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.setHoverDepartment(a))})("mouseleave",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.setHoverDepartment(null))})("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.zoomToDepartment(a))}),e.j41(2,"title"),e.EFF(3),e.k0s()(),e.bVm()}if(2&l){const n=c.$implicit;e.R7$(),e.Y8G("id","department_"+n.number),e.BMQ("d",n.coordinates)("fill",n.color),e.R7$(2),e.JRh(n.name)}}function kb(l,c){if(1&l&&(e.qSk(),e.j41(0,"svg")(1,"g",16),e.DNE(2,Sg,4,4,"ng-container",13),e.k0s(),e.nrm(3,"text",17),e.k0s()),2&l){const n=e.XpG();e.BMQ("viewBox",n.zoomedRegion.viewBox),e.R7$(2),e.Y8G("ngForOf",n.showedDpts)}}function Ob(l,c){if(1&l){const n=e.RV6();e.j41(0,"area",22),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.handleClick(a.type))})("keypress",function(){const a=e.eBV(n).$implicit,h=e.XpG(2);return e.Njj(h.handleClick(a.type))}),e.k0s()}if(2&l){const n=c.$implicit,r=c.index,a=e.XpG(2);e.Y8G("coords",a.zonesCoords[r]||"0,0,0")("alt",n.type)}}function Ig(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",18)(1,"map",19),e.DNE(2,Ob,1,2,"area",20),e.k0s(),e.j41(3,"img",21),e.bIt("load",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.imageLoaded())}),e.k0s()()}if(2&l){const n=e.XpG();e.R7$(2),e.Y8G("ngForOf",n.zones),e.R7$(),e.Y8G("src",n.dptImage,e.B4B)}}let Sf=(()=>{class l{constructor(n,r,a,h,p){this.regionService=n,this.problemService=r,this.http=a,this.router=h,this.internalService=p,this.isInfoUpdated=!1,this.user=null,this.initialZones=[],this.regions=[],this.hoveredRegion=null,this.zoomedRegion=null,this.showedDpts=[],this.zoomedDpt=null,this.dptImage=null,this.imageHeight=1103,this.imageWidth=1103,this.zones=[],this.zonesCoords=[],this.problemsInfo=[],this.problemsCompleted=[],this.totalNbPb=0,this.nbPbSolved=0,this.infoUpdated=!1,this.setProgression=()=>{const _=M=>this.zoomedRegion?this.zoomedRegion&&!this.zoomedDpt?M.filter(F=>F.region==this.zoomedRegion.region_code).length:M.filter(F=>F.department==this.zoomedDpt.number).length:M.length;this.totalNbPb=_(this.problemsInfo),this.nbPbSolved=_(this.problemsCompleted)},this.updateRegionInfo=_=>{const M=document.getElementById(`region_${_.region_code}`),F=ge=>{if(!ge||!ge.viewBox)return"inactive";const Je=this.problemsInfo.filter(dt=>dt.region==ge.region_code).length,at=this.problemsCompleted.filter(dt=>dt.region==ge.region_code).length;return at==Je?"completed":0!=at&&at!=Je?"in_progress":"default"};F(_),M?.classList.add(F(_))},this.updateDptInfo=_=>{const M=document.getElementById(`department_${_.number}`);M?.classList.add((Y=>{const ge=this.problemsInfo.filter(at=>at.department==Y.number).length,Je=this.problemsCompleted.filter(at=>at.department==Y.number).length;return Je==ge?"completed":0!=Je&&Je!=ge?"in_progress":"default"})(_))},this.resetZoom=()=>{this.zoomedDpt=null,this.zoomedRegion=null,this.setProgression(),this.infoUpdated=!1}}ngOnInit(){(0,Cf.z)([this.regionService.getRegions(),this.problemService.getProblems(),this.problemService.getProblemsCompletedByUser()]).subscribe(n=>{this.regions=n[0],this.problemsInfo=n[1],this.problemsCompleted=n[2],this.setProgression(),this.infoUpdated=!1})}ngAfterViewChecked(){this.regions&&(this.infoUpdated||(this.regions.map(n=>{this.updateRegionInfo(n)}),this.infoUpdated=!0,this.zoomedRegion&&this.showedDpts.map(n=>{this.updateDptInfo(n)})))}setHoverRegion(n){const r=document.getElementById("regionName");if(!r)return;if(null==n)return void r?.classList.remove("active");const h=document.getElementById(`region_${n.region_code}`)?.getBBox();r.classList.add("active"),r.textContent=n.name,r.setAttribute("x",-5+h.x+h.width/2),r.setAttribute("y",h.y+h.height/2)}setHoverDepartment(n){const r=document.getElementById("departmentName");if(!r)return;if(null==n)return void r?.classList.remove("active");const h=document.getElementById(`department_${n.number}`)?.getBBox();r.classList.add("active"),r.textContent=n.name,r.setAttribute("x",""+(1*h.x+.5*h.width/2)),r.setAttribute("y",h.y+h.height/2)}zoomToRegion(n){if(n==this.zoomedRegion)return this.zoomedDpt=null,this.setProgression(),void(this.infoUpdated=!1);this.zonesCoords=[],this.regionService.getDepartmentsByRegion(n.region_code).subscribe(r=>{this.zoomedRegion=n,this.showedDpts=r,this.zonesCoords=[],this.setProgression(),this.infoUpdated=!1},r=>{console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9partements:")})}zoomToDepartment(n){this.loadDepartmentDrawing(n),this.setProgression()}updateCoordsForNewImageSize(n){this.zonesCoords=[],this.initialZones&&this.initialZones.forEach(r=>{r.radius/=n,r.x/=n,r.y/=n,this.zonesCoords.push(`${r.x},${r.y},${r.radius}`)})}loadDepartmentDrawing(n){this.zoomedDpt=n,this.initialZones=JSON.parse(JSON.stringify(n.zones)),this.zones=n.zones.map(r=>({...r,initial:{x:r.x,y:r.y,radius:r.radius}})),this.dptImage=`../../../assets/departments/${n.number}.png`,this.http.head(this.dptImage).subscribe(()=>{const r=new Image;r.src=this.dptImage,r.onload=()=>{this.imageLoaded(),this.updateCoordsForNewImageSize(r.width/this.imageWidth*1)}},r=>{this.router.navigate(["/vef"])})}imageLoaded(){const n=document.getElementById("dptImageRef");n&&(this.imageWidth=n.offsetWidth,this.imageHeight=n.offsetHeight)}handleClick(n){const r=this.problemsInfo.find(a=>a.department==this.zoomedDpt?.number&&a.type==parseInt(n));!r&&!r.id||this.router.navigate(["/vef",r.id])}onResize(n){this.zoomedDpt&&(this.imageLoaded(),this.loadDepartmentDrawing(this.zoomedDpt))}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Dg),e.rXU(pp),e.rXU(v.Qq),e.rXU(Mt.Ix),e.rXU(co.P))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-map"]],viewQuery:function(r,a){if(1&r&&e.GBs(Sb,5),2&r){let h;e.mGM(h=e.lsd())&&(a.dptImageRef=h.first)}},hostBindings:function(r,a){1&r&&e.bIt("resize",function(p){return a.onResize(p)},!1,e.tSv)},decls:12,vars:11,consts:[[1,"svgContainer"],[1,"map-header"],[1,"progression-container","d-flex","flex-column","justify-center"],[1,"text-center","progression-span"],[1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],["class","btn btn-text btn-sm btn-back",3,"click",4,"ngIf"],["version","1.1","encoding","utf-8","xmlns","http://www.w3.org/2000/svg","width","800","height","900","viewBox","179.9834 168.5592 99.7196 95.6924",4,"ngIf"],[4,"ngIf"],["class","dpt-image-container position-relative",4,"ngIf"],[1,"btn","btn-text","btn-sm","btn-back",3,"click"],["version","1.1","encoding","utf-8","xmlns","http://www.w3.org/2000/svg","width","800","height","900","viewBox","179.9834 168.5592 99.7196 95.6924"],["id","regions","transform","matrix(1, 0, 0, 1, -205.40106201171875, 167.55917358398438)"],[4,"ngFor","ngForOf"],["id","regionName","x","0","y","0","transform","matrix(1, 0, 0, 1, -205.40106201171875, 167.55917358398438)"],[1,"clickable",3,"mouseenter","mouseleave","click","id"],["id","departments","transform","matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"],["id","departmentName","x","0","y","0","transform","matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"],[1,"dpt-image-container","position-relative"],["name","departmentMap"],["class","clickable","shape","circle","tabindex","0",3,"coords","alt","click","keypress",4,"ngFor","ngForOf"],["id","dptImageRef","alt","D\xe9partement","usemap","#departmentMap",1,"zoomedDpt",2,"height","auto",3,"load","src"],["shape","circle","tabindex","0",1,"clickable",3,"click","keypress","coords","alt"]],template:function(r,a){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"div",4),e.nrm(6,"div",5),e.k0s()(),e.DNE(7,zd,5,0,"button",6)(8,Ib,5,1,"button",6),e.k0s(),e.DNE(9,Mg,4,1,"svg",7)(10,kb,4,2,"svg",8)(11,Ig,4,2,"div",9),e.k0s()),2&r&&(e.R7$(4),e.Lme("",a.nbPbSolved,"/",a.totalNbPb,""),e.R7$(2),e.x72("style","width: ",100*a.nbPbSolved/a.totalNbPb,"%",e.$dS),e.BMQ("aria-valuenow",a.nbPbSolved)("aria-valuemax",a.totalNbPb),e.R7$(),e.Y8G("ngIf",a.zoomedRegion&&!a.zoomedDpt),e.R7$(),e.Y8G("ngIf",a.zoomedRegion&&a.zoomedDpt),e.R7$(),e.Y8G("ngIf",!a.zoomedRegion),e.R7$(),e.Y8G("ngIf",a.zoomedRegion&&!a.zoomedDpt),e.R7$(),e.Y8G("ngIf",a.zoomedRegion&&a.zoomedDpt))},dependencies:[R.bT,mf,R.Sq],styles:['@charset "UTF-8";.svgContainer{margin:0 auto;width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-around;position:relative;padding:1em}.svgContainer>svg{max-height:min(90%,100% - 48px - 4em);margin:auto;height:fit-content;transition:all .4s ease-out;max-width:100%}@media (min-width: 768px){.svgContainer>svg{max-width:85%}}@media (min-width: 992px){.svgContainer>svg{max-width:70%}}@media (min-width: 1200px){.svgContainer>svg{max-width:60%}}.map-header{position:relative;min-height:36px;margin:2em;display:flex;align-items:center;justify-content:flex-end;flex-wrap:nowrap;gap:2em}@media (max-width: 768px){.map-header{margin:1em;flex-wrap:wrap}}@media (max-width: 768px){.svgContainer{width:90%}}.clickable{cursor:pointer}.clickable:hover{fill:#b694cc}.zoomedDpt{max-width:90vw;max-height:90vh;border-radius:20px;display:block;margin:0 auto;position:relative;backdrop-filter:blur(4px);mask-image:radial-gradient(ellipse 100% 100% at 50% 50%,#fff 40%,#000 70%,#000);mask-mode:luminance}.dpt-image-container{position:relative;display:flex;justify-content:center;align-items:center}.zone{cursor:pointer}.zone:hover{box-shadow:3px 3px 5px #00000080}#regions>path{stroke-width:.05px}#departments>path{stroke-width:.15px}#regions>path,#departments>path{stroke:#fff;position:relative}#regions>path:hover,#departments>path:hover{top:2px;left:2px}#regions>path.inactive,#departments>path.inactive{fill:color-mix(in srgb,#F5EFED 10%,transparent 90%);pointer-events:none}#regions>path.default,#departments>path.default{fill:color-mix(in srgb,#D972FF 90%,transparent 10%)}#regions>path.default:hover,#departments>path.default:hover{fill:#d972ff}#regions>path.in_progress,#departments>path.in_progress{fill:color-mix(in srgb,#dfbe64 90%,transparent 10%)}#regions>path.in_progress:hover,#departments>path.in_progress:hover{fill:#dfbe64}#regions>path.completed,#departments>path.completed{fill:color-mix(in srgb,#7DDF64 90%,transparent 10%)}#regions>path.completed:hover,#departments>path.completed:hover{fill:#7ddf64}#regions>path.default,#regions>path.in_progress,#regions>path.completed,#departments>path.default,#departments>path.in_progress,#departments>path.completed{position:relative}#regions>path.default>title,#regions>path.in_progress>title,#regions>path.completed>title,#departments>path.default>title,#departments>path.in_progress>title,#departments>path.completed>title{position:absolute;z-index:5;color:green}svg>text{fill:#f5efed;font-weight:500;letter-spacing:0px;opacity:0;pointer-events:none}svg>text.active{opacity:1}svg>text#regionName{font-size:3px}svg>text#departmentName{font-size:6px}.btn-back{display:flex;justify-content:center;align-items:center;z-index:2;margin:0;color:#f5efed!important;position:absolute;right:5%}@media (max-width: 768px){.btn-back{position:relative;margin:auto;right:0;width:200px}}.btn-back>span{font-size:1em;text-transform:uppercase;padding-left:.25em;padding-right:.25em}.btn-back>mat-icon{font-size:1.4em;height:unset;width:unset}.dpt-image-container{height:calc(100% - 36px - 4em)}#dptImageRef{max-width:100%;max-height:100%}.progression-container{position:relative;width:200px;margin:auto;transition:all .4s ease-out}@media (min-width: 768px){.progression-container{width:300px}}.progression-span{color:#424242;font-size:1.2em;position:absolute;left:0;width:100%;top:2px;font-weight:700}.progress{background-color:#f5efed;border:1px solid #F5EFED;height:24px;border-radius:40px}.progress:after{content:"";position:absolute;height:100%;width:100%;box-shadow:inset #0000003d 0 3px 8px;border-radius:40px}.progress-bar{background-color:#d972ff}\n'],encapsulation:2})}}return l})();const kg=l=>({disabled:l}),Tb=()=>[];function gc(l,c){1&l&&(e.j41(0,"div",4)(1,"h1"),e.EFF(2,"Ce probl\xe8me n'existe pas"),e.k0s()())}function Og(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.askHint())}),e.j41(1,"span"),e.EFF(2," Aide "),e.j41(3,"small"),e.EFF(4),e.nrm(5,"img",10),e.k0s()()()}if(2&l){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(3,kg,n.helpsUsed===n.currentProblem.nb_help))("disabled",n.currentProblem.help_cost[n.helpsUsed]>n.currentUser.mojettes),e.R7$(4),e.SpI(" - ",n.currentProblem.help_cost[n.helpsUsed]," ")}}function Tg(l,c){if(1&l&&(e.qex(0),e.j41(1,"span",30)(2,"i"),e.EFF(3),e.k0s(),e.EFF(4),e.k0s(),e.bVm()),2&l){const n=c.$implicit,r=c.index;e.R7$(3),e.SpI("Aide ",r+1," : "),e.R7$(),e.JRh(n)}}function bl(l,c){if(1&l&&(e.j41(0,"div",28),e.DNE(1,Tg,5,2,"ng-container",29),e.k0s()),2&l){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.unlockedHelps)}}function If(l,c){if(1&l&&(e.j41(0,"label",34),e.EFF(1),e.k0s()),2&l){const n=e.XpG().index,r=e.XpG(3);e.Mz_("htmlFor","value-",n,"-input"),e.R7$(),e.JRh(r.capitalizeFirstLetter(r.currentProblem.question[n]))}}function _c(l,c){if(1&l&&(e.qex(0),e.j41(1,"mat-form-field",35),e.nrm(2,"input",36),e.k0s(),e.bVm()),2&l){const n=c.index,r=e.XpG().index;e.R7$(2),e.FCK("formControlName","group",r,"_value",n,""),e.Mz_("placeholder","Valeur ",r+1,""),e.Mz_("name","value-",r,"-input"),e.Mz_("id","value-",r,"-input")}}function Pb(l,c){if(1&l&&(e.qex(0),e.DNE(1,If,2,3,"label",32),e.j41(2,"div",33),e.DNE(3,_c,3,9,"ng-container",29),e.k0s(),e.bVm()),2&l){const n=c.index,r=e.XpG(3);e.R7$(),e.Y8G("ngIf",r.currentProblem.question[n]),e.R7$(2),e.Y8G("ngForOf",r.counterArray(r.nbValToFind||0))}}function Pg(l,c){1&l&&(e.j41(0,"mat-error",37),e.EFF(1,"R\xe9ponse incorrecte."),e.k0s())}function vc(l,c){1&l&&(e.j41(0,"mat-error",37),e.EFF(1,"Veuillez remplir tout les champs."),e.k0s())}function LE(l,c){1&l&&(e.j41(0,"mat-error",37),e.EFF(1,"Veuillez rentrer des nombres valides."),e.k0s())}function BE(l,c){if(1&l&&(e.qex(0),e.DNE(1,Pb,4,2,"ng-container",29)(2,Pg,2,0,"mat-error",31)(3,vc,2,0,"mat-error",31)(4,LE,2,0,"mat-error",31),e.bVm()),2&l){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.lJ4(4,Tb).constructor(null==n.currentProblem?null:n.currentProblem.nb_question)),e.R7$(),e.Y8G("ngIf",n.badAnswer),e.R7$(),e.Y8G("ngIf",null==n.form.errors?null:n.form.errors.required),e.R7$(),e.Y8G("ngIf",null==n.form.errors?null:n.form.errors.pattern)}}function bc(l,c){1&l&&(e.qex(0),e.EFF(1," et "),e.bVm())}function Fb(l,c){if(1&l&&(e.qex(0),e.j41(1,"b"),e.EFF(2),e.k0s(),e.DNE(3,bc,2,0,"ng-container",23),e.bVm()),2&l){const n=c.$implicit,r=c.index,a=c.last,h=e.XpG().$implicit,p=e.XpG(3);e.R7$(2),e.Lme("",n," = ",p.valuesToFind[h][r],""),e.R7$(),e.Y8G("ngIf",!a)}}function Rb(l,c){if(1&l&&(e.qex(0),e.j41(1,"mat-form-field",35),e.nrm(2,"input",39),e.k0s(),e.bVm()),2&l){const n=c.$implicit,r=e.XpG(),a=r.$implicit,h=r.index;e.R7$(2),e.FCK("formControlName","group",h,"_value",n,""),e.Mz_("name","value-",a,"-input"),e.Mz_("id","value-",a,"-input")}}function Ab(l,c){if(1&l&&(e.qex(0),e.j41(1,"label",34),e.EFF(2,"Pour "),e.DNE(3,Fb,4,3,"ng-container",29),e.k0s(),e.j41(4,"div",38),e.DNE(5,Rb,3,7,"ng-container",29),e.k0s(),e.bVm()),2&l){const n=c.$implicit,r=e.XpG(3);e.R7$(),e.Mz_("htmlFor","value-",n,"-input"),e.R7$(2),e.Y8G("ngForOf",r.variables),e.R7$(2),e.Y8G("ngForOf",r.counterArray(r.nbValToFind||0))}}function Wd(l,c){1&l&&(e.j41(0,"mat-error",37),e.EFF(1,"R\xe9ponse incorrecte."),e.k0s())}function kf(l,c){1&l&&(e.j41(0,"mat-error",37),e.EFF(1,"Veuillez remplir tout les champs."),e.k0s())}function Nb(l,c){1&l&&(e.j41(0,"mat-error",37),e.EFF(1,"Veuillez rentrer des nombres valides."),e.k0s())}function VE(l,c){if(1&l&&(e.qex(0),e.DNE(1,Ab,6,4,"ng-container",29)(2,Wd,2,0,"mat-error",31)(3,kf,2,0,"mat-error",31)(4,Nb,2,0,"mat-error",31),e.bVm()),2&l){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.indicesAVerifier),e.R7$(),e.Y8G("ngIf",n.badAnswer),e.R7$(),e.Y8G("ngIf",null==n.form.errors?null:n.form.errors.required),e.R7$(),e.Y8G("ngIf",null==n.form.errors?null:n.form.errors.pattern)}}function UE(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"div",9)(7,"span"),e.EFF(8),e.k0s(),e.nrm(9,"img",10),e.k0s()(),e.j41(10,"span",11)(11,"i"),e.EFF(12,"Enonc\xe9 : "),e.k0s(),e.EFF(13),e.k0s(),e.j41(14,"div",12)(15,"img",13),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.openImageModal(a.currentProblem.figure_path?"../../../assets/enigmes/"+a.currentProblem.figure_path:""))}),e.k0s()()(),e.j41(16,"div",14)(17,"div",15)(18,"span",16)(19,"i"),e.EFF(20,"Probl\xe8me : "),e.k0s(),e.EFF(21),e.k0s()(),e.j41(22,"div",17),e.DNE(23,Og,6,5,"button",18)(24,bl,2,1,"div",19),e.k0s(),e.j41(25,"div",20)(26,"div",21)(27,"form",22),e.bIt("ngSubmit",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.submitForm())}),e.DNE(28,BE,5,5,"ng-container",23)(29,VE,5,4,"ng-container",23),e.k0s()()(),e.j41(30,"div",24)(31,"button",25),e.EFF(32," R\xe9pondre "),e.k0s(),e.j41(33,"button",26),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.goToTDFHome())}),e.EFF(34," Retour "),e.k0s()()()()}if(2&l){const n=e.XpG();e.R7$(5),e.Lme("",n.titreType.substring(0,4),". - ",n.enigmeLevel,""),e.R7$(3),e.SpI("",n.currentProblem.reward," "),e.R7$(5),e.JRh(n.currentProblem.statement),e.R7$(2),e.Y8G("src",n.currentProblem.figure_path?"../../../assets/enigmes/"+n.currentProblem.figure_path:null,e.B4B),e.R7$(6),e.SpI(" ",n.questionString," "),e.R7$(2),e.Y8G("ngIf",n.currentProblem),e.R7$(),e.Y8G("ngIf",0!==n.unlockedHelps.length),e.R7$(3),e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("ngIf",0===n.variables.length),e.R7$(),e.Y8G("ngIf",0!==n.variables.length)}}function jb(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h2",42),e.EFF(3,"F\xe9licitations !"),e.k0s(),e.j41(4,"div",43)(5,"span"),e.EFF(6,"Vous avez r\xe9solu cette \xe9nigme !"),e.k0s(),e.j41(7,"span"),e.EFF(8),e.k0s()(),e.j41(9,"div",44)(10,"button",45),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.goToTDFHome())}),e.EFF(11," Nouveau Probleme "),e.k0s(),e.j41(12,"button",26),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.goToHomePage())}),e.EFF(13," Retour \xe0 l'accueil "),e.k0s()()()()}if(2&l){const n=e.XpG();e.R7$(8),e.SpI("Vous avez remport\xe9 ",n.reward," mojettes !")}}function Lb(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",46),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.closeImageModal())}),e.j41(1,"img",47),e.bIt("click",function(a){e.eBV(n);const h=e.XpG();return e.Njj(h.toggleImageZoom(a))}),e.k0s(),e.j41(2,"button",48),e.bIt("click",function(a){return e.eBV(n),e.XpG().closeImageModal(),a.stopPropagation(),e.Njj(a.preventDefault())}),e.EFF(3," X "),e.k0s()()}if(2&l){const n=e.XpG();e.R7$(),e.AVh("is-zoomed",n.isImageZoomed),e.Y8G("src",n.modalImageSrc,e.B4B)}}let $E=(()=>{class l{constructor(n,r,a,h,p,_){this.problemService=n,this.authService=r,this.fb=a,this.route=h,this.router=p,this.confettiService=_,this.hasLoadedData=!1,this.hasBeenSolved=!1,this.variables=[],this.titreType="",this.badAnswer=!1,this.voidAnswer=!1,this.notNumberAnswer=!1,this.reward=0,this.nbQuestion=0,this.nbValToFind=0,this.valuesToFind=[],this.enigmeLevel="",this.indicesAVerifier=[],this.problemNotExists=!1,this.questionString="",this.helpsUsed=0,this.unlockedHelps=[],this.isImageModalOpen=!1,this.modalImageSrc="",this.isImageZoomed=!1,this.form=new S.gE({}),this.createVariablesFromList=()=>{const M=this.currentProblem?.nb_question||0,F=this.currentProblem?.values_list.map((ge,Je)=>Je),Y=[];return F&&null!=F&&this.currentProblem?.variables&&this.currentProblem?.variables.length?(Array(M).fill(0).map((ge,Je)=>M-Je).forEach(()=>{if(F){const ge=Math.floor(Math.random()*((F.length||1)-1));Y.push(F[ge]),F.splice(ge,1)}}),[this.currentProblem?.variables,Y.sort()]):[[],[]]},this.askHint=()=>{this.problemService.getProblemHint(this.problemId,this.helpsUsed+1).subscribe(M=>{this.helpsUsed+=1,this.unlockedHelps.push(M.help),this.authService.sendUpdateMojette(M.mojettes)})},this.goToHomePage=()=>{this.router.navigateByUrl("/")},this.goToTDFHome=()=>{this.router.navigateByUrl("/vef")},this.capitalizeFirstLetter=M=>M.charAt(0).toUpperCase()+M.slice(1),this.getQuestionString=M=>(M||[]).map(F=>this.capitalizeFirstLetter(F)).join(" ")}ngOnInit(){const n=localStorage.getItem("currentUser");null!==n&&(this.currentUser=JSON.parse(n),this.initializeRouteParams())}counterArray(n){return Array(n).fill(0).map((r,a)=>a)}initializeRouteParams(){this.route.params.subscribe(n=>{this.problemId=parseInt(n.id),this.problemService.hasUserSolvedProblem(this.problemId).subscribe(r=>{this.hasBeenSolved=!0,this.helpsUsed=r.helps_used,this.reward=r.reward,this.hasLoadedData=!0},()=>{this.loadEnigmeData()})})}loadEnigmeData(){this.problemService.getProblemById(this.problemId).pipe((0,Sr.W)(()=>(console.error("Error encountered while fetching data"),(0,zt.of)(null)))).subscribe(n=>{n?(this.currentProblem=n,this.currentProblem.help_cost=[n.help_1_cost,n.help_2_cost,n.help_3_cost].filter(r=>null!=r),this.nbValToFind=n.unknowns,this.valuesToFind=n.values_list,this.questionString=this.getQuestionString(n.question),this.variables=n.variables,this.reward=n.reward,this.hasLoadedData=!0,this.currentProblem.niveau=n.level,1===this.currentProblem?.type||2===this.currentProblem?.type?this.handleEnigmeData():this.handleEnigmeDataReg()):console.error("Probleme non trouv\xe9.")})}handleEnigmeData(){var n=this;return(0,Bt.A)(function*(){if(null!=n.currentProblem&&(n.enigmeLevel=Fg[n.currentProblem?.niveau-1||1],n.titreType=1==n.currentProblem.type?"Math\xe9matiques":"Informatique",n.form=n.fb.group({}),n.currentProblem&&n.nbValToFind&&n.currentProblem.nb_question)){for(let r=0;r<n.currentProblem.nb_question;r++)for(let a=0;a<n.nbValToFind;a++)n.form.addControl(`group${r}_value${a}`,new S.MJ);[n.variables,n.indicesAVerifier]=n.createVariablesFromList()}})()}handleEnigmeDataReg(){var n=this;return(0,Bt.A)(function*(){if(null!=n.currentProblem&&(n.enigmeLevel=Fg[n.currentProblem.niveau-1||1],n.nbQuestion=n.currentProblem?.nb_question??1,n.titreType="D\xe9fi de r\xe9gion",n.variables=[],n.form=n.fb.group({}),n.currentProblem&&n.nbValToFind&&n.currentProblem.nb_question))for(let r=0;r<n.currentProblem.nb_question;r++)for(let a=0;a<n.nbValToFind;a++)n.form.addControl(`group${r}_value${a}`,new S.MJ)})()}submitForm(){const n=new Set(Object.values(this.form.controls).filter(_=>_.errors).flatMap(_=>Object.keys(_.errors||{})).filter((_,M)=>0==M)),r={};n.forEach(_=>r[`${_}`]=!0),this.form.setErrors(r);const a=Object.values(this.form.value).map(_=>parseInt(_));void 0!==this.problemId&&this.currentProblem&&(a.some(_=>Number.isNaN(_))?this.voidAnswer=!0:this.problemService.verifySolution(this.problemId,2!=+this.currentProblem.type?this.indicesAVerifier:[],a,this.helpsUsed).subscribe(_=>{201==_.status&&(this.hasBeenSolved=!0,this.authService.sendUpdateMojette(_.body.mojettes),this.confettiService.trigger()),200==_.status&&(this.badAnswer=!0)}))}openImageModal(n){n&&(this.modalImageSrc=n,this.isImageModalOpen=!0,this.isImageZoomed=!1,document.body.classList.add("modal-open"))}closeImageModal(){this.isImageModalOpen=!1,this.modalImageSrc="",this.isImageZoomed=!1,document.body.classList.remove("modal-open")}toggleImageZoom(n){n.stopPropagation(),this.isImageZoomed=!this.isImageZoomed}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(pp),e.rXU(yr.u),e.rXU(S.ok),e.rXU(Mt.nX),e.rXU(Mt.Ix),e.rXU(Nd))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-problemes"]],decls:4,vars:4,consts:[["class","pbMessage",4,"ngIf"],["class","problem-container container-fluid d-flex flex-row justify-content-center align-items-stretch",4,"ngIf"],["class","container-fluid d-flex flex-column justify-content-center position-relative flex-grow-1",4,"ngIf"],["class","image-lightbox","role","dialog","aria-label","Agrandir l'image de l'\xe9nigme",3,"click",4,"ngIf"],[1,"pbMessage"],[1,"problem-container","container-fluid","d-flex","flex-row","justify-content-center","align-items-stretch"],[1,"enigme-card","card","primary-card"],[1,"infos-container","card-header","d-flex","flex-row","justify-content-between"],[1,"container","d-flex","justify-content-start"],[1,"container","d-flex","justify-content-end"],["src","../../../assets/beans.svg","alt","Mojette SVG",1,"svg-img"],[1,"consigne"],[1,"image-container"],["alt","Image de l'\xe9nigme",1,"image-clickable",3,"click","src"],[1,"solution-form-card","card","primary-card"],[1,"title-container","d-flex","justify-content-between","align-items-center"],[1,"question","d-block"],[1,"card-help-container","d-flex","flex-column"],["class","btn btn-text square align-self-center",3,"ngClass","disabled","click",4,"ngIf"],["class","help-container d-flex flex-column",4,"ngIf"],[1,"card-content-container","d-flex","flex-column"],[1,"form-container"],["id","formProblem",3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"button-container","d-flex","justify-content-center"],["form","formProblem","type","submit",1,"btn","btn-primary","btn-sm"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-text","square","align-self-center",3,"click","ngClass","disabled"],[1,"help-container","d-flex","flex-column"],[4,"ngFor","ngForOf"],[1,"help-text"],["class","response-error",4,"ngIf"],["class","question-label",3,"htmlFor",4,"ngIf"],[1,"d-flex","flex-row","justify-content-between","form-input-row-questions"],[1,"question-label",3,"htmlFor"],["appearance","outline",1,"problem-form-field"],["matInput","","pattern","[0-9]+",3,"formControlName","placeholder","name","id"],[1,"response-error"],[1,"d-flex","flex-row","justify-content-between","form-input-row"],["matInput","","placeholder","Valeur","pattern","[0-9]+","required","true",3,"formControlName","name","id"],[1,"container-fluid","d-flex","flex-column","justify-content-center","position-relative","flex-grow-1"],["id","endDialog",1,"card","primary-card"],[1,"text-center"],[1,"d-flex","flex-column"],[1,"btn-container","d-flex","flex-row","justify-content-between"],[1,"btn","btn-primary","btn-sm",3,"click"],["role","dialog","aria-label","Agrandir l'image de l'\xe9nigme",1,"image-lightbox",3,"click"],["alt","Image de l'\xe9nigme agrandie",1,"image-lightbox__img",3,"click","src"],["type","button","aria-label","Fermer l'aper\xe7u",1,"image-lightbox__close",3,"click"]],template:function(r,a){1&r&&e.DNE(0,gc,3,0,"div",0)(1,UE,35,11,"div",1)(2,jb,14,1,"div",2)(3,Lb,4,3,"div",3),2&r&&(e.Y8G("ngIf",a.problemNotExists),e.R7$(),e.Y8G("ngIf",a.hasLoadedData&&!a.problemNotExists&&!a.hasBeenSolved),e.R7$(),e.Y8G("ngIf",a.hasLoadedData&&!a.problemNotExists&&a.hasBeenSolved),e.R7$(),e.Y8G("ngIf",a.isImageModalOpen))},dependencies:[R.bT,R.YU,R.Sq,S.YN,S.qT,S.me,S.BC,S.cb,S.YS,S.R_,S.X1,S.j4,S.JD,Ye,il,Xe],styles:["#problemes{display:flex}.container-fluid{flex:1}.problem-container{color:#f5efed!important;flex-wrap:wrap;margin:auto;overflow:auto;padding:2em 5%;max-height:100%}.problem-container>*{margin:4px!important}.enigme-card,.solution-form-card{max-width:400px;max-height:600px}.enigme-card>*,.solution-form-card>*{margin:0 5%}.enigme-card{padding:0}.enigme-card>.card-header{border-color:#f5efed;padding:1em 0;font-size:1.1em;text-transform:uppercase}.enigme-card>.card-header>div{padding:0}.enigme-card>.card-header>div img{max-height:20px;margin-left:.5em}.enigme-card>.consigne{font-size:1.2em;margin-top:1em;text-align:justify}.enigme-card>.consigne>i{font-size:1em}.enigme-card>.image-container{margin:auto}.enigme-card>.image-container>img{max-width:100%}.solution-form-card{padding:1em 0}.solution-form-card>.title-container{margin-bottom:1em}.solution-form-card>.title-container>.question{font-size:1.2em;margin-right:1em}.solution-form-card>.card-help-container>.btn{color:#f5efed;padding:.1875rem .375rem;font-size:1em;width:120px;min-width:96px;height:36px;margin-right:1em}.solution-form-card>.card-help-container>.btn>span{text-wrap:nowrap}.solution-form-card>.card-help-container>.btn>span>small>img{max-height:14px}.solution-form-card>.card-help-container>.btn.disabled{display:none}.solution-form-card>.card-help-container>.help-container{border:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%);border-radius:4px;margin:.5em 0}.solution-form-card>.card-help-container>.help-container>.help-text{padding:.5em}.solution-form-card>.card-help-container>.help-container>.help-text:not(:last-child){border-bottom:1px solid color-mix(in srgb,#0A0F0D 70%,white 30%)}.solution-form-card>.card-content-container{overflow:auto;margin:1em 0}.solution-form-card>.card-content-container>.form-container{margin:1em 5%}.solution-form-card>.button-container{margin-top:auto;margin-bottom:1em;padding:0}.solution-form-card>.button-container>button{margin:0 1em;min-width:96px}.solution-form-card label.question-label{font-size:1.1em;margin-top:1em;margin-bottom:.25em}mat-form-field{margin:.5em 0}.form-input-row,.form-input-row-questions{flex-wrap:wrap}.form-input-row>mat-form-field,.form-input-row-questions>mat-form-field{flex:1;margin:.5em;max-width:60%}.form-input-row-questions:not(:last-child){margin-bottom:.5em}.response-error{font-size:1.2em;text-align:center;padding:1em}.image-clickable{cursor:zoom-in;transition:transform .15s ease}.image-clickable:hover{transform:scale(1.01)}.image-lightbox{position:fixed;inset:0;background:#000000f2;display:flex;align-items:center;justify-content:center;padding:1.5rem;z-index:100001}.image-lightbox~*{z-index:auto!important}.image-lightbox__img{max-width:90vw;max-height:90vh;object-fit:contain;box-shadow:0 10px 30px #0006;border-radius:8px;background:#a3a3a3;cursor:zoom-in;transition:transform .2s ease}.image-lightbox__img.is-zoomed{transform:scale(1.35);cursor:zoom-out}.image-lightbox__close{position:absolute;top:16px;right:16px;background:#0009;border:none;color:#fff;font-size:24px;width:36px;height:36px;border-radius:50%;cursor:pointer;line-height:1}\n"],encapsulation:2})}}return l})();const Fg=["Facile","Moyen","Difficile","Extr\xeame"];function GE(l,c){1&l&&e.nrm(0,"app-map",2)}function Bb(l,c){1&l&&e.nrm(0,"app-problemes",3)}let Rg=(()=>{class l{constructor(n,r){this.internalService=n,this.route=r,this.user=null,this.queryParams=-1}ngOnInit(){this.user=this.internalService.loadUserFromLocalStorage(),this.user&&this.user.id&&this.route.params.subscribe(n=>{n.id&&(this.queryParams=parseInt(n.id))})}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(co.P),e.rXU(Mt.nX))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-vef"]],hostAttrs:[1,"dark-theme"],decls:3,vars:2,consts:[["id","map","class","map",4,"ngIf"],["id","problemes",4,"ngIf"],["id","map",1,"map"],["id","problemes"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.DNE(1,GE,1,0,"app-map",0)(2,Bb,1,0,"app-problemes",1)),2&r&&(e.R7$(),e.Y8G("ngIf",-1===a.queryParams),e.R7$(),e.Y8G("ngIf",-1!==a.queryParams))},dependencies:[Oi._,R.bT,Sf,$E],styles:[".map[_ngcontent-%COMP%]{flex:1;max-height:90vh;margin:0}.game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;height:100vh}#problemes[_ngcontent-%COMP%], #map[_ngcontent-%COMP%]{flex:1}"]})}}return l})();const Vb=l=>({current:l}),Of=(l,c)=>({"no-problem":l,"is-current":c}),yc=l=>["/enigme-semaine",l],Tf=(l,c)=>({left:l,right:c});function Xd(l,c){1&l&&(e.j41(0,"div",2)(1,"div",3)(2,"span",4),e.EFF(3,"Chargement..."),e.k0s()(),e.j41(4,"p",5),e.EFF(5,"Chargement du Wall Of Fame..."),e.k0s()())}function Ag(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(3);return e.Njj(h.selectProblem(a.id))}),e.j41(1,"span",17),e.EFF(2,"Semaine"),e.k0s(),e.j41(3,"span",18),e.EFF(4),e.k0s()()}if(2&l){const n=c.$implicit,r=e.XpG(3);e.Y8G("ngClass",e.eq3(3,Vb,n.id===(null==r.current?null:r.current.id))),e.BMQ("aria-label","Aller \xe0 la semaine "+r.getISOWeekFromString(n.date)),e.R7$(4),e.JRh(r.getISOWeekFromString(n.date))}}function Cc(l,c){if(1&l){const n=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){const a=e.eBV(n).$implicit,h=e.XpG(4);return e.Njj(h.selectWeek(a.num))}),e.EFF(1),e.k0s()}if(2&l){const n=c.$implicit,r=e.XpG(4);e.Y8G("disabled",!n.hasProblem)("ngClass",e.l_i(3,Of,!n.hasProblem,r.current&&(null==r.weekMap[n.num]?null:r.weekMap[n.num].id)===r.current.id)),e.R7$(),e.SpI(" ",n.num," ")}}function Ng(l,c){if(1&l&&(e.j41(0,"div",19)(1,"div",20),e.DNE(2,Cc,2,6,"button",21),e.k0s()()),2&l){const n=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",n.weeks)}}function Ub(l,c){if(1&l){const n=e.RV6();e.j41(0,"div",9)(1,"div",10)(2,"div",11),e.DNE(3,Ag,5,5,"div",12),e.k0s(),e.j41(4,"button",13),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.toggleWeekPicker())}),e.nrm(5,"i",14),e.k0s()(),e.DNE(6,Ng,3,1,"div",15),e.k0s()}if(2&l){const n=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",n.enigmes.slice(-4)),e.R7$(3),e.Y8G("ngIf",n.showWeekPicker)}}function Ec(l,c){if(1&l&&(e.j41(0,"div",29)(1,"p",30),e.EFF(2,"Aucun joueur n'a compl\xe9t\xe9 cette \xe9nigme pour l'instant. "),e.nrm(3,"br"),e.j41(4,"strong"),e.EFF(5,"Soyez le premier \xe0 le r\xe9ussir !"),e.k0s()(),e.j41(6,"button",31),e.EFF(7," D\xe9coder cette \xe9nigme "),e.k0s()()),2&l){const n=e.XpG(3);e.R7$(6),e.Y8G("routerLink",e.eq3(2,yc,null==n.current?null:n.current.id))("disabled",!(null!=n.current&&n.current.id))}}function jg(l,c){if(1&l&&(e.j41(0,"div",34),e.nrm(1,"img",35),e.j41(2,"div",36),e.EFF(3),e.k0s()()),2&l){const n=c.$implicit,r=c.index,a=e.XpG(4);e.Y8G("ngClass",e.l_i(3,Tf,a.isLeft(r),!a.isLeft(r))),e.R7$(),e.Y8G("src",a.getBadgeSrc(r),e.B4B),e.R7$(2),e.JRh(a.formatUsername(n))}}function Lg(l,c){if(1&l&&(e.j41(0,"div",32),e.DNE(1,jg,4,6,"div",33),e.k0s()),2&l){const n=e.XpG(3);e.R7$(),e.Y8G("ngForOf",n.completions)}}function yl(l,c){if(1&l&&(e.j41(0,"div",23)(1,"div",24)(2,"div")(3,"strong"),e.EFF(4,"Wall Of Fame"),e.k0s(),e.j41(5,"div",25),e.EFF(6),e.k0s()()(),e.j41(7,"div",26),e.DNE(8,Ec,8,4,"div",27)(9,Lg,2,1,"div",28),e.k0s()()),2&l){const n=e.XpG(2);e.R7$(6),e.SpI("Enigme semaine #",n.getISOWeekFromString(n.current.date),""),e.R7$(2),e.Y8G("ngIf",!(null!=n.completions&&n.completions.length)),e.R7$(),e.Y8G("ngIf",null==n.completions?null:n.completions.length)}}function Pf(l,c){if(1&l&&(e.qex(0),e.j41(1,"div",6),e.DNE(2,Ub,7,2,"div",7)(3,yl,10,3,"div",8),e.k0s(),e.bVm()),2&l){const n=e.XpG();e.R7$(2),e.Y8G("ngIf",null==n.enigmes?null:n.enigmes.length),e.R7$(),e.Y8G("ngIf",n.current)}}let Bg=(()=>{class l{constructor(n,r,a){this.router=n,this.route=r,this.weekProblemService=a,this.enigmes=[],this.completions=[],this.isLoading=!0,this.showWeekPicker=!1,this.weekMap={},this.weeks=[]}ngOnInit(){this.isLoading=!0,this.weekProblemService.getWeekProblems().subscribe({next:n=>{this.enigmes=(n||[]).filter(r=>!0===r.displayed||void 0===r.displayed),this.computeWeeks(),this.route.paramMap.subscribe({next:r=>{const a=r.get("id"),h=a?Number(a):void 0;if(h&&!Number.isNaN(h)){const p=this.enigmes.find(_=>_.id===h);p&&(this.current=p),this.loadCompletions(h),this.isLoading=!1}else this.weekProblemService.getCurrentWeekProblem().subscribe({next:p=>{this.current=p,p?.id&&this.loadCompletions(p.id),this.isLoading=!1},error:()=>{this.isLoading=!1}})},error:()=>{this.isLoading=!1}})},error:()=>{this.isLoading=!1}})}computeWeeks(){if(this.weekMap={},this.enigmes)for(const r of this.enigmes){const a=this.getISOWeekNumber(new Date(r.date));(!this.weekMap[a]||new Date(r.date)>new Date(this.weekMap[a].date))&&(this.weekMap[a]={id:r.id,date:r.date})}this.weeks=Array.from({length:53},(r,a)=>{const h=a+1,p=this.weekMap[h];return{num:h,hasProblem:!!p,id:p?.id}})}toggleWeekPicker(){this.showWeekPicker=!this.showWeekPicker}selectWeek(n){const r=this.weekMap[n];if(r?.id){this.router.navigate(["/wall-of-fame",r.id]),this.showWeekPicker=!1,this.loadCompletions(r.id);const a=this.enigmes.find(h=>h.id===r.id);a&&(this.current=a)}}selectProblem(n){const r=this.enigmes.find(a=>a.id===n);r&&(this.current=r),this.router.navigate(["/wall-of-fame",n]),this.loadCompletions(n)}loadCompletions(n){this.weekProblemService.getWeekProblemCompletions(n).subscribe({next:r=>{this.completions=(r||[]).sort((a,h)=>a.completion_date.localeCompare(h.completion_date))},error:()=>{this.completions=[]}})}getISOWeekNumber(n){const r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),a=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-a);const h=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r-h)/864e5+1)/7)}getISOWeekFromString(n){return n?this.getISOWeekNumber(new Date(n)):0}isLeft(n){return n%2==0}getBadgeSrc(n){const r=this.isLeft(n)?"l":"r";return`assets/wall_of_fame/${n<5?`wof_gold_${r}`:`wof_mojette_approved_${r}`}.png`}formatUsername(n){const r=n?.username&&n.username.trim().length>0?n.username.trim():`Utilisateur #${n.user_id}`;return r.charAt(0).toUpperCase()+r.slice(1)}static{this.\u0275fac=function(r){return new(r||l)(e.rXU(Mt.Ix),e.rXU(Mt.nX),e.rXU(Qa))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-wall-of-fame"]],hostAttrs:[1,"dark-theme"],decls:3,vars:2,consts:[["class","loading-container d-flex flex-column align-items-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"loading-container","d-flex","flex-column","align-items-center","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"mt-3","mb-0"],[1,"enigme-page-container"],["class","top-section",4,"ngIf"],["class","card primary-card completions-card",4,"ngIf"],[1,"top-section"],[1,"history-container"],[1,"history-strip"],["class","history-item",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","aria-label","Ouvrir le calendrier des semaines",1,"history-action",3,"click"],[1,"bi","bi-calendar3"],["class","week-panel card primary-card",4,"ngIf"],[1,"history-item",3,"click","ngClass"],[1,"label"],[1,"id"],[1,"week-panel","card","primary-card"],[1,"week-grid"],["type","button","class","week-cell",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"week-cell",3,"click","disabled","ngClass"],[1,"card","primary-card","completions-card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"small"],[1,"card-body"],["class","empty-state",4,"ngIf"],["class","wof-badges",4,"ngIf"],[1,"empty-state"],[1,"text-muted","mb-2"],[1,"btn","btn-primary","btn-sm",3,"routerLink","disabled"],[1,"wof-badges"],["class","wof-badge",3,"ngClass",4,"ngFor","ngForOf"],[1,"wof-badge",3,"ngClass"],["alt","Badge de r\xe9ussite",1,"wof-badge__img",3,"src"],[1,"wof-badge__label"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.DNE(1,Xd,6,0,"div",0)(2,Pf,4,2,"ng-container",1)),2&r&&(e.R7$(),e.Y8G("ngIf",a.isLoading),e.R7$(),e.Y8G("ngIf",!a.isLoading))},dependencies:[Oi._,R.Sq,R.bT,R.YU,ys,To],styles:[".enigme-page-container[_ngcontent-%COMP%]{color:#f5efed!important;padding:2em 5%;max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:1.5rem;overflow-y:auto;overflow-x:hidden}@media (max-width: 991px){.enigme-page-container[_ngcontent-%COMP%]{padding:1.5em 2%;min-height:auto}}.top-section[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.history-container[_ngcontent-%COMP%]{display:flex;gap:5px;width:100%;justify-content:center;margin-bottom:8px;position:relative}@media (max-width: 991px){.history-container[_ngcontent-%COMP%]{margin-bottom:12px}}.history-strip[_ngcontent-%COMP%]{display:flex;gap:6px;align-items:center;justify-content:center;flex-wrap:wrap}.history-item[_ngcontent-%COMP%]{width:90px;height:60px;background:#fff;border:2px solid #111;border-radius:6px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;text-decoration:none;color:#111;transition:background .15s ease,transform .1s ease,color .15s ease}.history-item[_ngcontent-%COMP%]:hover{background:#e0e0e0;transform:translateY(-1px)}.history-item.current[_ngcontent-%COMP%]{background:#9e9e9e;color:#fff}.history-item.current[_ngcontent-%COMP%]:hover{background:#8a8a8a}.history-action[_ngcontent-%COMP%]{width:44px;height:44px;border:2px solid #111;border-radius:6px;background:#fff;color:#111;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease,transform .1s ease}@media (min-width: 992px){.history-action[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%)}}@media (max-width: 991px){.history-action[_ngcontent-%COMP%]{margin-left:auto;position:static;transform:none}}.history-action[_ngcontent-%COMP%]:hover{background:#e0e0e0}.history-action[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1.25rem}.week-panel[_ngcontent-%COMP%]{margin:0 auto 8px;padding:12px;max-width:720px}.week-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(13,1fr);gap:6px}@media (max-width: 768px){.week-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(7,1fr)}}.week-cell[_ngcontent-%COMP%]{border:1px solid #333;border-radius:4px;background:#fff;color:#111;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease,color .15s ease,transform .1s ease}.week-cell[_ngcontent-%COMP%]:hover{background:#e0e0e0;transform:translateY(-1px)}.week-cell.is-current[_ngcontent-%COMP%]{background:#9e9e9e;color:#fff}.week-cell.no-problem[_ngcontent-%COMP%]{background:#1e1e1e;color:#aaa;text-decoration:line-through;cursor:not-allowed}.completion-row[_ngcontent-%COMP%]{padding:.5rem .25rem;border-bottom:1px solid rgba(255,255,255,.1)}.username[_ngcontent-%COMP%]{font-weight:600}.date[_ngcontent-%COMP%]{opacity:.8}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem 0;color:#fff;text-align:center}.empty-state[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#fff!important}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;line-height:1.4}.empty-state[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.25em}.wof-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;justify-content:center}.wof-badge[_ngcontent-%COMP%]{position:relative;width:180px}.wof-badge__img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.wof-badge__label[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#000;font-weight:700;font-size:1.2em;text-align:center;text-shadow:none;padding:0 .25rem;max-width:90%;word-break:break-word}"]})}}return l})();const Vg=[{path:"",redirectTo:"nivat",pathMatch:"full"},{path:"vef/:id",component:Rg,canActivate:[$i]},{path:"vef",component:Rg,canActivate:[$i]},{path:"mojette",component:xf,canActivate:[$i]},{path:"nivat",loadComponent:()=>D.e(486).then(D.bind(D,8486)).then(l=>l.NivatComponent)},{path:"mojette-tutorial",component:mb,canActivate:[$i]},{path:"enigme-semaine",component:j0,canActivate:[$i]},{path:"enigme-semaine/:id",component:j0,canActivate:[$i]},{path:"leaderboard",component:fc,canActivate:[$i]},{path:"carredudeney",component:Yh,canActivate:[$i]},{path:"work-in-progress",component:(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-work-in-progress"]],hostAttrs:[1,"d-flex","flex-column","h-100","dark-theme"],decls:16,vars:0,consts:[[1,"work-in-progress-wrapper"],[1,"work-in-progress-container","d-flex","flex-column","align-items-center","justify-content-center"],[1,"work-in-progress-content","card","primary-card"],[1,"content-wrapper"],[1,"icon-container"],[1,"material-symbols-outlined","construction-icon"],[1,"zilla-slab"],[1,"subtitle"],[1,"subtitle-secondary"],["href","/",1,"btn","btn-primary","mt-4"]],template:function(r,a){1&r&&(e.nrm(0,"app-navbar"),e.j41(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"span",5),e.EFF(7,"construction"),e.k0s()(),e.j41(8,"h1",6),e.EFF(9,"Page en cours de construction"),e.k0s(),e.j41(10,"p",7),e.EFF(11,"Cette page est actuellement en d\xe9veloppement."),e.k0s(),e.j41(12,"p",8),e.EFF(13,"Veuillez revenir plus tard pour d\xe9couvrir les nouvelles fonctionnalit\xe9s !"),e.k0s(),e.j41(14,"a",9),e.EFF(15,"Retour \xe0 l'accueil"),e.k0s()()()()())},dependencies:[R.MD,Oi._],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:radial-gradient(ellipse at center top,rgba(25,224,191,.0549019608),transparent),radial-gradient(ellipse at right bottom,rgba(207,25,224,.2),transparent),linear-gradient(72deg,rgba(48,224,25,.0549019608),transparent),linear-gradient(324deg,#ffffff10,#0003),linear-gradient(#0a0f0d,#0a0f0d),linear-gradient(#00000024,#00000024);position:relative;overflow:hidden}[_nghost-%COMP%]:before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background:url(/assets/tiling.svg);mask-image:radial-gradient(ellipse 160% 110% at 70% 15%,transparent 50%,rgba(255,255,255,.2823529412) 80%,rgba(255,255,255,.7176470588) 90%,#ffffff);mask-size:100% 100%;z-index:0;pointer-events:none}@media (min-width: 768px){[_nghost-%COMP%]:before{background-size:25%}}@media (max-width: 768px){[_nghost-%COMP%]:before{background-size:100%}}.work-in-progress-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;width:100%;padding:0;margin:0;position:relative;z-index:1}.work-in-progress-container[_ngcontent-%COMP%]{flex:1;padding:2rem 1rem;min-height:60vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.work-in-progress-content[_ngcontent-%COMP%]{max-width:500px;width:100%;padding:2rem;border-radius:8px;text-align:center}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.icon-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon-container[_ngcontent-%COMP%]   .construction-icon[_ngcontent-%COMP%]{font-size:4rem;color:#d972ff;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}h1[_ngcontent-%COMP%]{font-size:2rem;margin:0;color:#f5efed;font-weight:600}@media (max-width: 576px){h1[_ngcontent-%COMP%]{font-size:1.5rem}}.subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#f5efed;margin:0;opacity:.9}@media (max-width: 576px){.subtitle[_ngcontent-%COMP%]{font-size:1rem}}.subtitle-secondary[_ngcontent-%COMP%]{font-size:.95rem;color:#f5efed;margin:0;opacity:.7}@media (max-width: 576px){.subtitle-secondary[_ngcontent-%COMP%]{font-size:.9rem}}.btn-primary[_ngcontent-%COMP%]{background-color:#d972ff;border-color:#d972ff;color:#0a0f0d;font-weight:600;padding:.75rem 1.5rem;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#e7a5ff;border-color:#e7a5ff;transform:translateY(-2px);box-shadow:0 4px 8px #d972ff4d}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}']})}}return l})(),canActivate:[$i]},{path:"wall-of-fame",component:Bg,canActivate:[$i]},{path:"wall-of-fame/:id",component:Bg,canActivate:[$i]},{path:"account",component:Ep,canActivate:[$i]},{path:"confirm_account/:user_id/:confirmation_token",component:bE},{path:"lostpassword",component:cf},{path:"lostpassword/:token",component:Jo},{path:"formations/:code",component:$0},{path:"formations",component:W0},{path:"formation/:id",component:qp},{path:"histoire/:code",component:ng},{path:"histoire",component:ng},{path:"calendrier",component:sc},{path:"boutique",component:Mb},{path:"cart",component:Cb},{path:"backoffice",component:Av,canActivate:[fa]},{path:"backoffice/formations",component:hd,canActivate:[fa]},{path:"backoffice/histoire",component:rp,canActivate:[fa]},{path:"backoffice/formation/:id",component:hh,canActivate:[fa]},{path:"backoffice/users",component:bh,canActivate:[fa]},{path:"backoffice/weekproblems",component:ic,canActivate:[fa]},{path:"backoffice/weekproblem/:id",component:Gi,canActivate:[fa]},{path:"conditions-generales-de-vente",component:w0},{path:"mentions-legales",component:gf},{path:"remerciements",component:wg},{path:"**",redirectTo:"",pathMatch:"full"}];let Ug=(()=>{class l{static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[ys.forRoot(Vg),ys]})}}return l})(),$b=(()=>{class l{constructor(){this.title="PPMOJ"}static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-root"]],decls:1,vars:0,template:function(r,a){1&r&&e.nrm(0,"router-outlet")},dependencies:[Mt.n3],encapsulation:2})}}return l})(),Gb=(()=>{class l{constructor(n){this.auth=n}intercept(n,r){const a=this.auth.getAuthorizationToken();let h=n;return a&&(h=n.clone({headers:n.headers.set("Authorization",a)})),r.handle(h)}static{this.\u0275fac=function(r){return new(r||l)(e.KVO(yr.u))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})();(function os(l,c,n){return(0,e.TL3)({rootComponent:l,platformRef:n?.platformRef,...pr(c)})})($b,{providers:[(0,e.oKB)(Vo,Ug,N.hM,is,S.X1),{provide:v.a7,useClass:Gb,multi:!0},(0,v.$R)((0,v.Sx)()),function _m(){return(0,e.ngT)("NgEagerAnimations"),[...RC]}(),function Xo(l,c){return(0,e.EmA)([...W_(l,c)])}(ur.c.stripePublicKey)]}).catch(l=>console.error(l))},2881:(ht,xe,D)=>{D.d(xe,{B3:()=>L,MD:()=>po,Sq:()=>jn,T3:()=>U,YU:()=>ee,bT:()=>Ii,fw:()=>S,lG:()=>Tr,vh:()=>Et});var v=D(1360),e=D(6048);let S=(()=>{class k extends e.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(A,G){super(),this._platformLocation=A,null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){const G=this._platformLocation.hash??"#";return G.length>0?G.substring(1):G}prepareExternalUrl(A){const G=(0,e.om)(this._baseHref,A);return G.length>0?"#"+G:G}pushState(A,G,ue,Ge){const ft=this.prepareExternalUrl(ue+(0,e.Q)(Ge))||this._platformLocation.pathname;this._platformLocation.pushState(A,G,ft)}replaceState(A,G,ue,Ge){const ft=this.prepareExternalUrl(ue+(0,e.Q)(Ge))||this._platformLocation.pathname;this._platformLocation.replaceState(A,G,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}static \u0275fac=function(G){return new(G||k)(v.KVO(e.Vw),v.KVO(e.kB,8))};static \u0275prov=v.jDH({token:k,factory:k.\u0275fac})}return k})();var q=function(k){return k[k.Format=0]="Format",k[k.Standalone=1]="Standalone",k}(q||{}),ce=function(k){return k[k.Narrow=0]="Narrow",k[k.Abbreviated=1]="Abbreviated",k[k.Wide=2]="Wide",k[k.Short=3]="Short",k}(ce||{}),te=function(k){return k[k.Short=0]="Short",k[k.Medium=1]="Medium",k[k.Long=2]="Long",k[k.Full=3]="Full",k}(te||{});function We(k,oe){return Lt((0,v.H5H)(k)[v.KH2.DateFormat],oe)}function He(k,oe){return Lt((0,v.H5H)(k)[v.KH2.TimeFormat],oe)}function tt(k,oe){return Lt((0,v.H5H)(k)[v.KH2.DateTimeFormat],oe)}function _e(k,oe){const A=(0,v.H5H)(k),G=A[v.KH2.NumberSymbols][oe];if(typeof G>"u"){if(12===oe)return A[v.KH2.NumberSymbols][0];if(13===oe)return A[v.KH2.NumberSymbols][1]}return G}function it(k){if(!k[v.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${k[v.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Lt(k,oe){for(let A=oe;A>-1;A--)if(typeof k[A]<"u")return k[A];throw new Error("Locale data API: locale data undefined")}function lt(k){const[oe,A]=k.split(":");return{hours:+oe,minutes:+A}}const Se=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pe={},je=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Be(k,oe,A,G){let ue=function re(k){if(Ue(k))return k;if("number"==typeof k&&!isNaN(k))return new Date(k);if("string"==typeof k){if(k=k.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(k)){const[ue,Ge=1,ft=1]=k.split("-").map(It=>+It);return Fe(ue,Ge-1,ft)}const A=parseFloat(k);if(!isNaN(k-A))return new Date(A);let G;if(G=k.match(Se))return function Z(k){const oe=new Date(0);let A=0,G=0;const ue=k[8]?oe.setUTCFullYear:oe.setFullYear,Ge=k[8]?oe.setUTCHours:oe.setHours;k[9]&&(A=Number(k[9]+k[10]),G=Number(k[9]+k[11])),ue.call(oe,Number(k[1]),Number(k[2])-1,Number(k[3]));const ft=Number(k[4]||0)-A,It=Number(k[5]||0)-G,Wn=Number(k[6]||0),Xn=Math.floor(1e3*parseFloat("0."+(k[7]||0)));return Ge.call(oe,ft,It,Wn,Xn),oe}(G)}const oe=new Date(k);if(!Ue(oe))throw new Error(`Unable to convert "${k}" into a date`);return oe}(k);oe=et(A,oe)||oe;let It,ft=[];for(;oe;){if(It=je.exec(oe),!It){ft.push(oe);break}{ft=ft.concat(It.slice(1));const Zn=ft.pop();if(!Zn)break;oe=Zn}}let Wn=ue.getTimezoneOffset();G&&(Wn=Si(G,Wn),ue=function z(k,oe){const ue=k.getTimezoneOffset();return function Xe(k,oe){return(k=new Date(k.getTime())).setMinutes(k.getMinutes()+oe),k}(k,-1*(Si(oe,ue)-ue))}(ue,G));let Xn="";return ft.forEach(Zn=>{const mn=function ti(k){if(Mi[k])return Mi[k];let oe;switch(k){case"G":case"GG":case"GGG":oe=St(3,ce.Abbreviated);break;case"GGGG":oe=St(3,ce.Wide);break;case"GGGGG":oe=St(3,ce.Narrow);break;case"y":oe=xt(0,1,0,!1,!0);break;case"yy":oe=xt(0,2,0,!0,!0);break;case"yyy":oe=xt(0,3,0,!1,!0);break;case"yyyy":oe=xt(0,4,0,!1,!0);break;case"Y":oe=li(1);break;case"YY":oe=li(2,!0);break;case"YYY":oe=li(3);break;case"YYYY":oe=li(4);break;case"M":case"L":oe=xt(1,1,1);break;case"MM":case"LL":oe=xt(1,2,1);break;case"MMM":oe=St(2,ce.Abbreviated);break;case"MMMM":oe=St(2,ce.Wide);break;case"MMMMM":oe=St(2,ce.Narrow);break;case"LLL":oe=St(2,ce.Abbreviated,q.Standalone);break;case"LLLL":oe=St(2,ce.Wide,q.Standalone);break;case"LLLLL":oe=St(2,ce.Narrow,q.Standalone);break;case"w":oe=xi(1);break;case"ww":oe=xi(2);break;case"W":oe=xi(1,!0);break;case"d":oe=xt(2,1);break;case"dd":oe=xt(2,2);break;case"c":case"cc":oe=xt(7,1);break;case"ccc":oe=St(1,ce.Abbreviated,q.Standalone);break;case"cccc":oe=St(1,ce.Wide,q.Standalone);break;case"ccccc":oe=St(1,ce.Narrow,q.Standalone);break;case"cccccc":oe=St(1,ce.Short,q.Standalone);break;case"E":case"EE":case"EEE":oe=St(1,ce.Abbreviated);break;case"EEEE":oe=St(1,ce.Wide);break;case"EEEEE":oe=St(1,ce.Narrow);break;case"EEEEEE":oe=St(1,ce.Short);break;case"a":case"aa":case"aaa":oe=St(0,ce.Abbreviated);break;case"aaaa":oe=St(0,ce.Wide);break;case"aaaaa":oe=St(0,ce.Narrow);break;case"b":case"bb":case"bbb":oe=St(0,ce.Abbreviated,q.Standalone,!0);break;case"bbbb":oe=St(0,ce.Wide,q.Standalone,!0);break;case"bbbbb":oe=St(0,ce.Narrow,q.Standalone,!0);break;case"B":case"BB":case"BBB":oe=St(0,ce.Abbreviated,q.Format,!0);break;case"BBBB":oe=St(0,ce.Wide,q.Format,!0);break;case"BBBBB":oe=St(0,ce.Narrow,q.Format,!0);break;case"h":oe=xt(3,1,-12);break;case"hh":oe=xt(3,2,-12);break;case"H":oe=xt(3,1);break;case"HH":oe=xt(3,2);break;case"m":oe=xt(4,1);break;case"mm":oe=xt(4,2);break;case"s":oe=xt(5,1);break;case"ss":oe=xt(5,2);break;case"S":oe=xt(6,1);break;case"SS":oe=xt(6,2);break;case"SSS":oe=xt(6,3);break;case"Z":case"ZZ":case"ZZZ":oe=qt(0);break;case"ZZZZZ":oe=qt(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":oe=qt(1);break;case"OOOO":case"ZZZZ":case"zzzz":oe=qt(2);break;default:return null}return Mi[k]=oe,oe}(Zn);Xn+=mn?mn(ue,A,Wn):"''"===Zn?"'":Zn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Xn}function Fe(k,oe,A){const G=new Date(0);return G.setFullYear(k,oe,A),G.setHours(0,0,0),G}function et(k,oe){const A=function ke(k){return(0,v.H5H)(k)[v.KH2.LocaleId]}(k);if(Pe[A]??={},Pe[A][oe])return Pe[A][oe];let G="";switch(oe){case"shortDate":G=We(k,te.Short);break;case"mediumDate":G=We(k,te.Medium);break;case"longDate":G=We(k,te.Long);break;case"fullDate":G=We(k,te.Full);break;case"shortTime":G=He(k,te.Short);break;case"mediumTime":G=He(k,te.Medium);break;case"longTime":G=He(k,te.Long);break;case"fullTime":G=He(k,te.Full);break;case"short":const ue=et(k,"shortTime"),Ge=et(k,"shortDate");G=Dt(tt(k,te.Short),[ue,Ge]);break;case"medium":const ft=et(k,"mediumTime"),It=et(k,"mediumDate");G=Dt(tt(k,te.Medium),[ft,It]);break;case"long":const Wn=et(k,"longTime"),Xn=et(k,"longDate");G=Dt(tt(k,te.Long),[Wn,Xn]);break;case"full":const Zn=et(k,"fullTime"),mn=et(k,"fullDate");G=Dt(tt(k,te.Full),[Zn,mn])}return G&&(Pe[A][oe]=G),G}function Dt(k,oe){return oe&&(k=k.replace(/\{([^}]+)}/g,function(A,G){return null!=oe&&G in oe?oe[G]:A})),k}function Pt(k,oe,A="-",G,ue){let Ge="";(k<0||ue&&k<=0)&&(ue?k=1-k:(k=-k,Ge=A));let ft=String(k);for(;ft.length<oe;)ft="0"+ft;return G&&(ft=ft.slice(ft.length-oe)),Ge+ft}function xt(k,oe,A=0,G=!1,ue=!1){return function(Ge,ft){let It=function Jt(k,oe){switch(k){case 0:return oe.getFullYear();case 1:return oe.getMonth();case 2:return oe.getDate();case 3:return oe.getHours();case 4:return oe.getMinutes();case 5:return oe.getSeconds();case 6:return oe.getMilliseconds();case 7:return oe.getDay();default:throw new Error(`Unknown DateType value "${k}".`)}}(k,Ge);if((A>0||It>-A)&&(It+=A),3===k)0===It&&-12===A&&(It=12);else if(6===k)return function In(k,oe){return Pt(k,3).substring(0,oe)}(It,oe);const Wn=_e(ft,5);return Pt(It,oe,Wn,G,ue)}}function St(k,oe,A=q.Format,G=!1){return function(ue,Ge){return function Vn(k,oe,A,G,ue,Ge){switch(A){case 2:return function Ne(k,oe,A){const G=(0,v.H5H)(k),Ge=Lt([G[v.KH2.MonthsFormat],G[v.KH2.MonthsStandalone]],oe);return Lt(Ge,A)}(oe,ue,G)[k.getMonth()];case 1:return function Ie(k,oe,A){const G=(0,v.H5H)(k),Ge=Lt([G[v.KH2.DaysFormat],G[v.KH2.DaysStandalone]],oe);return Lt(Ge,A)}(oe,ue,G)[k.getDay()];case 0:const ft=k.getHours(),It=k.getMinutes();if(Ge){const Xn=function At(k){const oe=(0,v.H5H)(k);return it(oe),(oe[v.KH2.ExtraData][2]||[]).map(G=>"string"==typeof G?lt(G):[lt(G[0]),lt(G[1])])}(oe),Zn=function dn(k,oe,A){const G=(0,v.H5H)(k);it(G);const Ge=Lt([G[v.KH2.ExtraData][0],G[v.KH2.ExtraData][1]],oe)||[];return Lt(Ge,A)||[]}(oe,ue,G),mn=Xn.findIndex(Gt=>{if(Array.isArray(Gt)){const[Kn,_i]=Gt,Ln=ft>=Kn.hours&&It>=Kn.minutes,nr=ft<_i.hours||ft===_i.hours&&It<_i.minutes;if(Kn.hours<_i.hours){if(Ln&&nr)return!0}else if(Ln||nr)return!0}else if(Gt.hours===ft&&Gt.minutes===It)return!0;return!1});if(-1!==mn)return Zn[mn]}return function Me(k,oe,A){const G=(0,v.H5H)(k),Ge=Lt([G[v.KH2.DayPeriodsFormat],G[v.KH2.DayPeriodsStandalone]],oe);return Lt(Ge,A)}(oe,ue,G)[ft<12?0:1];case 3:return function ze(k,oe){return Lt((0,v.H5H)(k)[v.KH2.Eras],oe)}(oe,G)[k.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${A}`)}}(ue,Ge,k,oe,A,G)}}function qt(k){return function(oe,A,G){const ue=-1*G,Ge=_e(A,5),ft=ue>0?Math.floor(ue/60):Math.ceil(ue/60);switch(k){case 0:return(ue>=0?"+":"")+Pt(ft,2,Ge)+Pt(Math.abs(ue%60),2,Ge);case 1:return"GMT"+(ue>=0?"+":"")+Pt(ft,1,Ge);case 2:return"GMT"+(ue>=0?"+":"")+Pt(ft,2,Ge)+":"+Pt(Math.abs(ue%60),2,Ge);case 3:return 0===G?"Z":(ue>=0?"+":"")+Pt(ft,2,Ge)+":"+Pt(Math.abs(ue%60),2,Ge);default:throw new Error(`Unknown zone width "${k}"`)}}}const bn=0,tn=4;function Pn(k){const oe=k.getDay(),A=0===oe?-3:tn-oe;return Fe(k.getFullYear(),k.getMonth(),k.getDate()+A)}function xi(k,oe=!1){return function(A,G){let ue;if(oe){const Ge=new Date(A.getFullYear(),A.getMonth(),1).getDay()-1,ft=A.getDate();ue=1+Math.floor((ft+Ge)/7)}else{const Ge=Pn(A),ft=function fn(k){const oe=Fe(k,bn,1).getDay();return Fe(k,0,1+(oe<=tn?tn:tn+7)-oe)}(Ge.getFullYear()),It=Ge.getTime()-ft.getTime();ue=1+Math.round(It/6048e5)}return Pt(ue,k,_e(G,5))}}function li(k,oe=!1){return function(A,G){return Pt(Pn(A).getFullYear(),k,_e(G,5),oe)}}const Mi={};function Si(k,oe){k=k.replace(/:/g,"");const A=Date.parse("Jan 01, 1970 00:00:00 "+k)/6e4;return isNaN(A)?oe:A}function Ue(k){return k instanceof Date&&!isNaN(k.valueOf())}const Ye=/\s+/,Oe=[];let ee=(()=>{class k{_ngEl;_renderer;initialClasses=Oe;rawClass;stateMap=new Map;constructor(A,G){this._ngEl=A,this._renderer=G}set klass(A){this.initialClasses=null!=A?A.trim().split(Ye):Oe}set ngClass(A){this.rawClass="string"==typeof A?A.trim().split(Ye):A}ngDoCheck(){for(const G of this.initialClasses)this._updateState(G,!0);const A=this.rawClass;if(Array.isArray(A)||A instanceof Set)for(const G of A)this._updateState(G,!0);else if(null!=A)for(const G of Object.keys(A))this._updateState(G,!!A[G]);this._applyStateDiff()}_updateState(A,G){const ue=this.stateMap.get(A);void 0!==ue?(ue.enabled!==G&&(ue.changed=!0,ue.enabled=G),ue.touched=!0):this.stateMap.set(A,{enabled:G,changed:!0,touched:!0})}_applyStateDiff(){for(const A of this.stateMap){const G=A[0],ue=A[1];ue.changed?(this._toggleClass(G,ue.enabled),ue.changed=!1):ue.touched||(ue.enabled&&this._toggleClass(G,!1),this.stateMap.delete(G)),ue.touched=!1}}_toggleClass(A,G){(A=A.trim()).length>0&&A.split(Ye).forEach(ue=>{G?this._renderer.addClass(this._ngEl.nativeElement,ue):this._renderer.removeClass(this._ngEl.nativeElement,ue)})}static \u0275fac=function(G){return new(G||k)(v.rXU(v.aKT),v.rXU(v.sFG))};static \u0275dir=v.FsC({type:k,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return k})();class zt{$implicit;ngForOf;index;count;constructor(oe,A,G,ue){this.$implicit=oe,this.ngForOf=A,this.index=G,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jn=(()=>{class k{_viewContainer;_template;_differs;set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(A,G,ue){this._viewContainer=A,this._template=G,this._differs=ue}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const G=this._viewContainer;A.forEachOperation((ue,Ge,ft)=>{if(null==ue.previousIndex)G.createEmbeddedView(this._template,new zt(ue.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)G.remove(null===Ge?void 0:Ge);else if(null!==Ge){const It=G.get(Ge);G.move(It,ft),wr(It,ue)}});for(let ue=0,Ge=G.length;ue<Ge;ue++){const It=G.get(ue).context;It.index=ue,It.count=Ge,It.ngForOf=this._ngForOf}A.forEachIdentityChange(ue=>{wr(G.get(ue.currentIndex),ue)})}static ngTemplateContextGuard(A,G){return!0}static \u0275fac=function(G){return new(G||k)(v.rXU(v.c1b),v.rXU(v.C4Q),v.rXU(v._q3))};static \u0275dir=v.FsC({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return k})();function wr(k,oe){k.context.$implicit=oe.item}let Ii=(()=>{class k{_viewContainer;_context=new ni;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(A,G){this._viewContainer=A,this._thenTemplateRef=G}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){kr(A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){kr(A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(A,G){return!0}static \u0275fac=function(G){return new(G||k)(v.rXU(v.c1b),v.rXU(v.C4Q))};static \u0275dir=v.FsC({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return k})();class ni{$implicit=null;ngIf=null}function kr(k,oe){if(k&&!k.createEmbeddedView)throw new v.wOt(2020,!1)}let L=(()=>{class k{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(A,G,ue){this._ngEl=A,this._differs=G,this._renderer=ue}set ngStyle(A){this._ngStyle=A,!this._differ&&A&&(this._differ=this._differs.find(A).create())}ngDoCheck(){if(this._differ){const A=this._differ.diff(this._ngStyle);A&&this._applyChanges(A)}}_setStyle(A,G){const[ue,Ge]=A.split("."),ft=-1===ue.indexOf("-")?void 0:v.czy.DashCase;null!=G?this._renderer.setStyle(this._ngEl.nativeElement,ue,Ge?`${G}${Ge}`:G,ft):this._renderer.removeStyle(this._ngEl.nativeElement,ue,ft)}_applyChanges(A){A.forEachRemovedItem(G=>this._setStyle(G.key,null)),A.forEachAddedItem(G=>this._setStyle(G.key,G.currentValue)),A.forEachChangedItem(G=>this._setStyle(G.key,G.currentValue))}static \u0275fac=function(G){return new(G||k)(v.rXU(v.aKT),v.rXU(v.MKu),v.rXU(v.sFG))};static \u0275dir=v.FsC({type:k,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return k})(),U=(()=>{class k{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(A){this._viewContainerRef=A}ngOnChanges(A){if(this._shouldRecreateView(A)){const G=this._viewContainerRef;if(this._viewRef&&G.remove(G.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ue=this._createContextForwardProxy();this._viewRef=G.createEmbeddedView(this.ngTemplateOutlet,ue,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(A){return!!A.ngTemplateOutlet||!!A.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(A,G,ue)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,G,ue),get:(A,G,ue)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,G,ue)}})}static \u0275fac=function(G){return new(G||k)(v.rXU(v.c1b))};static \u0275dir=v.FsC({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[v.OA$]})}return k})();const Yn=new v.nKC(""),Li=new v.nKC("");let Et=(()=>{class k{locale;defaultTimezone;defaultOptions;constructor(A,G,ue){this.locale=A,this.defaultTimezone=G,this.defaultOptions=ue}transform(A,G,ue,Ge){if(null==A||""===A||A!=A)return null;try{return Be(A,G??this.defaultOptions?.dateFormat??"mediumDate",Ge||this.locale,ue??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ft){throw function W(k,oe){return new v.wOt(2100,!1)}()}}static \u0275fac=function(G){return new(G||k)(v.rXU(v.xe9,16),v.rXU(Yn,24),v.rXU(Li,24))};static \u0275pipe=v.EJ8({name:"date",type:k,pure:!0})}return k})(),Tr=(()=>{class k{differs;constructor(A){this.differs=A}differ;keyValues=[];compareFn=ks;transform(A,G=ks){if(!A||!(A instanceof Map)&&"object"!=typeof A)return null;this.differ??=this.differs.find(A).create();const ue=this.differ.diff(A),Ge=G!==this.compareFn;return ue&&(this.keyValues=[],ue.forEachItem(ft=>{this.keyValues.push(function Or(k,oe){return{key:k,value:oe}}(ft.key,ft.currentValue))})),(ue||Ge)&&(G&&this.keyValues.sort(G),this.compareFn=G),this.keyValues}static \u0275fac=function(G){return new(G||k)(v.rXU(v.MKu,16))};static \u0275pipe=v.EJ8({name:"keyvalue",type:k,pure:!1})}return k})();function ks(k,oe){const A=k.key,G=oe.key;if(A===G)return 0;if(null==A)return 1;if(null==G)return-1;if("string"==typeof A&&"string"==typeof G)return A<G?-1:1;if("number"==typeof A&&"number"==typeof G)return A-G;if("boolean"==typeof A&&"boolean"==typeof G)return A<G?-1:1;const ue=String(A),Ge=String(G);return ue==Ge?0:ue<Ge?-1:1}let po=(()=>{class k{static \u0275fac=function(G){return new(G||k)};static \u0275mod=v.$C({type:k});static \u0275inj=v.G2t({})}return k})()},3022:(ht,xe,D)=>{D.d(xe,{u:()=>Me});var v=D(4412),e=D(1413),S=D(7673),N=D(8141),ne=D(6354),R=D(9437),q=D(5312),ce=D(1360),te=D(5351);let le=(()=>{class Ie{constructor(ze){this.dialogRef=ze}confirm(){this.dialogRef.close(!0)}cancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(Le){return new(Le||Ie)(ce.rXU(te.CP))}}static{this.\u0275cmp=ce.VBU({type:Ie,selectors:[["app-confirmation-dialog"]],standalone:!1,decls:9,vars:0,consts:[[2,"padding","5px"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(Le,rt){1&Le&&(ce.j41(0,"div",0)(1,"h2"),ce.EFF(2,"Confirmation"),ce.k0s(),ce.j41(3,"p"),ce.EFF(4,"Voulez-vous vraiment supprimer votre compte ?"),ce.k0s(),ce.j41(5,"button",1),ce.bIt("click",function(){return rt.confirm()}),ce.EFF(6," Confirmer "),ce.k0s(),ce.j41(7,"button",2),ce.bIt("click",function(){return rt.cancel()}),ce.EFF(8,"Annuler"),ce.k0s()())},encapsulation:2})}}return Ie})();var me=D(7643),ke=D(5106);let Me=(()=>{class Ie{constructor(ze,Le,rt){this.dialog=ze,this.http=Le,this.router=rt,this.url=q.c.apiUrl,this.loggedIn=new v.t(!1),this.userMojetteSubject=new e.B,this.userTokenCoinSubject=new e.B,this.userInfoSubject=new e.B,this.userConfirmationSubject=new e.B}sendUpdateMojette(ze){const Le=JSON.parse(localStorage.getItem("currentUser"));Le.mojettes=(Le.mojettes||0)+(ze||0),localStorage.setItem("currentUser",JSON.stringify(Le)),this.userMojetteSubject.next(Le.mojettes)}getUpdateMojette(){return this.userMojetteSubject.asObservable()}sendUpdateTokenCoin(ze){const Le=JSON.parse(localStorage.getItem("currentUser"));Le.token_coin=ze,localStorage.setItem("currentUser",JSON.stringify(Le)),this.userTokenCoinSubject.next(ze)}getUpdateTokenCoin(){return this.userTokenCoinSubject.asObservable()}sendUpdateUserInfo(ze){if(null!=ze){const Le=JSON.parse(localStorage.getItem("currentUser"));Le.username=ze.username,Le.email=ze.email,localStorage.setItem("currentUser",JSON.stringify(Le))}else localStorage.removeItem("currentUser");this.userInfoSubject.next(ze)}getUpdateInfo(){return this.userInfoSubject.asObservable()}sendUpdateUserConfirmation(ze){const Le=JSON.parse(localStorage.getItem("currentUser"));Le.confirmed=ze,localStorage.setItem("currentUser",JSON.stringify(Le)),this.userInfoSubject.next(ze)}getUpdateConfirmation(){return this.userConfirmationSubject.asObservable()}get isLoggedIn(){return this.loggedIn.asObservable()}getAuthorizationToken(){const ze=localStorage.getItem("currentUser");let Le="";if(ze){const rt=JSON.parse(ze);rt&&rt.token&&(Le=rt.token)}return Le}register(ze){return this.http.post(this.url+"/register",ze).pipe((0,N.M)(Le=>{this.loggedIn.next(!0)}))}openConfirmationDialog(){return this.dialog.open(le).afterClosed()}logout(){localStorage.clear(),this.sendUpdateUserInfo(null),this.router.navigate(["/"])}login(ze){return this.http.post(this.url+"/login",ze).pipe((0,N.M)(Le=>{this.saveUserToLocalStorage(Le)}))}getUsers(){return this.http.get(this.url+"/users")}getUserById(ze){return this.http.get(this.url+`/users/${ze}`)}isConfirmed(ze){return this.http.get(`${this.url}/users/${ze}/confirmed`).pipe((0,ne.T)(rt=>rt.confirmed))}isAdmin(){return"Admin"===JSON.parse(localStorage.getItem("currentUser")).role}updateUserById(ze,Le){return null===Le?(0,S.of)(!1):this.http.put(`${this.url}/users/${ze}`,Le)}confirmAccount(ze,Le){return this.http.put(`${this.url}/users/${ze}/confirm/${Le}`,{})}exportUserData(ze){return this.http.get(`${this.url}/user/${ze}/export-data`,{responseType:"blob"})}deleteUserAccount(ze){return this.http.delete(`${this.url}/user/${ze}/delete-account`)}saveUserToLocalStorage(ze){localStorage.setItem("currentUser",JSON.stringify(ze))}reloadUser(ze=!0){const Le=JSON.parse(localStorage.getItem("currentUser")),We=Le.token;this.getUserById(Le.id).subscribe(He=>{He.token=We,this.saveUserToLocalStorage(He);try{this.userMojetteSubject.next(He.mojettes),this.userTokenCoinSubject.next(He.token_coin)}catch{}ze&&window.location.reload()})}willdeleteUser(){const ze=localStorage.getItem("currentUser");if(null!==ze){const rt=JSON.parse(ze).id;return this.http.get(`${this.url}/usersdel/${rt}`).pipe((0,R.W)(He=>(console.error("Erreur lors de la requ\xeate:"),(0,S.of)(!1))))}return(0,S.of)(!1)}askPasswordReset(ze){return this.http.post(`${this.url}/reset_password_request`,{email:ze}).pipe((0,R.W)(We=>(console.error("Erreur lors de la requ\xeate:"),(0,S.of)(!1))))}resetPassword(ze,Le){return this.http.post(`${this.url}/reset_password/${ze}`,{password:Le}).pipe((0,R.W)(He=>(console.error("Erreur lors de la requ\xeate:"),(0,S.of)(!1))))}static{this.\u0275fac=function(Le){return new(Le||Ie)(ce.KVO(te.bZ),ce.KVO(me.Qq),ce.KVO(ke.Ix))}}static{this.\u0275prov=ce.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}return Ie})()},3073:(ht,xe,D)=>{D.d(xe,{D:()=>ne});const{isArray:v}=Array,{getPrototypeOf:e,prototype:S,keys:N}=Object;function ne(q){if(1===q.length){const ce=q[0];if(v(ce))return{args:ce,keys:null};if(function R(q){return q&&"object"==typeof q&&e(q)===S}(ce)){const te=N(ce);return{args:te.map(le=>ce[le]),keys:te}}}return{args:q,keys:null}}},3236:(ht,xe,D)=>{D.d(xe,{E:()=>S,b:()=>N});var v=D(6780);const S=new(D(9687).q)(v.R),N=S},3294:(ht,xe,D)=>{D.d(xe,{F:()=>N});var v=D(3669),e=D(9974),S=D(4360);function N(R,q=v.D){return R=R??ne,(0,e.N)((ce,te)=>{let le,me=!0;ce.subscribe((0,S._)(te,ke=>{const Me=q(ke);(me||!R(le,Me))&&(me=!1,le=Me,te.next(ke))}))})}function ne(R,q){return R===q}},3494:(ht,xe,D)=>{D.d(xe,{s:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},3669:(ht,xe,D)=>{function v(e){return e}D.d(xe,{D:()=>v})},3774:(ht,xe,D)=>{D.d(xe,{v:()=>N});var v=D(9350),e=D(9974),S=D(4360);function N(R=ne){return(0,e.N)((q,ce)=>{let te=!1;q.subscribe((0,S._)(ce,le=>{te=!0,ce.next(le)},()=>te?ce.complete():ce.error(R())))})}function ne(){return new v.G}},3965:(ht,xe,D)=>{D.d(xe,{m:()=>e});var v=D(1360);let e=(()=>{class S{constructor(){}isCartEmpty(){return 0===this.getCart().length}getAmountItems(){return this.getCart().reduce((R,q)=>R+q.quantity,0)}getCart(){const ne=window.localStorage.getItem("cart");let R;return R=ne?JSON.parse(ne):[],R}addToCart(ne){const R=this.getCart();return R.find(q=>q.price===ne.price)?(R.map(q=>(q.price===ne.price&&(q.quantity+=ne.quantity),q)),window.localStorage.setItem("cart",JSON.stringify(R)),R):(R.push(ne),window.localStorage.setItem("cart",JSON.stringify(R)),R)}removeFromCart(ne){const q=this.getCart().filter(ce=>ce.price!==ne.price);return window.localStorage.setItem("cart",JSON.stringify(q)),q}updatequantityInCart(ne,R){const ce=this.getCart().map(te=>(te.price===ne&&(te.quantity=R),te));return window.localStorage.setItem("cart",JSON.stringify(ce)),ce}clearCart(){window.localStorage.removeItem("cart")}static{this.\u0275fac=function(R){return new(R||S)}}static{this.\u0275prov=v.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},4085:(ht,xe,D)=>{D.d(xe,{FG:()=>ne,OE:()=>S,a1:()=>R,he:()=>e,i8:()=>q});var v=D(1360);function e(te){return null!=te&&"false"!=`${te}`}function S(te,le=0){return function N(te){return!isNaN(parseFloat(te))&&!isNaN(Number(te))}(te)?Number(te):2===arguments.length?le:0}function ne(te){return Array.isArray(te)?te:[te]}function R(te){return null==te?"":"string"==typeof te?te:`${te}px`}function q(te){return te instanceof v.aKT?te.nativeElement:te}},4155:(ht,xe,D)=>{D.d(xe,{uv:()=>fn,Gj:()=>de,R:()=>tn,E9:()=>Ke,Xj:()=>xi});var v=D(4085),e=D(1360),S=D(1413),N=D(7673),ne=D(1985),R=D(8750),q=D(1397),ce=D(7441),te=D(8071),le=D(6450);const me=["addListener","removeListener"],ke=["addEventListener","removeEventListener"],Me=["on","off"];function Ie(X,ae,$,he){if((0,te.T)($)&&(he=$,$=void 0),he)return Ie(X,ae,$).pipe((0,le.I)(he));const[Re,qe]=function rt(X){return(0,te.T)(X.addEventListener)&&(0,te.T)(X.removeEventListener)}(X)?ke.map(vt=>Wt=>X[vt](ae,Wt,$)):function ze(X){return(0,te.T)(X.addListener)&&(0,te.T)(X.removeListener)}(X)?me.map(Ne(X,ae)):function Le(X){return(0,te.T)(X.on)&&(0,te.T)(X.off)}(X)?Me.map(Ne(X,ae)):[];if(!Re&&(0,ce.X)(X))return(0,q.Z)(vt=>Ie(vt,ae,$))((0,R.Tg)(X));if(!Re)throw new TypeError("Invalid event target");return new ne.c(vt=>{const Wt=(...Ht)=>vt.next(1<Ht.length?Ht:Ht[0]);return Re(Wt),()=>qe(Wt)})}function Ne(X,ae){return $=>he=>X[$](ae,he)}D(536);var He=D(6780);let _e,tt=1;const Ce={};function be(X){return X in Ce&&(delete Ce[X],!0)}const we={setImmediate(X){const ae=tt++;return Ce[ae]=!0,_e||(_e=Promise.resolve()),_e.then(()=>be(ae)&&X()),ae},clearImmediate(X){be(X)}},{setImmediate:pt,clearImmediate:jt}=we,it={setImmediate(...X){const{delegate:ae}=it;return(ae?.setImmediate||pt)(...X)},clearImmediate(X){const{delegate:ae}=it;return(ae?.clearImmediate||jt)(X)},delegate:void 0};var dn=D(9687);new class yt extends dn.q{flush(ae){this._active=!0;const $=this._scheduled;this._scheduled=void 0;const{actions:he}=this;let Re;ae=ae||he.shift();do{if(Re=ae.execute(ae.state,ae.delay))break}while((ae=he[0])&&ae.id===$&&he.shift());if(this._active=!1,Re){for(;(ae=he[0])&&ae.id===$&&he.shift();)ae.unsubscribe();throw Re}}}(class At extends He.R{constructor(ae,$){super(ae,$),this.scheduler=ae,this.work=$}requestAsyncId(ae,$,he=0){return null!==he&&he>0?super.requestAsyncId(ae,$,he):(ae.actions.push(this),ae._scheduled||(ae._scheduled=it.setImmediate(ae.flush.bind(ae,void 0))))}recycleAsyncId(ae,$,he=0){var Re;if(null!=he?he>0:this.delay>0)return super.recycleAsyncId(ae,$,he);const{actions:qe}=ae;null!=$&&(null===(Re=qe[qe.length-1])||void 0===Re?void 0:Re.id)!==$&&(it.clearImmediate($),ae._scheduled===$&&(ae._scheduled=void 0))}});var Ot=D(3236),un=D(9974),hn=D(4360),Pe=D(1584);function je(X,ae=Ot.E){return function Se(X){return(0,un.N)((ae,$)=>{let he=!1,Re=null,qe=null,vt=!1;const Wt=()=>{if(qe?.unsubscribe(),qe=null,he){he=!1;const ln=Re;Re=null,$.next(ln)}vt&&$.complete()},Ht=()=>{qe=null,vt&&$.complete()};ae.subscribe((0,hn._)($,ln=>{he=!0,Re=ln,qe||(0,R.Tg)(X(ln)).subscribe(qe=(0,hn._)($,Wt,Ht))},()=>{vt=!0,(!he||!qe||qe.closed)&&$.complete()}))})}(()=>(0,Pe.O)(X,ae))}var Be=D(5964),Fe=D(6977),et=D(6860),Dt=D(9361),Pt=D(8203);let tn=(()=>{class X{constructor($,he,Re){this._ngZone=$,this._platform=he,this._scrolled=new S.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Re}register($){this.scrollContainers.has($)||this.scrollContainers.set($,$.elementScrolled().subscribe(()=>this._scrolled.next($)))}deregister($){const he=this.scrollContainers.get($);he&&(he.unsubscribe(),this.scrollContainers.delete($))}scrolled($=20){return this._platform.isBrowser?new ne.c(he=>{this._globalSubscription||this._addGlobalListener();const Re=$>0?this._scrolled.pipe(je($)).subscribe(he):this._scrolled.subscribe(he);return this._scrolledCount++,()=>{Re.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,N.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach(($,he)=>this.deregister(he)),this._scrolled.complete()}ancestorScrolled($,he){const Re=this.getAncestorScrollContainers($);return this.scrolled(he).pipe((0,Be.p)(qe=>!qe||Re.indexOf(qe)>-1))}getAncestorScrollContainers($){const he=[];return this.scrollContainers.forEach((Re,qe)=>{this._scrollableContainsElement(qe,$)&&he.push(qe)}),he}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement($,he){let Re=(0,v.i8)(he),qe=$.getElementRef().nativeElement;do{if(Re==qe)return!0}while(Re=Re.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ie(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(he){return new(he||X)(e.KVO(e.SKi),e.KVO(et.OD),e.KVO(Dt.q,8))}}static{this.\u0275prov=e.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})(),fn=(()=>{class X{constructor($,he,Re,qe){this.elementRef=$,this.scrollDispatcher=he,this.ngZone=Re,this.dir=qe,this._destroyed=new S.B,this._elementScrolled=new ne.c(vt=>this.ngZone.runOutsideAngular(()=>Ie(this.elementRef.nativeElement,"scroll").pipe((0,Fe.Q)(this._destroyed)).subscribe(vt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo($){const he=this.elementRef.nativeElement,Re=this.dir&&"rtl"==this.dir.value;null==$.left&&($.left=Re?$.end:$.start),null==$.right&&($.right=Re?$.start:$.end),null!=$.bottom&&($.top=he.scrollHeight-he.clientHeight-$.bottom),Re&&(0,et.BD)()!=et.r5.NORMAL?(null!=$.left&&($.right=he.scrollWidth-he.clientWidth-$.left),(0,et.BD)()==et.r5.INVERTED?$.left=$.right:(0,et.BD)()==et.r5.NEGATED&&($.left=$.right?-$.right:$.right)):null!=$.right&&($.left=he.scrollWidth-he.clientWidth-$.right),this._applyScrollToOptions($)}_applyScrollToOptions($){const he=this.elementRef.nativeElement;(0,et.CZ)()?he.scrollTo($):(null!=$.top&&(he.scrollTop=$.top),null!=$.left&&(he.scrollLeft=$.left))}measureScrollOffset($){const he="left",qe=this.elementRef.nativeElement;if("top"==$)return qe.scrollTop;if("bottom"==$)return qe.scrollHeight-qe.clientHeight-qe.scrollTop;const vt=this.dir&&"rtl"==this.dir.value;return"start"==$?$=vt?"right":he:"end"==$&&($=vt?he:"right"),vt&&(0,et.BD)()==et.r5.INVERTED?$==he?qe.scrollWidth-qe.clientWidth-qe.scrollLeft:qe.scrollLeft:vt&&(0,et.BD)()==et.r5.NEGATED?$==he?qe.scrollLeft+qe.scrollWidth-qe.clientWidth:-qe.scrollLeft:$==he?qe.scrollLeft:qe.scrollWidth-qe.clientWidth-qe.scrollLeft}static{this.\u0275fac=function(he){return new(he||X)(e.rXU(e.aKT),e.rXU(tn),e.rXU(e.SKi),e.rXU(Pt.dS,8))}}static{this.\u0275dir=e.FsC({type:X,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}}return X})(),xi=(()=>{class X{constructor($,he,Re){this._platform=$,this._change=new S.B,this._changeListener=qe=>{this._change.next(qe)},this._document=Re,he.runOutsideAngular(()=>{if($.isBrowser){const qe=this._getWindow();qe.addEventListener("resize",this._changeListener),qe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const $=this._getWindow();$.removeEventListener("resize",this._changeListener),$.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const $={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),$}getViewportRect(){const $=this.getViewportScrollPosition(),{width:he,height:Re}=this.getViewportSize();return{top:$.top,left:$.left,bottom:$.top+Re,right:$.left+he,height:Re,width:he}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const $=this._document,he=this._getWindow(),Re=$.documentElement,qe=Re.getBoundingClientRect();return{top:-qe.top||$.body.scrollTop||he.scrollY||Re.scrollTop||0,left:-qe.left||$.body.scrollLeft||he.scrollX||Re.scrollLeft||0}}change($=20){return $>0?this._change.pipe(je($)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const $=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:$.innerWidth,height:$.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(he){return new(he||X)(e.KVO(et.OD),e.KVO(e.SKi),e.KVO(Dt.q,8))}}static{this.\u0275prov=e.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})(),de=(()=>{class X{static{this.\u0275fac=function(he){return new(he||X)}}static{this.\u0275mod=e.$C({type:X})}static{this.\u0275inj=e.G2t({})}}return X})(),Ke=(()=>{class X{static{this.\u0275fac=function(he){return new(he||X)}}static{this.\u0275mod=e.$C({type:X})}static{this.\u0275inj=e.G2t({imports:[Pt.jI,de,Pt.jI,de]})}}return X})()},4360:(ht,xe,D)=>{D.d(xe,{_:()=>e});var v=D(7707);function e(N,ne,R,q,ce){return new S(N,ne,R,q,ce)}class S extends v.vU{constructor(ne,R,q,ce,te,le){super(ne),this.onFinalize=te,this.shouldUnsubscribe=le,this._next=R?function(me){try{R(me)}catch(ke){ne.error(ke)}}:super._next,this._error=ce?function(me){try{ce(me)}catch(ke){ne.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(me){ne.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:R}=this;super.unsubscribe(),!R&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4402:(ht,xe,D)=>{D.d(xe,{A:()=>S});var v=D(1985),e=D(8071);function S(N){return!!N&&(N instanceof v.c||(0,e.T)(N.lift)&&(0,e.T)(N.subscribe))}},4412:(ht,xe,D)=>{D.d(xe,{t:()=>e});var v=D(1413);class e extends v.B{constructor(N){super(),this._value=N}get value(){return this.getValue()}_subscribe(N){const ne=super._subscribe(N);return!ne.closed&&N.next(this._value),ne}getValue(){const{hasError:N,thrownError:ne,_value:R}=this;if(N)throw ne;return this._throwIfClosed(),R}next(N){super.next(this._value=N)}}},4572:(ht,xe,D)=>{D.d(xe,{z:()=>le});var v=D(1985),e=D(3073),S=D(6648),N=D(3669),ne=D(6450),R=D(9326),q=D(8496),ce=D(4360),te=D(5225);function le(...Me){const Ie=(0,R.lI)(Me),Ne=(0,R.ms)(Me),{args:ze,keys:Le}=(0,e.D)(Me);if(0===ze.length)return(0,S.H)([],Ie);const rt=new v.c(function me(Me,Ie,Ne=N.D){return ze=>{ke(Ie,()=>{const{length:Le}=Me,rt=new Array(Le);let We=Le,He=Le;for(let tt=0;tt<Le;tt++)ke(Ie,()=>{const _e=(0,S.H)(Me[tt],Ie);let Ce=!1;_e.subscribe((0,ce._)(ze,be=>{rt[tt]=be,Ce||(Ce=!0,He--),He||ze.next(Ne(rt.slice()))},()=>{--We||ze.complete()}))},ze)},ze)}}(ze,Ie,Le?We=>(0,q.e)(Le,We):N.D));return Ne?rt.pipe((0,ne.I)(Ne)):rt}function ke(Me,Ie,Ne){Me?(0,te.N)(Ne,Me,Ie):Ie()}},4761:(ht,xe,D)=>{D.d(xe,{l:()=>e});const e=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:(ht,xe,D)=>{D.d(xe,{l:()=>S});var v=D(3494),e=D(8071);function S(N){return(0,e.T)(N[v.s])}},5106:(ht,xe,D)=>{D.d(xe,{nX:()=>Dr,Pu:()=>di,Zp:()=>mn,nU:()=>ae,c1:()=>yo,XR:()=>Aa,wF:()=>En,lW:()=>Ei,mo:()=>Li,Z:()=>On,J2:()=>hs,J_:()=>ct,bw:()=>Kt,tD:()=>rs,Ix:()=>_r,D$:()=>bi,n3:()=>Tt,OY:()=>Os,Sd:()=>X,bK:()=>gr,gk:()=>Mo,Lg:()=>Zt,wO:()=>wr,Us:()=>oe,we:()=>Rs});var v=D(9361),e=D(6048),S=D(1360),N=D(4402),ne=D(6648),R=D(7673),q=D(4412),ce=D(4572),te=D(9350),le=D(8793),me=D(9030),ke=D(1203),Me=D(8810),Ie=D(983),Ne=D(1985),ze=D(8359),Le=D(9974),rt=D(4360);function We(){return(0,Le.N)((b,C)=>{let y=null;b._refCount++;const w=(0,rt._)(C,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(y=null);const P=b._connection,Q=y;y=null,P&&(!Q||P===Q)&&P.unsubscribe(),C.unsubscribe()});b.subscribe(w),w.closed||(y=b.connect())})}class He extends Ne.c{constructor(C,y){super(),this.source=C,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Le.S)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new ze.yU;const y=this.getSubject();C.add(this.source.subscribe((0,rt._)(y,void 0,()=>{this._teardown(),y.complete()},w=>{this._teardown(),y.error(w)},()=>this._teardown()))),C.closed&&(this._connection=null,C=ze.yU.EMPTY)}return C}refCount(){return We()(this)}}var tt=D(1413),_e=D(6354),Ce=D(5558),be=D(6697),we=D(9172),Ve=D(5964),pt=D(1397),jt=D(1594),it=D(274),At=D(8141),dn=D(9437);var lt=D(9901);function Ot(b){return b<=0?()=>Ie.w:(0,Le.N)((C,y)=>{let w=[];C.subscribe((0,rt._)(y,P=>{w.push(P),b<w.length&&w.shift()},()=>{for(const P of w)y.next(P);y.complete()},void 0,()=>{w=null}))})}var un=D(3774),hn=D(3669),Pe=D(980),je=D(6977),Be=D(345);const Fe="primary",et=Symbol("RouteTitle");class Dt{params;constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const y=this.params[C];return Array.isArray(y)?y[0]:y}return null}getAll(C){if(this.has(C)){const y=this.params[C];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Pt(b){return new Dt(b)}function In(b,C,y){const w=y.path.split("/");if(w.length>b.length||"full"===y.pathMatch&&(C.hasChildren()||w.length<b.length))return null;const P={};for(let Q=0;Q<w.length;Q++){const H=w[Q],Ee=b[Q];if(":"===H[0])P[H.substring(1)]=Ee;else if(H!==Ee.path)return null}return{consumed:b.slice(0,w.length),posParams:P}}function Jt(b,C){const y=b?St(b):void 0,w=C?St(C):void 0;if(!y||!w||y.length!=w.length)return!1;let P;for(let Q=0;Q<y.length;Q++)if(P=y[Q],!Vn(b[P],C[P]))return!1;return!0}function St(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function Vn(b,C){if(Array.isArray(b)&&Array.isArray(C)){if(b.length!==C.length)return!1;const y=[...b].sort(),w=[...C].sort();return y.every((P,Q)=>w[Q]===P)}return b===C}function qt(b){return b.length>0?b[b.length-1]:null}function bn(b){return(0,N.A)(b)?b:(0,S.jNT)(b)?(0,ne.H)(Promise.resolve(b)):(0,R.of)(b)}const tn={exact:function li(b,C,y){if(!de(b.segments,C.segments)||!Xe(b.segments,C.segments,y)||b.numberOfChildren!==C.numberOfChildren)return!1;for(const w in C.children)if(!b.children[w]||!li(b.children[w],C.children[w],y))return!1;return!0},subset:ti},fn={exact:function xi(b,C){return Jt(b,C)},subset:function Mi(b,C){return Object.keys(C).length<=Object.keys(b).length&&Object.keys(C).every(y=>Vn(b[y],C[y]))},ignored:()=>!0};function Pn(b,C,y){return tn[y.paths](b.root,C.root,y.matrixParams)&&fn[y.queryParams](b.queryParams,C.queryParams)&&!("exact"===y.fragment&&b.fragment!==C.fragment)}function ti(b,C,y){return Si(b,C,C.segments,y)}function Si(b,C,y,w){if(b.segments.length>y.length){const P=b.segments.slice(0,y.length);return!(!de(P,y)||C.hasChildren()||!Xe(P,y,w))}if(b.segments.length===y.length){if(!de(b.segments,y)||!Xe(b.segments,y,w))return!1;for(const P in C.children)if(!b.children[P]||!ti(b.children[P],C.children[P],w))return!1;return!0}{const P=y.slice(0,b.segments.length),Q=y.slice(b.segments.length);return!!(de(b.segments,P)&&Xe(b.segments,P,w)&&b.children[Fe])&&Si(b.children[Fe],C,Q,w)}}function Xe(b,C,y){return C.every((w,P)=>fn[y](b[P].parameters,w.parameters))}class z{root;queryParams;fragment;_queryParamMap;constructor(C=new re([],{}),y={},w=null){this.root=C,this.queryParams=y,this.fragment=w}get queryParamMap(){return this._queryParamMap??=Pt(this.queryParams),this._queryParamMap}toString(){return $.serialize(this)}}class re{segments;children;parent=null;constructor(C,y){this.segments=C,this.children=y,Object.values(y).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return he(this)}}class Z{path;parameters;_parameterMap;constructor(C,y){this.path=C,this.parameters=y}get parameterMap(){return this._parameterMap??=Pt(this.parameters),this._parameterMap}toString(){return qn(this)}}function de(b,C){return b.length===C.length&&b.every((y,w)=>y.path===C[w].path)}let X=(()=>{class b{static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:()=>new ae,providedIn:"root"})}return b})();class ae{parse(C){const y=new Te(C);return new z(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(C){const y=`/${Re(C.root,!0)}`,w=function Yr(b){const C=Object.entries(b).map(([y,w])=>Array.isArray(w)?w.map(P=>`${vt(y)}=${vt(P)}`).join("&"):`${vt(y)}=${vt(w)}`).filter(y=>y);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${y}${w}${"string"==typeof C.fragment?`#${function Wt(b){return encodeURI(b)}(C.fragment)}`:""}`}}const $=new ae;function he(b){return b.segments.map(C=>qn(C)).join("/")}function Re(b,C){if(!b.hasChildren())return he(b);if(C){const y=b.children[Fe]?Re(b.children[Fe],!1):"",w=[];return Object.entries(b.children).forEach(([P,Q])=>{P!==Fe&&w.push(`${P}:${Re(Q,!1)}`)}),w.length>0?`${y}(${w.join("//")})`:y}{const y=function Ke(b,C){let y=[];return Object.entries(b.children).forEach(([w,P])=>{w===Fe&&(y=y.concat(C(P,w)))}),Object.entries(b.children).forEach(([w,P])=>{w!==Fe&&(y=y.concat(C(P,w)))}),y}(b,(w,P)=>P===Fe?[Re(b.children[Fe],!1)]:[`${P}:${Re(w,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[Fe]?`${he(b)}/${y[0]}`:`${he(b)}/(${y.join("//")})`}}function qe(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vt(b){return qe(b).replace(/%3B/gi,";")}function Ht(b){return qe(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ln(b){return decodeURIComponent(b)}function or(b){return ln(b.replace(/\+/g,"%20"))}function qn(b){return`${Ht(b.path)}${function fr(b){return Object.entries(b).map(([C,y])=>`;${Ht(C)}=${Ht(y)}`).join("")}(b.parameters)}`}const sn=/^[^\/()?;#]+/;function Hi(b){const C=b.match(sn);return C?C[0]:""}const Nn=/^[^\/()?;=#]+/,Qr=/^[^=?&#]+/,Oe=/^[^&#]+/;class Te{url;remaining;constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(C.length>0||Object.keys(y).length>0)&&(w[Fe]=new re(C,y)),w}parseSegment(){const C=Hi(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new S.wOt(4009,!1);return this.capture(C),new Z(ln(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const y=function zi(b){const C=b.match(Nn);return C?C[0]:""}(this.remaining);if(!y)return;this.capture(y);let w="";if(this.consumeOptional("=")){const P=Hi(this.remaining);P&&(w=P,this.capture(w))}C[ln(y)]=ln(w)}parseQueryParam(C){const y=function Ye(b){const C=b.match(Qr);return C?C[0]:""}(this.remaining);if(!y)return;this.capture(y);let w="";if(this.consumeOptional("=")){const H=function ee(b){const C=b.match(Oe);return C?C[0]:""}(this.remaining);H&&(w=H,this.capture(w))}const P=or(y),Q=or(w);if(C.hasOwnProperty(P)){let H=C[P];Array.isArray(H)||(H=[H],C[P]=H),H.push(Q)}else C[P]=Q}parseParens(C){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=Hi(this.remaining),P=this.remaining[w.length];if("/"!==P&&")"!==P&&";"!==P)throw new S.wOt(4010,!1);let Q;w.indexOf(":")>-1?(Q=w.slice(0,w.indexOf(":")),this.capture(Q),this.capture(":")):C&&(Q=Fe);const H=this.parseChildren();y[Q]=1===Object.keys(H).length?H[Fe]:new re([],H),this.consumeOptional("//")}return y}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new S.wOt(4011,!1)}}function ot(b){return b.segments.length>0?new re([],{[Fe]:b}):b}function zt(b){const C={};for(const[w,P]of Object.entries(b.children)){const Q=zt(P);if(w===Fe&&0===Q.segments.length&&Q.hasChildren())for(const[H,Ee]of Object.entries(Q.children))C[H]=Ee;else(Q.segments.length>0||Q.hasChildren())&&(C[w]=Q)}return function jn(b){if(1===b.numberOfChildren&&b.children[Fe]){const C=b.children[Fe];return new re(b.segments.concat(C.segments),C.children)}return b}(new re(b.segments,C))}function wr(b){return b instanceof z}function Ii(b){let C;const P=ot(function y(Q){const H={};for(const nt of Q.children){const mt=y(nt);H[nt.outlet]=mt}const Ee=new re(Q.url,H);return Q===b&&(C=Ee),Ee}(b.root));return C??P}function ni(b,C,y,w){let P=b;for(;P.parent;)P=P.parent;if(0===C.length)return ii(P,P,P,y,w);const Q=function K(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Ci(!0,0,b);let C=0,y=!1;const w=b.reduce((P,Q,H)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const Ee={};return Object.entries(Q.outlets).forEach(([nt,mt])=>{Ee[nt]="string"==typeof mt?mt.split("/"):mt}),[...P,{outlets:Ee}]}if(Q.segmentPath)return[...P,Q.segmentPath]}return"string"!=typeof Q?[...P,Q]:0===H?(Q.split("/").forEach((Ee,nt)=>{0==nt&&"."===Ee||(0==nt&&""===Ee?y=!0:".."===Ee?C++:""!=Ee&&P.push(Ee))}),P):[...P,Q]},[]);return new Ci(y,C,w)}(C);if(Q.toRoot())return ii(P,P,new re([],{}),y,w);const H=function pe(b,C,y){if(b.isAbsolute)return new ie(C,!0,0);if(!y)return new ie(C,!1,NaN);if(null===y.parent)return new ie(y,!0,0);const w=kr(b.commands[0])?0:1;return function L(b,C,y){let w=b,P=C,Q=y;for(;Q>P;){if(Q-=P,w=w.parent,!w)throw new S.wOt(4005,!1);P=w.segments.length}return new ie(w,!1,P-Q)}(y,y.segments.length-1+w,b.numberOfDoubleDots)}(Q,P,b),Ee=H.processChildren?W(H.segmentGroup,H.index,Q.commands):j(H.segmentGroup,H.index,Q.commands);return ii(P,H.segmentGroup,Ee,y,w)}function kr(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Pi(b){return"object"==typeof b&&null!=b&&b.outlets}function ii(b,C,y,w,P){let H,Q={};w&&Object.entries(w).forEach(([nt,mt])=>{Q[nt]=Array.isArray(mt)?mt.map(gn=>`${gn}`):`${mt}`}),H=b===C?y:sr(b,C,y);const Ee=ot(zt(H));return new z(Ee,Q,P)}function sr(b,C,y){const w={};return Object.entries(b.children).forEach(([P,Q])=>{w[P]=Q===C?y:sr(Q,C,y)}),new re(b.segments,w)}class Ci{isAbsolute;numberOfDoubleDots;commands;constructor(C,y,w){if(this.isAbsolute=C,this.numberOfDoubleDots=y,this.commands=w,C&&w.length>0&&kr(w[0]))throw new S.wOt(4003,!1);const P=w.find(Pi);if(P&&P!==qt(w))throw new S.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ie{segmentGroup;processChildren;index;constructor(C,y,w){this.segmentGroup=C,this.processChildren=y,this.index=w}}function j(b,C,y){if(b??=new re([],{}),0===b.segments.length&&b.hasChildren())return W(b,C,y);const w=function ve(b,C,y){let w=0,P=C;const Q={match:!1,pathIndex:0,commandIndex:0};for(;P<b.segments.length;){if(w>=y.length)return Q;const H=b.segments[P],Ee=y[w];if(Pi(Ee))break;const nt=`${Ee}`,mt=w<y.length-1?y[w+1]:null;if(P>0&&void 0===nt)break;if(nt&&mt&&"object"==typeof mt&&void 0===mt.outlets){if(!kn(nt,mt,H))return Q;w+=2}else{if(!kn(nt,{},H))return Q;w++}P++}return{match:!0,pathIndex:P,commandIndex:w}}(b,C,y),P=y.slice(w.commandIndex);if(w.match&&w.pathIndex<b.segments.length){const Q=new re(b.segments.slice(0,w.pathIndex),{});return Q.children[Fe]=new re(b.segments.slice(w.pathIndex),b.children),W(Q,0,P)}return w.match&&0===P.length?new re(b.segments,{}):w.match&&!b.hasChildren()?Ze(b,C,y):w.match?W(b,0,P):Ze(b,C,y)}function W(b,C,y){if(0===y.length)return new re(b.segments,{});{const w=function U(b){return Pi(b[0])?b[0].outlets:{[Fe]:b}}(y),P={};if(Object.keys(w).some(Q=>Q!==Fe)&&b.children[Fe]&&1===b.numberOfChildren&&0===b.children[Fe].segments.length){const Q=W(b.children[Fe],C,y);return new re(b.segments,Q.children)}return Object.entries(w).forEach(([Q,H])=>{"string"==typeof H&&(H=[H]),null!==H&&(P[Q]=j(b.children[Q],C,H))}),Object.entries(b.children).forEach(([Q,H])=>{void 0===w[Q]&&(P[Q]=H)}),new re(b.segments,P)}}function Ze(b,C,y){const w=b.segments.slice(0,C);let P=0;for(;P<y.length;){const Q=y[P];if(Pi(Q)){const nt=wt(Q.outlets);return new re(w,nt)}if(0===P&&kr(y[0])){w.push(new Z(b.segments[C].path,en(y[0]))),P++;continue}const H=Pi(Q)?Q.outlets[Fe]:`${Q}`,Ee=P<y.length-1?y[P+1]:null;H&&Ee&&kr(Ee)?(w.push(new Z(H,en(Ee))),P+=2):(w.push(new Z(H,{})),P++)}return new re(w,{})}function wt(b){const C={};return Object.entries(b).forEach(([y,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(C[y]=Ze(new re([],{}),0,w))}),C}function en(b){const C={};return Object.entries(b).forEach(([y,w])=>C[y]=`${w}`),C}function kn(b,C,y){return b==y.path&&Jt(C,y.parameters)}const Cn="imperative";var Xt=function(b){return b[b.NavigationStart=0]="NavigationStart",b[b.NavigationEnd=1]="NavigationEnd",b[b.NavigationCancel=2]="NavigationCancel",b[b.NavigationError=3]="NavigationError",b[b.RoutesRecognized=4]="RoutesRecognized",b[b.ResolveStart=5]="ResolveStart",b[b.ResolveEnd=6]="ResolveEnd",b[b.GuardsCheckStart=7]="GuardsCheckStart",b[b.GuardsCheckEnd=8]="GuardsCheckEnd",b[b.RouteConfigLoadStart=9]="RouteConfigLoadStart",b[b.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",b[b.ChildActivationStart=11]="ChildActivationStart",b[b.ChildActivationEnd=12]="ChildActivationEnd",b[b.ActivationStart=13]="ActivationStart",b[b.ActivationEnd=14]="ActivationEnd",b[b.Scroll=15]="Scroll",b[b.NavigationSkipped=16]="NavigationSkipped",b}(Xt||{});class zn{id;url;constructor(C,y){this.id=C,this.url=y}}class On extends zn{type=Xt.NavigationStart;navigationTrigger;restoredState;constructor(C,y,w="imperative",P=null){super(C,y),this.navigationTrigger=w,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class En extends zn{urlAfterRedirects;type=Xt.NavigationEnd;constructor(C,y,w){super(C,y),this.urlAfterRedirects=w}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Yn=function(b){return b[b.Redirect=0]="Redirect",b[b.SupersededByNewNavigation=1]="SupersededByNewNavigation",b[b.NoDataFromResolver=2]="NoDataFromResolver",b[b.GuardRejected=3]="GuardRejected",b}(Yn||{}),Li=function(b){return b[b.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",b[b.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",b}(Li||{});class Et extends zn{reason;code;type=Xt.NavigationCancel;constructor(C,y,w,P){super(C,y),this.reason=w,this.code=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ei extends zn{reason;code;type=Xt.NavigationSkipped;constructor(C,y,w,P){super(C,y),this.reason=w,this.code=P}}class mr extends zn{error;target;type=Xt.NavigationError;constructor(C,y,w,P){super(C,y),this.error=w,this.target=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zr extends zn{urlAfterRedirects;state;type=Xt.RoutesRecognized;constructor(C,y,w,P){super(C,y),this.urlAfterRedirects=w,this.state=P}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends zn{urlAfterRedirects;state;type=Xt.GuardsCheckStart;constructor(C,y,w,P){super(C,y),this.urlAfterRedirects=w,this.state=P}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or extends zn{urlAfterRedirects;state;shouldActivate;type=Xt.GuardsCheckEnd;constructor(C,y,w,P,Q){super(C,y),this.urlAfterRedirects=w,this.state=P,this.shouldActivate=Q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tr extends zn{urlAfterRedirects;state;type=Xt.ResolveStart;constructor(C,y,w,P){super(C,y),this.urlAfterRedirects=w,this.state=P}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ks extends zn{urlAfterRedirects;state;type=Xt.ResolveEnd;constructor(C,y,w,P){super(C,y),this.urlAfterRedirects=w,this.state=P}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo{route;type=Xt.RouteConfigLoadStart;constructor(C){this.route=C}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rc{route;type=Xt.RouteConfigLoadEnd;constructor(C){this.route=C}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class is{snapshot;type=Xt.ChildActivationStart;constructor(C){this.snapshot=C}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{snapshot;type=Xt.ChildActivationEnd;constructor(C){this.snapshot=C}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{snapshot;type=Xt.ActivationStart;constructor(C){this.snapshot=C}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jr{snapshot;type=Xt.ActivationEnd;constructor(C){this.snapshot=C}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{routerEvent;position;anchor;type=Xt.Scroll;constructor(C,y,w){this.routerEvent=C,this.position=y,this.anchor=w}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class po{}class k{url;navigationBehaviorOptions;constructor(C,y){this.url=C,this.navigationBehaviorOptions=y}}function oe(b){switch(b.type){case Xt.ActivationEnd:return`ActivationEnd(path: '${b.snapshot.routeConfig?.path||""}')`;case Xt.ActivationStart:return`ActivationStart(path: '${b.snapshot.routeConfig?.path||""}')`;case Xt.ChildActivationEnd:return`ChildActivationEnd(path: '${b.snapshot.routeConfig?.path||""}')`;case Xt.ChildActivationStart:return`ChildActivationStart(path: '${b.snapshot.routeConfig?.path||""}')`;case Xt.GuardsCheckEnd:return`GuardsCheckEnd(id: ${b.id}, url: '${b.url}', urlAfterRedirects: '${b.urlAfterRedirects}', state: ${b.state}, shouldActivate: ${b.shouldActivate})`;case Xt.GuardsCheckStart:return`GuardsCheckStart(id: ${b.id}, url: '${b.url}', urlAfterRedirects: '${b.urlAfterRedirects}', state: ${b.state})`;case Xt.NavigationCancel:return`NavigationCancel(id: ${b.id}, url: '${b.url}')`;case Xt.NavigationSkipped:return`NavigationSkipped(id: ${b.id}, url: '${b.url}')`;case Xt.NavigationEnd:return`NavigationEnd(id: ${b.id}, url: '${b.url}', urlAfterRedirects: '${b.urlAfterRedirects}')`;case Xt.NavigationError:return`NavigationError(id: ${b.id}, url: '${b.url}', error: ${b.error})`;case Xt.NavigationStart:return`NavigationStart(id: ${b.id}, url: '${b.url}')`;case Xt.ResolveEnd:return`ResolveEnd(id: ${b.id}, url: '${b.url}', urlAfterRedirects: '${b.urlAfterRedirects}', state: ${b.state})`;case Xt.ResolveStart:return`ResolveStart(id: ${b.id}, url: '${b.url}', urlAfterRedirects: '${b.urlAfterRedirects}', state: ${b.state})`;case Xt.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${b.route.path})`;case Xt.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${b.route.path})`;case Xt.RoutesRecognized:return`RoutesRecognized(id: ${b.id}, url: '${b.url}', urlAfterRedirects: '${b.urlAfterRedirects}', state: ${b.state})`;case Xt.Scroll:return`Scroll(anchor: '${b.anchor}', position: '${b.position?`${b.position[0]}, ${b.position[1]}`:null}')`}}function It(b){return b.outlet||Fe}function Xn(b){if(!b)return null;if(b.routeConfig?._injector)return b.routeConfig._injector;for(let C=b.parent;C;C=C.parent){const y=C.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Zn{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Xn(this.route?.snapshot)??this.rootInjector}constructor(C){this.rootInjector=C,this.children=new mn(this.rootInjector)}}let mn=(()=>{class b{rootInjector;contexts=new Map;constructor(y){this.rootInjector=y}onChildOutletCreated(y,w){const P=this.getOrCreateContext(y);P.outlet=w,this.contexts.set(y,P)}onChildOutletDestroyed(y){const w=this.getContext(y);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let w=this.getContext(y);return w||(w=new Zn(this.rootInjector),this.contexts.set(y,w)),w}getContext(y){return this.contexts.get(y)||null}static \u0275fac=function(w){return new(w||b)(S.KVO(S.uvJ))};static \u0275prov=S.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();class Gt{_root;constructor(C){this._root=C}get root(){return this._root.value}parent(C){const y=this.pathFromRoot(C);return y.length>1?y[y.length-2]:null}children(C){const y=Kn(C,this._root);return y?y.children.map(w=>w.value):[]}firstChild(C){const y=Kn(C,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(C){const y=_i(C,this._root);return y.length<2?[]:y[y.length-2].children.map(P=>P.value).filter(P=>P!==C)}pathFromRoot(C){return _i(C,this._root).map(y=>y.value)}}function Kn(b,C){if(b===C.value)return C;for(const y of C.children){const w=Kn(b,y);if(w)return w}return null}function _i(b,C){if(b===C.value)return[C];for(const y of C.children){const w=_i(b,y);if(w.length)return w.unshift(C),w}return[]}class Ln{value;children;constructor(C,y){this.value=C,this.children=y}toString(){return`TreeNode(${this.value})`}}function nr(b){const C={};return b&&b.children.forEach(y=>C[y.value.outlet]=y),C}class eo extends Gt{snapshot;constructor(C,y){super(C),this.snapshot=y,Ts(this,C)}toString(){return this.snapshot.toString()}}function go(b){const C=function Wi(b){const Q=new No([],{},{},"",{},Fe,b,null,{});return new _o("",new Ln(Q,[]))}(b),y=new q.t([new Z("",{})]),w=new q.t({}),P=new q.t({}),Q=new q.t({}),H=new q.t(""),Ee=new Dr(y,w,Q,H,P,Fe,b,C.root);return Ee.snapshot=C.root,new eo(new Ln(Ee,[]),C)}class Dr{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(C,y,w,P,Q,H,Ee,nt){this.urlSubject=C,this.paramsSubject=y,this.queryParamsSubject=w,this.fragmentSubject=P,this.dataSubject=Q,this.outlet=H,this.component=Ee,this._futureSnapshot=nt,this.title=this.dataSubject?.pipe((0,_e.T)(mt=>mt[et]))??(0,R.of)(void 0),this.url=C,this.params=y,this.queryParams=w,this.fragment=P,this.data=Q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,_e.T)(C=>Pt(C))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,_e.T)(C=>Pt(C))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xr(b,C,y="emptyOnly"){let w;const{routeConfig:P}=b;return w=null===C||"always"!==y&&""!==P?.path&&(C.component||C.routeConfig?.loadComponent)?{params:{...b.params},data:{...b.data},resolve:{...b.data,...b._resolvedData??{}}}:{params:{...C.params,...b.params},data:{...C.data,...b.data},resolve:{...b.data,...C.data,...P?.data,...b._resolvedData}},P&&vi(P)&&(w.resolve[et]=P.title),w}class No{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[et]}constructor(C,y,w,P,Q,H,Ee,nt,mt){this.url=C,this.params=y,this.queryParams=w,this.fragment=P,this.data=Q,this.outlet=H,this.component=Ee,this.routeConfig=nt,this._resolve=mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _o extends Gt{url;constructor(C,y){super(y),this.url=C,Ts(this,y)}toString(){return Ps(this._root)}}function Ts(b,C){C.value._routerState=b,C.children.forEach(y=>Ts(b,y))}function Ps(b){const C=b.children.length>0?` { ${b.children.map(Ps).join(", ")} } `:"";return`${b.value}${C}`}function vo(b){if(b.snapshot){const C=b.snapshot,y=b._futureSnapshot;b.snapshot=y,Jt(C.queryParams,y.queryParams)||b.queryParamsSubject.next(y.queryParams),C.fragment!==y.fragment&&b.fragmentSubject.next(y.fragment),Jt(C.params,y.params)||b.paramsSubject.next(y.params),function xt(b,C){if(b.length!==C.length)return!1;for(let y=0;y<b.length;++y)if(!Jt(b[y],C[y]))return!1;return!0}(C.url,y.url)||b.urlSubject.next(y.url),Jt(C.data,y.data)||b.dataSubject.next(y.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function Fs(b,C){const y=Jt(b.params,C.params)&&function Ue(b,C){return de(b,C)&&b.every((y,w)=>Jt(y.parameters,C[w].parameters))}(b.url,C.url);return y&&!(!b.parent!=!C.parent)&&(!b.parent||Fs(b.parent,C.parent))}function vi(b){return"string"==typeof b.title||null===b.title}const ta=new S.nKC("");let Tt=(()=>{class b{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Fe;activateEvents=new S.bkB;deactivateEvents=new S.bkB;attachEvents=new S.bkB;detachEvents=new S.bkB;routerOutletData=(0,S.hFB)(void 0);parentContexts=(0,S.WQX)(mn);location=(0,S.WQX)(S.c1b);changeDetector=(0,S.WQX)(S.gRc);inputBinder=(0,S.WQX)(yo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(y){if(y.name){const{firstChange:w,previousValue:P}=y.name;if(w)return;this.isTrackedInParentContexts(P)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(P)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S.wOt(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,w){this.activated=y,this._activatedRoute=w,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,w){if(this.isActivated)throw new S.wOt(4013,!1);this._activatedRoute=y;const P=this.location,H=y.snapshot.component,Ee=this.parentContexts.getOrCreateContext(this.name).children,nt=new bo(y,Ee,P.injector,this.routerOutletData);this.activated=P.createComponent(H,{index:P.length,injector:nt,environmentInjector:w}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(w){return new(w||b)};static \u0275dir=S.FsC({type:b,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[S.OA$]})}return b})();class bo{route;childContexts;parent;outletData;constructor(C,y,w,P){this.route=C,this.childContexts=y,this.parent=w,this.outletData=P}get(C,y){return C===Dr?this.route:C===mn?this.childContexts:C===ta?this.outletData:this.parent.get(C,y)}}const yo=new S.nKC("");let rs=(()=>{class b{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:w}=y,P=(0,ce.z)([w.queryParams,w.params,w.data]).pipe((0,Ce.n)(([Q,H,Ee],nt)=>(Ee={...Q,...H,...Ee},0===nt?(0,R.of)(Ee):Promise.resolve(Ee)))).subscribe(Q=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==w||null===w.component)return void this.unsubscribeFromRouteData(y);const H=(0,S.HJs)(w.component);if(H)for(const{templateName:Ee}of H.inputs)y.activatedComponentRef.setInput(Ee,Q[Ee]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,P)}static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:b.\u0275fac})}return b})(),Rs=(()=>{class b{static \u0275fac=function(w){return new(w||b)};static \u0275cmp=S.VBU({type:b,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(w,P){1&w&&S.nrm(0,"router-outlet")},dependencies:[Tt],encapsulation:2})}return b})();function na(b){const C=b.children&&b.children.map(na),y=C?{...b,children:C}:{...b};return!y.component&&!y.loadComponent&&(C||y.loadChildren)&&y.outlet&&y.outlet!==Fe&&(y.component=Rs),y}function jo(b,C,y){if(y&&b.shouldReuseRoute(C.value,y.value.snapshot)){const w=y.value;w._futureSnapshot=C.value;const P=function os(b,C,y){return C.children.map(w=>{for(const P of y.children)if(b.shouldReuseRoute(w.value,P.value.snapshot))return jo(b,w,P);return jo(b,w)})}(b,C,y);return new Ln(w,P)}{if(b.shouldAttach(C.value)){const Q=b.retrieve(C.value);if(null!==Q){const H=Q.route;return H.value._futureSnapshot=C.value,H.children=C.children.map(Ee=>jo(b,Ee)),H}}const w=function xl(b){return new Dr(new q.t(b.url),new q.t(b.params),new q.t(b.queryParams),new q.t(b.fragment),new q.t(b.data),b.outlet,b.component,b)}(C.value),P=C.children.map(Q=>jo(b,Q));return new Ln(w,P)}}class pr{redirectTo;navigationBehaviorOptions;constructor(C,y){this.redirectTo=C,this.navigationBehaviorOptions=y}}const Ml="ngNavigationCancelingError";function Pr(b,C){const{redirectTo:y,navigationBehaviorOptions:w}=wr(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,P=ka(!1,Yn.Redirect);return P.url=y,P.navigationBehaviorOptions=w,P}function ka(b,C){const y=new Error(`NavigationCancelingError: ${b||""}`);return y[Ml]=!0,y.cancellationCode=C,y}function Co(b){return!!b&&b[Ml]}class Bo{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(C,y,w,P,Q){this.routeReuseStrategy=C,this.futureState=y,this.currState=w,this.forwardEvent=P,this.inputBindingEnabled=Q}activate(C){const y=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,w,C),vo(this.futureState.root),this.activateChildRoutes(y,w,C)}deactivateChildRoutes(C,y,w){const P=nr(y);C.children.forEach(Q=>{const H=Q.value.outlet;this.deactivateRoutes(Q,P[H],w),delete P[H]}),Object.values(P).forEach(Q=>{this.deactivateRouteAndItsChildren(Q,w)})}deactivateRoutes(C,y,w){const P=C.value,Q=y?y.value:null;if(P===Q)if(P.component){const H=w.getContext(P.outlet);H&&this.deactivateChildRoutes(C,y,H.children)}else this.deactivateChildRoutes(C,y,w);else Q&&this.deactivateRouteAndItsChildren(y,w)}deactivateRouteAndItsChildren(C,y){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,y):this.deactivateRouteAndOutlet(C,y)}detachAndStoreRouteSubtree(C,y){const w=y.getContext(C.value.outlet),P=w&&C.value.component?w.children:y,Q=nr(C);for(const H of Object.values(Q))this.deactivateRouteAndItsChildren(H,P);if(w&&w.outlet){const H=w.outlet.detach(),Ee=w.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:H,route:C,contexts:Ee})}}deactivateRouteAndOutlet(C,y){const w=y.getContext(C.value.outlet),P=w&&C.value.component?w.children:y,Q=nr(C);for(const H of Object.values(Q))this.deactivateRouteAndItsChildren(H,P);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(C,y,w){const P=nr(y);C.children.forEach(Q=>{this.activateRoutes(Q,P[Q.value.outlet],w),this.forwardEvent(new Jr(Q.value.snapshot))}),C.children.length&&this.forwardEvent(new Bi(C.value.snapshot))}activateRoutes(C,y,w){const P=C.value,Q=y?y.value:null;if(vo(P),P===Q)if(P.component){const H=w.getOrCreateContext(P.outlet);this.activateChildRoutes(C,y,H.children)}else this.activateChildRoutes(C,y,w);else if(P.component){const H=w.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const Ee=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),H.children.onOutletReAttached(Ee.contexts),H.attachRef=Ee.componentRef,H.route=Ee.route.value,H.outlet&&H.outlet.attach(Ee.componentRef,Ee.route.value),vo(Ee.route.value),this.activateChildRoutes(C,null,H.children)}else H.attachRef=null,H.route=P,H.outlet&&H.outlet.activateWith(P,H.injector),this.activateChildRoutes(C,null,H.children)}else this.activateChildRoutes(C,null,w)}}class As{path;route;constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Vo{component;route;constructor(C,y){this.component=C,this.route=y}}function Mr(b,C,y){const w=b._root;return Uo(w,C?C._root:null,y,[w.value])}function Br(b,C){const y=Symbol(),w=C.get(b,y);return w===y?"function"!=typeof b||(0,S.LfX)(b)?C.get(b):b:w}function Uo(b,C,y,w,P={canDeactivateChecks:[],canActivateChecks:[]}){const Q=nr(C);return b.children.forEach(H=>{(function Fr(b,C,y,w,P={canDeactivateChecks:[],canActivateChecks:[]}){const Q=b.value,H=C?C.value:null,Ee=y?y.getContext(b.value.outlet):null;if(H&&Q.routeConfig===H.routeConfig){const nt=function Fn(b,C,y){if("function"==typeof y)return y(b,C);switch(y){case"pathParamsChange":return!de(b.url,C.url);case"pathParamsOrQueryParamsChange":return!de(b.url,C.url)||!Jt(b.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fs(b,C)||!Jt(b.queryParams,C.queryParams);default:return!Fs(b,C)}}(H,Q,Q.routeConfig.runGuardsAndResolvers);nt?P.canActivateChecks.push(new As(w)):(Q.data=H.data,Q._resolvedData=H._resolvedData),Uo(b,C,Q.component?Ee?Ee.children:null:y,w,P),nt&&Ee&&Ee.outlet&&Ee.outlet.isActivated&&P.canDeactivateChecks.push(new Vo(Ee.outlet.component,H))}else H&&ir(C,Ee,P),P.canActivateChecks.push(new As(w)),Uo(b,null,Q.component?Ee?Ee.children:null:y,w,P)})(H,Q[H.value.outlet],y,w.concat([H.value]),P),delete Q[H.value.outlet]}),Object.entries(Q).forEach(([H,Ee])=>ir(Ee,y.getContext(H),P)),P}function ir(b,C,y){const w=nr(b),P=b.value;Object.entries(w).forEach(([Q,H])=>{ir(H,P.component?C?C.children.getContext(Q):null:C,y)}),y.canDeactivateChecks.push(new Vo(P.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,P))}function as(b){return"function"==typeof b}function so(b){return b instanceof te.G||"EmptyError"===b?.name}const Vr=Symbol("INITIAL_VALUE");function Ns(){return(0,Ce.n)(b=>(0,ce.z)(b.map(C=>C.pipe((0,be.s)(1),(0,we.Z)(Vr)))).pipe((0,_e.T)(C=>{for(const y of C)if(!0!==y){if(y===Vr)return Vr;if(!1===y||Sl(y))return y}return!0}),(0,Ve.p)(C=>C!==Vr),(0,be.s)(1)))}function Sl(b){return wr(b)||b instanceof pr}function qi(b){return(0,ke.F)((0,At.M)(C=>{if("boolean"!=typeof C)throw Pr(0,C)}),(0,_e.T)(C=>!0===C))}class Eo{segmentGroup;constructor(C){this.segmentGroup=C||null}}class Ls extends Error{urlTree;constructor(C){super(),this.urlTree=C}}function cs(b){return(0,Me.$)(new Eo(b))}class Ur{urlSerializer;urlTree;constructor(C,y){this.urlSerializer=C,this.urlTree=y}lineralizeSegments(C,y){let w=[],P=y.root;for(;;){if(w=w.concat(P.segments),0===P.numberOfChildren)return(0,R.of)(w);if(P.numberOfChildren>1||!P.children[Fe])return(0,Me.$)(new S.wOt(4e3,!1));P=P.children[Fe]}}applyRedirectCommands(C,y,w,P,Q){if("string"!=typeof y){const Ee=y,{queryParams:nt,fragment:mt,routeConfig:gn,url:Un,outlet:wi,params:no,data:vr,title:dr}=P,lo=(0,S.N4e)(Q,()=>Ee({params:no,data:vr,queryParams:nt,fragment:mt,routeConfig:gn,url:Un,outlet:wi,title:dr}));if(lo instanceof z)throw new Ls(lo);y=lo}const H=this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),C,w);if("/"===y[0])throw new Ls(H);return H}applyRedirectCreateUrlTree(C,y,w,P){const Q=this.createSegmentGroup(C,y.root,w,P);return new z(Q,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(C,y){const w={};return Object.entries(C).forEach(([P,Q])=>{if("string"==typeof Q&&":"===Q[0]){const Ee=Q.substring(1);w[P]=y[Ee]}else w[P]=Q}),w}createSegmentGroup(C,y,w,P){const Q=this.createSegments(C,y.segments,w,P);let H={};return Object.entries(y.children).forEach(([Ee,nt])=>{H[Ee]=this.createSegmentGroup(C,nt,w,P)}),new re(Q,H)}createSegments(C,y,w,P){return y.map(Q=>":"===Q.path[0]?this.findPosParam(C,Q,P):this.findOrReturn(Q,w))}findPosParam(C,y,w){const P=w[y.path.substring(1)];if(!P)throw new S.wOt(4001,!1);return P}findOrReturn(C,y){let w=0;for(const P of y){if(P.path===C.path)return y.splice(w),P;w++}return C}}const wo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ao(b,C,y,w,P){const Q=kl(b,C,y);return Q.matched?(w=function A(b,C){return b.providers&&!b._injector&&(b._injector=(0,S.Ol2)(b.providers,C,`Route: ${b.path}`)),b._injector??C}(C,w),function js(b,C,y,w){const P=C.canMatch;if(!P||0===P.length)return(0,R.of)(!0);const Q=P.map(H=>{const Ee=Br(H,b);return bn(function cr(b){return b&&as(b.canMatch)}(Ee)?Ee.canMatch(C,y):(0,S.N4e)(b,()=>Ee(C,y)))});return(0,R.of)(Q).pipe(Ns(),qi())}(w,C,y).pipe((0,_e.T)(H=>!0===H?Q:{...wo}))):(0,R.of)(Q)}function kl(b,C,y){if("**"===C.path)return function Ol(b){return{matched:!0,parameters:b.length>0?qt(b).parameters:{},consumedSegments:b,remainingSegments:[],positionalParamSegments:{}}}(y);if(""===C.path)return"full"===C.pathMatch&&(b.hasChildren()||y.length>0)?{...wo}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const P=(C.matcher||In)(y,b,C);if(!P)return{...wo};const Q={};Object.entries(P.posParams??{}).forEach(([Ee,nt])=>{Q[Ee]=nt.path});const H=P.consumed.length>0?{...Q,...P.consumed[P.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:P.consumed,remainingSegments:y.slice(P.consumed.length),parameters:H,positionalParamSegments:P.posParams??{}}}function oa(b,C,y,w){return y.length>0&&function Nc(b,C,y){return y.some(w=>Bs(b,C,w)&&It(w)!==Fe)}(b,y,w)?{segmentGroup:new re(C,Yi(w,new re(y,b.children))),slicedSegments:[]}:0===y.length&&function _u(b,C,y){return y.some(w=>Bs(b,C,w))}(b,y,w)?{segmentGroup:new re(b.segments,ds(b,y,w,b.children)),slicedSegments:y}:{segmentGroup:new re(b.segments,b.children),slicedSegments:y}}function ds(b,C,y,w){const P={};for(const Q of y)if(Bs(b,C,Q)&&!w[It(Q)]){const H=new re([],{});P[It(Q)]=H}return{...w,...P}}function Yi(b,C){const y={};y[Fe]=C;for(const w of b)if(""===w.path&&It(w)!==Fe){const P=new re([],{});y[It(w)]=P}return y}function Bs(b,C,y){return(!(b.hasChildren()||C.length>0)||"full"!==y.pathMatch)&&""===y.path}class Do{}class sa{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(C,y,w,P,Q,H,Ee){this.injector=C,this.configLoader=y,this.rootComponentType=w,this.config=P,this.urlTree=Q,this.paramsInheritanceStrategy=H,this.urlSerializer=Ee,this.applyRedirects=new Ur(this.urlSerializer,this.urlTree)}noMatchError(C){return new S.wOt(4002,`'${C.segmentGroup}'`)}recognize(){const C=oa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(C).pipe((0,_e.T)(({children:y,rootSnapshot:w})=>{const P=new Ln(w,y),Q=new _o("",P),H=function er(b,C,y=null,w=null){return ni(Ii(b),C,y,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return H.queryParams=this.urlTree.queryParams,Q.url=this.urlSerializer.serialize(H),{state:Q,tree:H}}))}match(C){const y=new No([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,C,Fe,y).pipe((0,_e.T)(w=>({children:w,rootSnapshot:y})),(0,dn.W)(w=>{if(w instanceof Ls)return this.urlTree=w.urlTree,this.match(w.urlTree.root);throw w instanceof Eo?this.noMatchError(w):w}))}processSegmentGroup(C,y,w,P,Q){return 0===w.segments.length&&w.hasChildren()?this.processChildren(C,y,w,Q):this.processSegment(C,y,w,w.segments,P,!0,Q).pipe((0,_e.T)(H=>H instanceof Ln?[H]:[]))}processChildren(C,y,w,P){const Q=[];for(const H of Object.keys(w.children))"primary"===H?Q.unshift(H):Q.push(H);return(0,ne.H)(Q).pipe((0,it.H)(H=>{const Ee=w.children[H],nt=function Wn(b,C){const y=b.filter(w=>It(w)===C);return y.push(...b.filter(w=>It(w)!==C)),y}(y,H);return this.processSegmentGroup(C,nt,Ee,H,P)}),function Lt(b,C){return(0,Le.N)(function yt(b,C,y,w,P){return(Q,H)=>{let Ee=y,nt=C,mt=0;Q.subscribe((0,rt._)(H,gn=>{const Un=mt++;nt=Ee?b(nt,gn,Un):(Ee=!0,gn),w&&H.next(nt)},P&&(()=>{Ee&&H.next(nt),H.complete()})))}}(b,C,arguments.length>=2,!0))}((H,Ee)=>(H.push(...Ee),H)),(0,lt.U)(null),function Se(b,C){const y=arguments.length>=2;return w=>w.pipe(b?(0,Ve.p)((P,Q)=>b(P,Q,w)):hn.D,Ot(1),y?(0,lt.U)(C):(0,un.v)(()=>new te.G))}(),(0,pt.Z)(H=>{if(null===H)return cs(w);const Ee=ki(H);return function vu(b){b.sort((C,y)=>C.value.outlet===Fe?-1:y.value.outlet===Fe?1:C.value.outlet.localeCompare(y.value.outlet))}(Ee),(0,R.of)(Ee)}))}processSegment(C,y,w,P,Q,H,Ee){return(0,ne.H)(y).pipe((0,it.H)(nt=>this.processSegmentAgainstRoute(nt._injector??C,y,nt,w,P,Q,H,Ee).pipe((0,dn.W)(mt=>{if(mt instanceof Eo)return(0,R.of)(null);throw mt}))),(0,jt.$)(nt=>!!nt),(0,dn.W)(nt=>{if(so(nt))return function Tl(b,C,y){return 0===C.length&&!b.children[y]}(w,P,Q)?(0,R.of)(new Do):cs(w);throw nt}))}processSegmentAgainstRoute(C,y,w,P,Q,H,Ee,nt){return It(w)===H||H!==Fe&&Bs(P,Q,w)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(C,P,w,Q,H,nt):this.allowRedirects&&Ee?this.expandSegmentAgainstRouteUsingRedirect(C,P,y,w,Q,H,nt):cs(P):cs(P)}expandSegmentAgainstRouteUsingRedirect(C,y,w,P,Q,H,Ee){const{matched:nt,parameters:mt,consumedSegments:gn,positionalParamSegments:Un,remainingSegments:wi}=kl(y,P,Q);if(!nt)return cs(y);"string"==typeof P.redirectTo&&"/"===P.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const no=new No(Q,mt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pl(P),It(P),P.component??P._loadedComponent??null,P,Us(P)),vr=xr(no,Ee,this.paramsInheritanceStrategy);no.params=Object.freeze(vr.params),no.data=Object.freeze(vr.data);const dr=this.applyRedirects.applyRedirectCommands(gn,P.redirectTo,Un,no,C);return this.applyRedirects.lineralizeSegments(P,dr).pipe((0,pt.Z)(lo=>this.processSegment(C,w,y,lo.concat(wi),H,!1,Ee)))}matchSegmentAgainstRoute(C,y,w,P,Q,H){const Ee=ao(y,w,P,C);return"**"===w.path&&(y.children={}),Ee.pipe((0,Ce.n)(nt=>nt.matched?this.getChildConfig(C=w._injector??C,w,P).pipe((0,Ce.n)(({routes:mt})=>{const gn=w._loadedInjector??C,{parameters:Un,consumedSegments:wi,remainingSegments:no}=nt,vr=new No(wi,Un,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pl(w),It(w),w.component??w._loadedComponent??null,w,Us(w)),dr=xr(vr,H,this.paramsInheritanceStrategy);vr.params=Object.freeze(dr.params),vr.data=Object.freeze(dr.data);const{segmentGroup:lo,slicedSegments:Al}=oa(y,wi,no,mt);if(0===Al.length&&lo.hasChildren())return this.processChildren(gn,mt,lo,vr).pipe((0,_e.T)(So=>new Ln(vr,So)));if(0===mt.length&&0===Al.length)return(0,R.of)(new Ln(vr,[]));const La=It(w)===Q;return this.processSegment(gn,mt,lo,Al,La?Fe:Q,!0,vr).pipe((0,_e.T)(So=>new Ln(vr,So instanceof Ln?[So]:[])))})):cs(y)))}getChildConfig(C,y,w){return y.children?(0,R.of)({routes:y.children,injector:C}):y.loadChildren?void 0!==y._loadedRoutes?(0,R.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function pn(b,C,y,w){const P=C.canLoad;if(void 0===P||0===P.length)return(0,R.of)(!0);const Q=P.map(H=>{const Ee=Br(H,b);return bn(function ls(b){return b&&as(b.canLoad)}(Ee)?Ee.canLoad(C,y):(0,S.N4e)(b,()=>Ee(C,y)))});return(0,R.of)(Q).pipe(Ns(),qi())}(C,y,w).pipe((0,pt.Z)(P=>P?this.configLoader.loadChildren(C,y).pipe((0,At.M)(Q=>{y._loadedRoutes=Q.routes,y._loadedInjector=Q.injector})):function Pa(){return(0,Me.$)(ka(!1,Yn.GuardRejected))}())):(0,R.of)({routes:[],injector:C})}}function jc(b){const C=b.value.routeConfig;return C&&""===C.path}function ki(b){const C=[],y=new Set;for(const w of b){if(!jc(w)){C.push(w);continue}const P=C.find(Q=>w.value.routeConfig===Q.value.routeConfig);void 0!==P?(P.children.push(...w.children),y.add(P)):C.push(w)}for(const w of y){const P=ki(w.children);C.push(new Ln(w.value,P))}return C.filter(w=>!y.has(w))}function Pl(b){return b.data||{}}function Us(b){return b.resolve||{}}function aa(b){const C=b.children.map(y=>aa(y)).flat();return[b,...C]}function Rr(b){return(0,Ce.n)(C=>{const y=b(C);return y?(0,ne.H)(y).pipe((0,_e.T)(()=>C)):(0,R.of)(C)})}let us=(()=>{class b{buildTitle(y){let w,P=y.root;for(;void 0!==P;)w=this.getResolvedTitleForRoute(P)??w,P=P.children.find(Q=>Q.outlet===Fe);return w}getResolvedTitleForRoute(y){return y.data[et]}static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:()=>(0,S.WQX)(Gn),providedIn:"root"})}return b})(),Gn=(()=>{class b extends us{title;constructor(y){super(),this.title=y}updateTitle(y){const w=this.buildTitle(y);void 0!==w&&this.title.setTitle(w)}static \u0275fac=function(w){return new(w||b)(S.KVO(Be.hE))};static \u0275prov=S.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const ct=new S.nKC("",{providedIn:"root",factory:()=>({})}),Kt=new S.nKC("");let bi=(()=>{class b{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,S.WQX)(S.Ql9);loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,R.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const w=bn(y.loadComponent()).pipe((0,_e.T)(Fi),(0,At.M)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=Q}),(0,Pe.j)(()=>{this.componentLoaders.delete(y)})),P=new He(w,()=>new tt.B).pipe(We());return this.componentLoaders.set(y,P),P}loadChildren(y,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,R.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const Q=function ci(b,C,y,w){return bn(b.loadChildren()).pipe((0,_e.T)(Fi),(0,pt.Z)(P=>P instanceof S.Co$||Array.isArray(P)?(0,R.of)(P):(0,ne.H)(C.compileModuleAsync(P))),(0,_e.T)(P=>{w&&w(b);let Q,H,Ee=!1;return Array.isArray(P)?(H=P,!0):(Q=P.create(y).injector,H=Q.get(Kt,[],{optional:!0,self:!0}).flat()),{routes:H.map(na),injector:Q}}))}(w,this.compiler,y,this.onLoadEndListener).pipe((0,Pe.j)(()=>{this.childrenLoaders.delete(w)})),H=new He(Q,()=>new tt.B).pipe(We());return this.childrenLoaders.set(w,H),H}static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function Fi(b){return function mi(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let $o=(()=>{class b{static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:()=>(0,S.WQX)(Hn),providedIn:"root"})}return b})(),Hn=(()=>{class b{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,w){return y}static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const di=new S.nKC(""),gr=new S.nKC("");function Zt(b,C,y){const w=b.get(gr),P=b.get(v.q);return b.get(S.SKi).runOutsideAngular(()=>{if(!P.startViewTransition||w.skipNextTransition)return w.skipNextTransition=!1,new Promise(mt=>setTimeout(mt));let Q;const H=new Promise(mt=>{Q=mt}),Ee=P.startViewTransition(()=>(Q(),function xo(b){return new Promise(C=>{(0,S.mal)({read:()=>setTimeout(C)},{injector:b})})}(b))),{onViewTransitionCreated:nt}=w;return nt&&(0,S.N4e)(b,()=>nt({transition:Ee,from:C,to:y})),H})}const Aa=new S.nKC("");let hs=(()=>{class b{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new tt.B;transitionAbortSubject=new tt.B;configLoader=(0,S.WQX)(bi);environmentInjector=(0,S.WQX)(S.uvJ);destroyRef=(0,S.WQX)(S.abz);urlSerializer=(0,S.WQX)(X);rootContexts=(0,S.WQX)(mn);location=(0,S.WQX)(e.aZ);inputBindingEnabled=null!==(0,S.WQX)(yo,{optional:!0});titleStrategy=(0,S.WQX)(us);options=(0,S.WQX)(ct,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,S.WQX)($o);createViewTransition=(0,S.WQX)(di,{optional:!0});navigationErrorHandler=(0,S.WQX)(Aa,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,R.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=P=>this.events.next(new Rc(P)),this.configLoader.onLoadStartListener=P=>this.events.next(new mo(P)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(y){const w=++this.navigationId;this.transitions?.next({...y,extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:w})}setupNavigations(y){return this.transitions=new q.t(null),this.transitions.pipe((0,Ve.p)(w=>null!==w),(0,Ce.n)(w=>{let P=!1,Q=!1;return(0,R.of)(w).pipe((0,Ce.n)(H=>{if(this.navigationId>w.id)return this.cancelNavigationTransition(w,"",Yn.SupersededByNewNavigation),Ie.w;this.currentTransition=w,this.currentNavigation={id:H.id,initialUrl:H.rawUrl,extractedUrl:H.extractedUrl,targetBrowserUrl:"string"==typeof H.extras.browserUrl?this.urlSerializer.parse(H.extras.browserUrl):H.extras.browserUrl,trigger:H.source,extras:H.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ee=!y.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ee&&"reload"!==(H.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const mt="";return this.events.next(new Ei(H.id,this.urlSerializer.serialize(H.rawUrl),mt,Li.IgnoredSameUrlNavigation)),H.resolve(!1),Ie.w}if(this.urlHandlingStrategy.shouldProcessUrl(H.rawUrl))return(0,R.of)(H).pipe((0,Ce.n)(mt=>(this.events.next(new On(mt.id,this.urlSerializer.serialize(mt.extractedUrl),mt.source,mt.restoredState)),mt.id!==this.navigationId?Ie.w:Promise.resolve(mt))),function Lc(b,C,y,w,P,Q){return(0,pt.Z)(H=>function Fa(b,C,y,w,P,Q,H="emptyOnly"){return new sa(b,C,y,w,P,H,Q).recognize()}(b,C,y,w,H.extractedUrl,P,Q).pipe((0,_e.T)(({state:Ee,tree:nt})=>({...H,targetSnapshot:Ee,urlAfterRedirects:nt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,At.M)(mt=>{w.targetSnapshot=mt.targetSnapshot,w.urlAfterRedirects=mt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mt.urlAfterRedirects};const gn=new Zr(mt.id,this.urlSerializer.serialize(mt.extractedUrl),this.urlSerializer.serialize(mt.urlAfterRedirects),mt.targetSnapshot);this.events.next(gn)}));if(Ee&&this.urlHandlingStrategy.shouldProcessUrl(H.currentRawUrl)){const{id:mt,extractedUrl:gn,source:Un,restoredState:wi,extras:no}=H,vr=new On(mt,this.urlSerializer.serialize(gn),Un,wi);this.events.next(vr);const dr=go(this.rootComponentType).snapshot;return this.currentTransition=w={...H,targetSnapshot:dr,urlAfterRedirects:gn,extras:{...no,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=gn,(0,R.of)(w)}{const mt="";return this.events.next(new Ei(H.id,this.urlSerializer.serialize(H.extractedUrl),mt,Li.IgnoredByUrlHandlingStrategy)),H.resolve(!1),Ie.w}}),(0,At.M)(H=>{const Ee=new tr(H.id,this.urlSerializer.serialize(H.extractedUrl),this.urlSerializer.serialize(H.urlAfterRedirects),H.targetSnapshot);this.events.next(Ee)}),(0,_e.T)(H=>(this.currentTransition=w={...H,guards:Mr(H.targetSnapshot,H.currentSnapshot,this.rootContexts)},w)),function ra(b,C){return(0,pt.Z)(y=>{const{targetSnapshot:w,currentSnapshot:P,guards:{canActivateChecks:Q,canDeactivateChecks:H}}=y;return 0===H.length&&0===Q.length?(0,R.of)({...y,guardsResult:!0}):function Ta(b,C,y,w){return(0,ne.H)(b).pipe((0,pt.Z)(P=>function Ft(b,C,y,w,P){const Q=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,R.of)(!0);const H=Q.map(Ee=>{const nt=Xn(C)??P,mt=Br(Ee,nt);return bn(function Ki(b){return b&&as(b.canDeactivate)}(mt)?mt.canDeactivate(b,C,y,w):(0,S.N4e)(nt,()=>mt(b,C,y,w))).pipe((0,jt.$)())});return(0,R.of)(H).pipe(Ns())}(P.component,P.route,y,C,w)),(0,jt.$)(P=>!0!==P,!0))}(H,w,P,b).pipe((0,pt.Z)(Ee=>Ee&&function Oa(b){return"boolean"==typeof b}(Ee)?function I(b,C,y,w){return(0,ne.H)(C).pipe((0,it.H)(P=>(0,le.x)(function E(b,C){return null!==b&&C&&C(new is(b)),(0,R.of)(!0)}(P.route.parent,w),function T(b,C){return null!==b&&C&&C(new ar(b)),(0,R.of)(!0)}(P.route,w),function fe(b,C,y){const w=C[C.length-1],Q=C.slice(0,C.length-1).reverse().map(H=>function ss(b){const C=b.routeConfig?b.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:b,guards:C}:null}(H)).filter(H=>null!==H).map(H=>(0,me.v)(()=>{const Ee=H.guards.map(nt=>{const mt=Xn(H.node)??y,gn=Br(nt,mt);return bn(function wn(b){return b&&as(b.canActivateChild)}(gn)?gn.canActivateChild(w,b):(0,S.N4e)(mt,()=>gn(w,b))).pipe((0,jt.$)())});return(0,R.of)(Ee).pipe(Ns())}));return(0,R.of)(Q).pipe(Ns())}(b,P.path,y),function B(b,C,y){const w=C.routeConfig?C.routeConfig.canActivate:null;if(!w||0===w.length)return(0,R.of)(!0);const P=w.map(Q=>(0,me.v)(()=>{const H=Xn(C)??y,Ee=Br(Q,H);return bn(function lr(b){return b&&as(b.canActivate)}(Ee)?Ee.canActivate(C,b):(0,S.N4e)(H,()=>Ee(C,b))).pipe((0,jt.$)())}));return(0,R.of)(P).pipe(Ns())}(b,P.route,y))),(0,jt.$)(P=>!0!==P,!0))}(w,Q,b,C):(0,R.of)(Ee)),(0,_e.T)(Ee=>({...y,guardsResult:Ee})))})}(this.environmentInjector,H=>this.events.next(H)),(0,At.M)(H=>{if(w.guardsResult=H.guardsResult,H.guardsResult&&"boolean"!=typeof H.guardsResult)throw Pr(0,H.guardsResult);const Ee=new Or(H.id,this.urlSerializer.serialize(H.extractedUrl),this.urlSerializer.serialize(H.urlAfterRedirects),H.targetSnapshot,!!H.guardsResult);this.events.next(Ee)}),(0,Ve.p)(H=>!!H.guardsResult||(this.cancelNavigationTransition(H,"",Yn.GuardRejected),!1)),Rr(H=>{if(0!==H.guards.canActivateChecks.length)return(0,R.of)(H).pipe((0,At.M)(Ee=>{const nt=new Tr(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(nt)}),(0,Ce.n)(Ee=>{let nt=!1;return(0,R.of)(Ee).pipe(function Fl(b,C){return(0,pt.Z)(y=>{const{targetSnapshot:w,guards:{canActivateChecks:P}}=y;if(!P.length)return(0,R.of)(y);const Q=new Set(P.map(nt=>nt.route)),H=new Set;for(const nt of Q)if(!H.has(nt))for(const mt of aa(nt))H.add(mt);let Ee=0;return(0,ne.H)(H).pipe((0,it.H)(nt=>Q.has(nt)?function Ra(b,C,y,w){const P=b.routeConfig,Q=b._resolve;return void 0!==P?.title&&!vi(P)&&(Q[et]=P.title),function Bc(b,C,y,w){const P=St(b);if(0===P.length)return(0,R.of)({});const Q={};return(0,ne.H)(P).pipe((0,pt.Z)(H=>function Rl(b,C,y,w){const P=Xn(C)??w,Q=Br(b,P);return bn(Q.resolve?Q.resolve(C,y):(0,S.N4e)(P,()=>Q(C,y)))}(b[H],C,y,w).pipe((0,jt.$)(),(0,At.M)(Ee=>{if(Ee instanceof pr)throw Pr(new ae,Ee);Q[H]=Ee}))),Ot(1),(0,_e.T)(()=>Q),(0,dn.W)(H=>so(H)?Ie.w:(0,Me.$)(H)))}(Q,b,C,w).pipe((0,_e.T)(H=>(b._resolvedData=H,b.data=xr(b,b.parent,y).resolve,null)))}(nt,w,b,C):(nt.data=xr(nt,nt.parent,b).resolve,(0,R.of)(void 0))),(0,At.M)(()=>Ee++),Ot(1),(0,pt.Z)(nt=>Ee===H.size?(0,R.of)(y):Ie.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,At.M)({next:()=>nt=!0,complete:()=>{nt||this.cancelNavigationTransition(Ee,"",Yn.NoDataFromResolver)}}))}),(0,At.M)(Ee=>{const nt=new ks(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(nt)}))}),Rr(H=>{const Ee=nt=>{const mt=[];nt.routeConfig?.loadComponent&&!nt.routeConfig._loadedComponent&&mt.push(this.configLoader.loadComponent(nt.routeConfig).pipe((0,At.M)(gn=>{nt.component=gn}),(0,_e.T)(()=>{})));for(const gn of nt.children)mt.push(...Ee(gn));return mt};return(0,ce.z)(Ee(H.targetSnapshot.root)).pipe((0,lt.U)(null),(0,be.s)(1))}),Rr(()=>this.afterPreactivation()),(0,Ce.n)(()=>{const{currentSnapshot:H,targetSnapshot:Ee}=w,nt=this.createViewTransition?.(this.environmentInjector,H.root,Ee.root);return nt?(0,ne.H)(nt).pipe((0,_e.T)(()=>w)):(0,R.of)(w)}),(0,_e.T)(H=>{const Ee=function ia(b,C,y){const w=jo(b,C._root,y?y._root:void 0);return new eo(w,C)}(y.routeReuseStrategy,H.targetSnapshot,H.currentRouterState);return this.currentTransition=w={...H,targetRouterState:Ee},this.currentNavigation.targetRouterState=Ee,w}),(0,At.M)(()=>{this.events.next(new po)}),((b,C,y,w)=>(0,_e.T)(P=>(new Bo(C,P.targetRouterState,P.currentRouterState,y,w).activate(b),P)))(this.rootContexts,y.routeReuseStrategy,H=>this.events.next(H),this.inputBindingEnabled),(0,be.s)(1),(0,At.M)({next:H=>{P=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new En(H.id,this.urlSerializer.serialize(H.extractedUrl),this.urlSerializer.serialize(H.urlAfterRedirects))),this.titleStrategy?.updateTitle(H.targetRouterState.snapshot),H.resolve(!0)},complete:()=>{P=!0}}),(0,je.Q)(this.transitionAbortSubject.pipe((0,At.M)(H=>{throw H}))),(0,Pe.j)(()=>{!P&&!Q&&this.cancelNavigationTransition(w,"",Yn.SupersededByNewNavigation),this.currentTransition?.id===w.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,dn.W)(H=>{if(this.destroyed)return w.resolve(!1),Ie.w;if(Q=!0,Co(H))this.events.next(new Et(w.id,this.urlSerializer.serialize(w.extractedUrl),H.message,H.cancellationCode)),function Xi(b){return Co(b)&&wr(b.url)}(H)?this.events.next(new k(H.url,H.navigationBehaviorOptions)):w.resolve(!1);else{const Ee=new mr(w.id,this.urlSerializer.serialize(w.extractedUrl),H,w.targetSnapshot??void 0);try{const nt=(0,S.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Ee));if(!(nt instanceof pr))throw this.events.next(Ee),H;{const{message:mt,cancellationCode:gn}=Pr(0,nt);this.events.next(new Et(w.id,this.urlSerializer.serialize(w.extractedUrl),mt,gn)),this.events.next(new k(nt.redirectTo,nt.navigationBehaviorOptions))}}catch(nt){this.options.resolveNavigationPromiseOnError?w.resolve(!1):w.reject(nt)}}return Ie.w}))}))}cancelNavigationTransition(y,w,P){const Q=new Et(y.id,this.urlSerializer.serialize(y.extractedUrl),w,P);this.events.next(Q),y.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const y=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),w=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return y.toString()!==w?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function pi(b){return b!==Cn}let Vi=(()=>{class b{static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:()=>(0,S.WQX)(to),providedIn:"root"})}return b})();class Go{shouldDetach(C){return!1}store(C,y){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,y){return C.routeConfig===y.routeConfig}}let to=(()=>{class b extends Go{static \u0275fac=(()=>{let y;return function(P){return(y||(y=S.xGo(b)))(P||b)}})();static \u0275prov=S.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),Ho=(()=>{class b{urlSerializer=(0,S.WQX)(X);options=(0,S.WQX)(ct,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,S.WQX)(e.aZ);urlHandlingStrategy=(0,S.WQX)($o);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new z;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:y,initialUrl:w,targetBrowserUrl:P}){const Q=void 0!==y?this.urlHandlingStrategy.merge(y,w):w,H=P??Q;return H instanceof z?this.urlSerializer.serialize(H):H}commitTransition({targetRouterState:y,finalUrl:w,initialUrl:P}){w&&y?(this.currentUrlTree=w,this.rawUrlTree=this.urlHandlingStrategy.merge(w,P),this.routerState=y):this.rawUrlTree=P}routerState=go(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:y}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y??this.rawUrlTree)}static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:()=>(0,S.WQX)(Na),providedIn:"root"})}return b})(),Na=(()=>{class b extends Ho{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(y){return this.location.subscribe(w=>{"popstate"===w.type&&setTimeout(()=>{y(w.url,w.state,"popstate")})})}handleRouterEvent(y,w){y instanceof On?this.updateStateMemento():y instanceof Ei?this.commitTransition(w):y instanceof Zr?"eager"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(w),w)):y instanceof po?(this.commitTransition(w),"deferred"===this.urlUpdateStrategy&&!w.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(w),w)):y instanceof Et&&(y.code===Yn.GuardRejected||y.code===Yn.NoDataFromResolver)?this.restoreHistory(w):y instanceof mr?this.restoreHistory(w,!0):y instanceof En&&(this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId)}setBrowserUrl(y,{extras:w,id:P}){const{replaceUrl:Q,state:H}=w;if(this.location.isCurrentPathEqualTo(y)||Q){const Ee=this.browserPageId,nt={...H,...this.generateNgRouterState(P,Ee)};this.location.replaceState(y,"",nt)}else{const Ee={...H,...this.generateNgRouterState(P,this.browserPageId+1)};this.location.go(y,"",Ee)}}restoreHistory(y,w=!1){if("computed"===this.canceledNavigationResolution){const Q=this.currentPageId-this.browserPageId;0!==Q?this.location.historyGo(Q):this.getCurrentUrlTree()===y.finalUrl&&0===Q&&(this.resetInternalState(y),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetInternalState(y),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,w){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:w}:{navigationId:y}}static \u0275fac=(()=>{let y;return function(P){return(y||(y=S.xGo(b)))(P||b)}})();static \u0275prov=S.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function Mo(b,C){b.events.pipe((0,Ve.p)(y=>y instanceof En||y instanceof Et||y instanceof mr||y instanceof Ei),(0,_e.T)(y=>y instanceof En||y instanceof Ei?0:y instanceof Et&&(y.code===Yn.Redirect||y.code===Yn.SupersededByNewNavigation)?2:1),(0,Ve.p)(y=>2!==y),(0,be.s)(1)).subscribe(()=>{C()})}const ja={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _r=(()=>{class b{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,S.WQX)(S.H3F);stateManager=(0,S.WQX)(Ho);options=(0,S.WQX)(ct,{optional:!0})||{};pendingTasks=(0,S.WQX)(S.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,S.WQX)(hs);urlSerializer=(0,S.WQX)(X);location=(0,S.WQX)(e.aZ);urlHandlingStrategy=(0,S.WQX)($o);_events=new tt.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,S.WQX)(Vi);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,S.WQX)(Kt,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,S.WQX)(yo,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:y=>{this.console.warn(y)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ze.yU;subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(w=>{try{const P=this.navigationTransitions.currentTransition,Q=this.navigationTransitions.currentNavigation;if(null!==P&&null!==Q)if(this.stateManager.handleRouterEvent(w,Q),w instanceof Et&&w.code!==Yn.Redirect&&w.code!==Yn.SupersededByNewNavigation)this.navigated=!0;else if(w instanceof En)this.navigated=!0;else if(w instanceof k){const H=w.navigationBehaviorOptions,Ee=this.urlHandlingStrategy.merge(w.url,P.currentRawUrl),nt={browserUrl:P.extras.browserUrl,info:P.extras.info,skipLocationChange:P.extras.skipLocationChange,replaceUrl:P.extras.replaceUrl||"eager"===this.urlUpdateStrategy||pi(P.source),...H};this.scheduleNavigation(Ee,Cn,null,nt,{resolve:P.resolve,reject:P.reject,promise:P.promise})}(function Rt(b){return!(b instanceof po||b instanceof k)})(w)&&this._events.next(w)}catch(P){this.navigationTransitions.transitionAbortSubject.next(P)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((y,w,P)=>{this.navigateToSyncWithBrowser(y,P,w)})}navigateToSyncWithBrowser(y,w,P){const Q={replaceUrl:!0},H=P?.navigationId?P:null;if(P){const nt={...P};delete nt.navigationId,delete nt.\u0275routerPageId,0!==Object.keys(nt).length&&(Q.state=nt)}const Ee=this.parseUrl(y);this.scheduleNavigation(Ee,w,H,Q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(na),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,w={}){const{relativeTo:P,queryParams:Q,fragment:H,queryParamsHandling:Ee,preserveFragment:nt}=w,mt=nt?this.currentUrlTree.fragment:H;let Un,gn=null;switch(Ee??this.options.defaultQueryParamsHandling){case"merge":gn={...this.currentUrlTree.queryParams,...Q};break;case"preserve":gn=this.currentUrlTree.queryParams;break;default:gn=Q||null}null!==gn&&(gn=this.removeEmptyProps(gn));try{Un=Ii(P?P.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||"/"!==y[0][0])&&(y=[]),Un=this.currentUrlTree.root}return ni(Un,y,gn,mt??null)}navigateByUrl(y,w={skipLocationChange:!1}){const P=wr(y)?y:this.parseUrl(y),Q=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(Q,Cn,null,w)}navigate(y,w={skipLocationChange:!1}){return function la(b){for(let C=0;C<b.length;C++)if(null==b[C])throw new S.wOt(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,w),w)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){try{return this.urlSerializer.parse(y)}catch{return this.urlSerializer.parse("/")}}isActive(y,w){let P;if(P=!0===w?{...ja}:!1===w?{...zo}:w,wr(y))return Pn(this.currentUrlTree,y,P);const Q=this.parseUrl(y);return Pn(this.currentUrlTree,Q,P)}removeEmptyProps(y){return Object.entries(y).reduce((w,[P,Q])=>(null!=Q&&(w[P]=Q),w),{})}scheduleNavigation(y,w,P,Q,H){if(this.disposed)return Promise.resolve(!1);let Ee,nt,mt;H?(Ee=H.resolve,nt=H.reject,mt=H.promise):mt=new Promise((Un,wi)=>{Ee=Un,nt=wi});const gn=this.pendingTasks.add();return Mo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(gn))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:Q,resolve:Ee,reject:nt,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch(Un=>Promise.reject(Un))}static \u0275fac=function(w){return new(w||b)};static \u0275prov=S.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},5196:(ht,xe,D)=>{D.d(xe,{C:()=>S,U:()=>N});var v=D(1635),e=D(8071);function S(ne){return(0,v.AQ)(this,arguments,function*(){const q=ne.getReader();try{for(;;){const{value:ce,done:te}=yield(0,v.N3)(q.read());if(te)return yield(0,v.N3)(void 0);yield yield(0,v.N3)(ce)}}finally{q.releaseLock()}})}function N(ne){return(0,e.T)(ne?.getReader)}},5225:(ht,xe,D)=>{function v(e,S,N,ne=0,R=!1){const q=S.schedule(function(){N(),R?e.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(e.add(q),!R)return q}D.d(xe,{N:()=>v})},5312:(ht,xe,D)=>{D.d(xe,{c:()=>v});const v={production:!0,apiUrl:"https://gwendalexe.pythonanywhere.com",stripePublicKey:"pk_test_fake_key_just_for_build_pass"}},5334:(ht,xe,D)=>{D.d(xe,{m:()=>S});var v=D(1026),e=D(9270);function S(N){e.f.setTimeout(()=>{const{onUnhandledError:ne}=v.$;if(!ne)throw N;ne(N)})}},5343:(ht,xe,D)=>{function v(){}D.d(xe,{l:()=>v})},5351:(ht,xe,D)=>{D.d(xe,{bZ:()=>fn,hM:()=>re,CP:()=>In});var v=D(6969),e=D(6048),S=D(9361),N=D(1360),ne=D(8464),R=D(6860),q=D(6939),ce=D(7336),te=D(1413),le=D(9030),me=D(7673),ke=D(8203),Me=D(9172);function Ie(de,Ke){}class Ne{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Le=(()=>{class de extends q.lb{constructor(X,ae,$,he,Re,qe,vt,Wt){super(),this._elementRef=X,this._focusTrapFactory=ae,this._config=he,this._interactivityChecker=Re,this._ngZone=qe,this._overlayRef=vt,this._focusMonitor=Wt,this._platform=(0,N.WQX)(R.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,N.WQX)(N.gRc),this._injector=(0,N.WQX)(N.zZn),this._isDestroyed=!1,this.attachDomPortal=Ht=>{this._portalOutlet.hasAttached();const ln=this._portalOutlet.attachDomPortal(Ht);return this._contentAttached(),ln},this._document=$,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(X){this._ariaLabelledByQueue.push(X),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(X){const ae=this._ariaLabelledByQueue.indexOf(X);ae>-1&&(this._ariaLabelledByQueue.splice(ae,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(X){this._portalOutlet.hasAttached();const ae=this._portalOutlet.attachComponentPortal(X);return this._contentAttached(),ae}attachTemplatePortal(X){this._portalOutlet.hasAttached();const ae=this._portalOutlet.attachTemplatePortal(X);return this._contentAttached(),ae}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(X,ae){this._interactivityChecker.isFocusable(X)||(X.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const $=()=>{X.removeEventListener("blur",$),X.removeEventListener("mousedown",$),X.removeAttribute("tabindex")};X.addEventListener("blur",$),X.addEventListener("mousedown",$)})),X.focus(ae)}_focusByCssSelector(X,ae){let $=this._elementRef.nativeElement.querySelector(X);$&&this._forceFocus($,ae)}_trapFocus(){this._isDestroyed||(0,N.mal)(()=>{const X=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||X.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const X=this._config.restoreFocus;let ae=null;if("string"==typeof X?ae=this._document.querySelector(X):"boolean"==typeof X?ae=X?this._elementFocusedBeforeDialogWasOpened:null:X&&(ae=X),this._config.restoreFocus&&ae&&"function"==typeof ae.focus){const $=(0,R.vc)(),he=this._elementRef.nativeElement;(!$||$===this._document.body||$===he||he.contains($))&&(this._focusMonitor?(this._focusMonitor.focusVia(ae,this._closeInteractionType),this._closeInteractionType=null):ae.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const X=this._elementRef.nativeElement,ae=(0,R.vc)();return X===ae||X.contains(ae)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,R.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(ae){return new(ae||de)(N.rXU(N.aKT),N.rXU(ne.GX),N.rXU(S.q,8),N.rXU(Ne),N.rXU(ne.Z7),N.rXU(N.SKi),N.rXU(v.yY),N.rXU(ne.FN))}}static{this.\u0275cmp=N.VBU({type:de,selectors:[["cdk-dialog-container"]],viewQuery:function(ae,$){if(1&ae&&N.GBs(q.I3,7),2&ae){let he;N.mGM(he=N.lsd())&&($._portalOutlet=he.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ae,$){2&ae&&N.BMQ("id",$._config.id||null)("role",$._config.role)("aria-modal",$._config.ariaModal)("aria-labelledby",$._config.ariaLabel?null:$._ariaLabelledByQueue[0])("aria-label",$._config.ariaLabel)("aria-describedby",$._config.ariaDescribedBy||null)},features:[N.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ae,$){1&ae&&N.DNE(0,Ie,0,0,"ng-template",0)},dependencies:[q.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return de})();class rt{constructor(Ke,X){this.overlayRef=Ke,this.config=X,this.closed=new te.B,this.disableClose=X.disableClose,this.backdropClick=Ke.backdropClick(),this.keydownEvents=Ke.keydownEvents(),this.outsidePointerEvents=Ke.outsidePointerEvents(),this.id=X.id,this.keydownEvents.subscribe(ae=>{ae.keyCode===ce._f&&!this.disableClose&&!(0,ce.rp)(ae)&&(ae.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Ke.detachments().subscribe(()=>{!1!==X.closeOnOverlayDetachments&&this.close()})}close(Ke,X){if(this.containerInstance){const ae=this.closed;this.containerInstance._closeInteractionType=X?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),ae.next(Ke),ae.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Ke="",X=""){return this.overlayRef.updateSize({width:Ke,height:X}),this}addPanelClass(Ke){return this.overlayRef.addPanelClass(Ke),this}removePanelClass(Ke){return this.overlayRef.removePanelClass(Ke),this}}const We=new N.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const de=(0,N.WQX)(v.hJ);return()=>de.scrollStrategies.block()}}),He=new N.nKC("DialogData"),tt=new N.nKC("DefaultDialogConfig");let be=0,we=(()=>{class de{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(X,ae,$,he,Re,qe){this._overlay=X,this._injector=ae,this._defaultOptions=$,this._parentDialog=he,this._overlayContainer=Re,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new te.B,this._afterOpenedAtThisLevel=new te.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,le.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Me.Z)(void 0))),this._scrollStrategy=qe}open(X,ae){(ae={...this._defaultOptions||new Ne,...ae}).id=ae.id||"cdk-dialog-"+be++,ae.id&&this.getDialogById(ae.id);const he=this._getOverlayConfig(ae),Re=this._overlay.create(he),qe=new rt(Re,ae),vt=this._attachContainer(Re,qe,ae);return qe.containerInstance=vt,this._attachDialogContent(X,qe,vt,ae),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(qe),qe.closed.subscribe(()=>this._removeOpenDialog(qe,!0)),this.afterOpened.next(qe),qe}closeAll(){Ve(this.openDialogs,X=>X.close())}getDialogById(X){return this.openDialogs.find(ae=>ae.id===X)}ngOnDestroy(){Ve(this._openDialogsAtThisLevel,X=>{!1===X.config.closeOnDestroy&&this._removeOpenDialog(X,!1)}),Ve(this._openDialogsAtThisLevel,X=>X.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(X){const ae=new v.rR({positionStrategy:X.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:X.scrollStrategy||this._scrollStrategy(),panelClass:X.panelClass,hasBackdrop:X.hasBackdrop,direction:X.direction,minWidth:X.minWidth,minHeight:X.minHeight,maxWidth:X.maxWidth,maxHeight:X.maxHeight,width:X.width,height:X.height,disposeOnNavigation:X.closeOnNavigation});return X.backdropClass&&(ae.backdropClass=X.backdropClass),ae}_attachContainer(X,ae,$){const he=$.injector||$.viewContainerRef?.injector,Re=[{provide:Ne,useValue:$},{provide:rt,useValue:ae},{provide:v.yY,useValue:X}];let qe;$.container?"function"==typeof $.container?qe=$.container:(qe=$.container.type,Re.push(...$.container.providers($))):qe=Le;const vt=new q.A8(qe,$.viewContainerRef,N.zZn.create({parent:he||this._injector,providers:Re}),$.componentFactoryResolver);return X.attach(vt).instance}_attachDialogContent(X,ae,$,he){if(X instanceof N.C4Q){const Re=this._createInjector(he,ae,$,void 0);let qe={$implicit:he.data,dialogRef:ae};he.templateContext&&(qe={...qe,..."function"==typeof he.templateContext?he.templateContext():he.templateContext}),$.attachTemplatePortal(new q.VA(X,null,qe,Re))}else{const Re=this._createInjector(he,ae,$,this._injector),qe=$.attachComponentPortal(new q.A8(X,he.viewContainerRef,Re,he.componentFactoryResolver));ae.componentRef=qe,ae.componentInstance=qe.instance}}_createInjector(X,ae,$,he){const Re=X.injector||X.viewContainerRef?.injector,qe=[{provide:He,useValue:X.data},{provide:rt,useValue:ae}];return X.providers&&("function"==typeof X.providers?qe.push(...X.providers(ae,X,$)):qe.push(...X.providers)),X.direction&&(!Re||!Re.get(ke.dS,null,{optional:!0}))&&qe.push({provide:ke.dS,useValue:{value:X.direction,change:(0,me.of)()}}),N.zZn.create({parent:Re||he,providers:qe})}_removeOpenDialog(X,ae){const $=this.openDialogs.indexOf(X);$>-1&&(this.openDialogs.splice($,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((he,Re)=>{he?Re.setAttribute("aria-hidden",he):Re.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),ae&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const X=this._overlayContainer.getContainerElement();if(X.parentElement){const ae=X.parentElement.children;for(let $=ae.length-1;$>-1;$--){const he=ae[$];he!==X&&"SCRIPT"!==he.nodeName&&"STYLE"!==he.nodeName&&!he.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(he,he.getAttribute("aria-hidden")),he.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const X=this._parentDialog;return X?X._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(ae){return new(ae||de)(N.KVO(v.hJ),N.KVO(N.zZn),N.KVO(tt,8),N.KVO(de,12),N.KVO(v.Sf),N.KVO(We))}}static{this.\u0275prov=N.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();function Ve(de,Ke){let X=de.length;for(;X--;)Ke(de[X])}let pt=(()=>{class de{static{this.\u0275fac=function(ae){return new(ae||de)}}static{this.\u0275mod=N.$C({type:de})}static{this.\u0275inj=N.G2t({providers:[we],imports:[v.z_,q.jc,ne.Pd,q.jc]})}}return de})();var jt=D(4085),it=D(7786),At=D(5964),dn=D(6697),Lt=(D(4155),D(6600));function Ot(de,Ke){}D(969);class un{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const hn="mdc-dialog--open",Se="mdc-dialog--opening",Pe="mdc-dialog--closing";let Fe=(()=>{class de extends Le{constructor(X,ae,$,he,Re,qe,vt,Wt,Ht){super(X,ae,$,he,Re,qe,vt,Ht),this._animationMode=Wt,this._animationStateChanged=new N.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Dt(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Dt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(et,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Se,hn)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(hn),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(hn),this._animationsEnabled?(this._hostElement.style.setProperty(et,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Pe)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(X){this._actionSectionCount+=X,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Se,Pe)}_waitForAnimationToComplete(X,ae){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ae,X)}_requestAnimationFrame(X){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(X):X()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(X){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:X})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(X){const ae=super.attachComponentPortal(X);return ae.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),ae}static{this.\u0275fac=function(ae){return new(ae||de)(N.rXU(N.aKT),N.rXU(ne.GX),N.rXU(S.q,8),N.rXU(un),N.rXU(ne.Z7),N.rXU(N.SKi),N.rXU(v.yY),N.rXU(N.bc$,8),N.rXU(ne.FN))}}static{this.\u0275cmp=N.VBU({type:de,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(ae,$){2&ae&&(N.Mr5("id",$._config.id),N.BMQ("aria-modal",$._config.ariaModal)("role",$._config.role)("aria-labelledby",$._config.ariaLabel?null:$._ariaLabelledByQueue[0])("aria-label",$._config.ariaLabel)("aria-describedby",$._config.ariaDescribedBy||null),N.AVh("_mat-animation-noopable",!$._animationsEnabled)("mat-mdc-dialog-container-with-actions",$._actionSectionCount>0))},features:[N.Vt3],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ae,$){1&ae&&(N.j41(0,"div",0)(1,"div",1),N.DNE(2,Ot,0,0,"ng-template",2),N.k0s()())},dependencies:[q.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return de})();const et="--mat-dialog-transition-duration";function Dt(de){return null==de?null:"number"==typeof de?de:de.endsWith("ms")?(0,jt.OE)(de.substring(0,de.length-2)):de.endsWith("s")?1e3*(0,jt.OE)(de.substring(0,de.length-1)):"0"===de?0:null}var Pt=function(de){return de[de.OPEN=0]="OPEN",de[de.CLOSING=1]="CLOSING",de[de.CLOSED=2]="CLOSED",de}(Pt||{});class In{constructor(Ke,X,ae){this._ref=Ke,this._containerInstance=ae,this._afterOpened=new te.B,this._beforeClosed=new te.B,this._state=Pt.OPEN,this.disableClose=X.disableClose,this.id=Ke.id,Ke.addPanelClass("mat-mdc-dialog-panel"),ae._animationStateChanged.pipe((0,At.p)($=>"opened"===$.state),(0,dn.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ae._animationStateChanged.pipe((0,At.p)($=>"closed"===$.state),(0,dn.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Ke.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,it.h)(this.backdropClick(),this.keydownEvents().pipe((0,At.p)($=>$.keyCode===ce._f&&!this.disableClose&&!(0,ce.rp)($)))).subscribe($=>{this.disableClose||($.preventDefault(),function xt(de,Ke,X){return de._closeInteractionType=Ke,de.close(X)}(this,"keydown"===$.type?"keyboard":"mouse"))})}close(Ke){this._result=Ke,this._containerInstance._animationStateChanged.pipe((0,At.p)(X=>"closing"===X.state),(0,dn.s)(1)).subscribe(X=>{this._beforeClosed.next(Ke),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),X.totalTime+100)}),this._state=Pt.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Ke){let X=this._ref.config.positionStrategy;return Ke&&(Ke.left||Ke.right)?Ke.left?X.left(Ke.left):X.right(Ke.right):X.centerHorizontally(),Ke&&(Ke.top||Ke.bottom)?Ke.top?X.top(Ke.top):X.bottom(Ke.bottom):X.centerVertically(),this._ref.updatePosition(),this}updateSize(Ke="",X=""){return this._ref.updateSize(Ke,X),this}addPanelClass(Ke){return this._ref.addPanelClass(Ke),this}removePanelClass(Ke){return this._ref.removePanelClass(Ke),this}getState(){return this._state}_finishDialogClose(){this._state=Pt.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Jt=new N.nKC("MatMdcDialogData"),St=new N.nKC("mat-mdc-dialog-default-options"),Vn=new N.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const de=(0,N.WQX)(v.hJ);return()=>de.scrollStrategies.block()}});let tn=0,fn=(()=>{class de{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const X=this._parentDialog;return X?X._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(X,ae,$,he,Re,qe,vt,Wt){this._overlay=X,this._defaultOptions=he,this._scrollStrategy=Re,this._parentDialog=qe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new te.B,this._afterOpenedAtThisLevel=new te.B,this.dialogConfigClass=un,this.afterAllClosed=(0,le.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Me.Z)(void 0))),this._dialog=ae.get(we),this._dialogRefConstructor=In,this._dialogContainerType=Fe,this._dialogDataToken=Jt}open(X,ae){let $;(ae={...this._defaultOptions||new un,...ae}).id=ae.id||"mat-mdc-dialog-"+tn++,ae.scrollStrategy=ae.scrollStrategy||this._scrollStrategy();const he=this._dialog.open(X,{...ae,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ae},{provide:Ne,useValue:ae}]},templateContext:()=>({dialogRef:$}),providers:(Re,qe,vt)=>($=new this._dialogRefConstructor(Re,ae,vt),$.updatePosition(ae?.position),[{provide:this._dialogContainerType,useValue:vt},{provide:this._dialogDataToken,useValue:qe.data},{provide:this._dialogRefConstructor,useValue:$}])});return $.componentRef=he.componentRef,$.componentInstance=he.componentInstance,this.openDialogs.push($),this.afterOpened.next($),$.afterClosed().subscribe(()=>{const Re=this.openDialogs.indexOf($);Re>-1&&(this.openDialogs.splice(Re,1),this.openDialogs.length||this._getAfterAllClosed().next())}),$}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(X){return this.openDialogs.find(ae=>ae.id===X)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(X){let ae=X.length;for(;ae--;)X[ae].close()}static{this.\u0275fac=function(ae){return new(ae||de)(N.KVO(v.hJ),N.KVO(N.zZn),N.KVO(e.aZ,8),N.KVO(St,8),N.KVO(Vn),N.KVO(de,12),N.KVO(v.Sf),N.KVO(N.bc$,8))}}static{this.\u0275prov=N.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})(),re=(()=>{class de{static{this.\u0275fac=function(ae){return new(ae||de)}}static{this.\u0275mod=N.$C({type:de})}static{this.\u0275inj=N.G2t({providers:[fn],imports:[pt,v.z_,q.jc,Lt.yE,Lt.yE]})}}return de})()},5397:(ht,xe,D)=>{D.d(xe,{x:()=>S});var v=D(4761),e=D(8071);function S(N){return(0,e.T)(N?.[v.l])}},5530:(ht,xe,D)=>{D.d(xe,{P:()=>ne});var v=D(4412),e=D(5312),S=D(1360),N=D(7643);let ne=(()=>{class R{constructor(ce){this.http=ce,this.baseUrl=e.c.apiUrl,this.userSubject=new v.t(null),this.loadUserFromLocalStorage()}setUser(ce){this.userSubject.next(ce)}getUser(){return this.userSubject.asObservable()}getUserById(ce){return this.http.get(`${this.baseUrl}/users/${ce}`)}loadUserFromLocalStorage(){const ce=localStorage.getItem("currentUser");if(!ce)return this.user;try{const te=JSON.parse(ce);return this.setUser(te),te}catch{return localStorage.removeItem("currentUser"),null}}static{this.\u0275fac=function(te){return new(te||R)(S.KVO(N.Qq))}}static{this.\u0275prov=S.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},5558:(ht,xe,D)=>{D.d(xe,{n:()=>N});var v=D(8750),e=D(9974),S=D(4360);function N(ne,R){return(0,e.N)((q,ce)=>{let te=null,le=0,me=!1;const ke=()=>me&&!te&&ce.complete();q.subscribe((0,S._)(ce,Me=>{te?.unsubscribe();let Ie=0;const Ne=le++;(0,v.Tg)(ne(Me,Ne)).subscribe(te=(0,S._)(ce,ze=>ce.next(R?R(Me,ze,Ne,Ie++):ze),()=>{te=null,ke()}))},()=>{me=!0,ke()}))})}},5964:(ht,xe,D)=>{D.d(xe,{p:()=>S});var v=D(9974),e=D(4360);function S(N,ne){return(0,v.N)((R,q)=>{let ce=0;R.subscribe((0,e._)(q,te=>N.call(ne,te,ce++)&&q.next(te)))})}},6048:(ht,xe,D)=>{D.d(xe,{Q:()=>Me,Sm:()=>ze,Vw:()=>ce,aZ:()=>Le,hb:()=>Ie,hj:()=>te,ig:()=>R,kB:()=>Ne,om:()=>me,qj:()=>q,rb:()=>ne});var v=D(1360),e=D(1413),S=D(9361);let N=null;function ne(){return N}function R(_e){N??=_e}class q{}let ce=(()=>{class _e{historyGo(be){throw new Error("")}static \u0275fac=function(we){return new(we||_e)};static \u0275prov=v.jDH({token:_e,factory:()=>(0,v.WQX)(le),providedIn:"platform"})}return _e})();const te=new v.nKC("");let le=(()=>{class _e extends ce{_location;_history;_doc=(0,v.WQX)(S.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ne().getBaseHref(this._doc)}onPopState(be){const we=ne().getGlobalEventTarget(this._doc,"window");return we.addEventListener("popstate",be,!1),()=>we.removeEventListener("popstate",be)}onHashChange(be){const we=ne().getGlobalEventTarget(this._doc,"window");return we.addEventListener("hashchange",be,!1),()=>we.removeEventListener("hashchange",be)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(be){this._location.pathname=be}pushState(be,we,Ve){this._history.pushState(be,we,Ve)}replaceState(be,we,Ve){this._history.replaceState(be,we,Ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(be=0){this._history.go(be)}getState(){return this._history.state}static \u0275fac=function(we){return new(we||_e)};static \u0275prov=v.jDH({token:_e,factory:()=>new _e,providedIn:"platform"})}return _e})();function me(_e,Ce){return _e?Ce?_e.endsWith("/")?Ce.startsWith("/")?_e+Ce.slice(1):_e+Ce:Ce.startsWith("/")?_e+Ce:`${_e}/${Ce}`:_e:Ce}function ke(_e){const Ce=_e.search(/#|\?|$/);return"/"===_e[Ce-1]?_e.slice(0,Ce-1)+_e.slice(Ce):_e}function Me(_e){return _e&&"?"!==_e[0]?`?${_e}`:_e}let Ie=(()=>{class _e{historyGo(be){throw new Error("")}static \u0275fac=function(we){return new(we||_e)};static \u0275prov=v.jDH({token:_e,factory:()=>(0,v.WQX)(ze),providedIn:"root"})}return _e})();const Ne=new v.nKC("");let ze=(()=>{class _e extends Ie{_platformLocation;_baseHref;_removeListenerFns=[];constructor(be,we){super(),this._platformLocation=be,this._baseHref=we??this._platformLocation.getBaseHrefFromDOM()??(0,v.WQX)(S.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(be){this._removeListenerFns.push(this._platformLocation.onPopState(be),this._platformLocation.onHashChange(be))}getBaseHref(){return this._baseHref}prepareExternalUrl(be){return me(this._baseHref,be)}path(be=!1){const we=this._platformLocation.pathname+Me(this._platformLocation.search),Ve=this._platformLocation.hash;return Ve&&be?`${we}${Ve}`:we}pushState(be,we,Ve,pt){const jt=this.prepareExternalUrl(Ve+Me(pt));this._platformLocation.pushState(be,we,jt)}replaceState(be,we,Ve,pt){const jt=this.prepareExternalUrl(Ve+Me(pt));this._platformLocation.replaceState(be,we,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(be=0){this._platformLocation.historyGo?.(be)}static \u0275fac=function(we){return new(we||_e)(v.KVO(ce),v.KVO(Ne,8))};static \u0275prov=v.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),Le=(()=>{class _e{_subject=new e.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(be){this._locationStrategy=be;const we=this._locationStrategy.getBaseHref();this._basePath=function tt(_e){if(new RegExp("^(https?:)?//").test(_e)){const[,be]=_e.split(/\/\/[^\/]+/);return be}return _e}(ke(He(we))),this._locationStrategy.onPopState(Ve=>{this._subject.next({url:this.path(!0),pop:!0,state:Ve.state,type:Ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(be=!1){return this.normalize(this._locationStrategy.path(be))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(be,we=""){return this.path()==this.normalize(be+Me(we))}normalize(be){return _e.stripTrailingSlash(function We(_e,Ce){if(!_e||!Ce.startsWith(_e))return Ce;const be=Ce.substring(_e.length);return""===be||["/",";","?","#"].includes(be[0])?be:Ce}(this._basePath,He(be)))}prepareExternalUrl(be){return be&&"/"!==be[0]&&(be="/"+be),this._locationStrategy.prepareExternalUrl(be)}go(be,we="",Ve=null){this._locationStrategy.pushState(Ve,"",be,we),this._notifyUrlChangeListeners(this.prepareExternalUrl(be+Me(we)),Ve)}replaceState(be,we="",Ve=null){this._locationStrategy.replaceState(Ve,"",be,we),this._notifyUrlChangeListeners(this.prepareExternalUrl(be+Me(we)),Ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(be=0){this._locationStrategy.historyGo?.(be)}onUrlChange(be){return this._urlChangeListeners.push(be),this._urlChangeSubscription??=this.subscribe(we=>{this._notifyUrlChangeListeners(we.url,we.state)}),()=>{const we=this._urlChangeListeners.indexOf(be);this._urlChangeListeners.splice(we,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(be="",we){this._urlChangeListeners.forEach(Ve=>Ve(be,we))}subscribe(be,we,Ve){return this._subject.subscribe({next:be,error:we??void 0,complete:Ve??void 0})}static normalizeQueryParams=Me;static joinWithSlash=me;static stripTrailingSlash=ke;static \u0275fac=function(we){return new(we||_e)(v.KVO(Ie))};static \u0275prov=v.jDH({token:_e,factory:()=>function rt(){return new Le((0,v.KVO)(Ie))}(),providedIn:"root"})}return _e})();function He(_e){return _e.replace(/\/index.html$/,"")}},6129:(ht,xe,D)=>{D.d(xe,{U:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},6354:(ht,xe,D)=>{D.d(xe,{T:()=>S});var v=D(9974),e=D(4360);function S(N,ne){return(0,v.N)((R,q)=>{let ce=0;R.subscribe((0,e._)(q,te=>{q.next(N.call(ne,te,ce++))}))})}},6365:(ht,xe,D)=>{D.d(xe,{U:()=>S});var v=D(1397),e=D(3669);function S(N=1/0){return(0,v.Z)(e.D,N)}},6450:(ht,xe,D)=>{D.d(xe,{I:()=>N});var v=D(6354);const{isArray:e}=Array;function N(ne){return(0,v.T)(R=>function S(ne,R){return e(R)?ne(...R):ne(R)}(ne,R))}},6600:(ht,xe,D)=>{D.d(xe,{es:()=>Jt,QC:()=>he,is:()=>ae,yE:()=>we,wT:()=>Wt,Sy:()=>or,X0:()=>Lt,jb:()=>Ht,TL:()=>ln});var v=D(1360),e=D(8464),S=D(8203),ne=D(9361),R=D(6860),q=D(4085),ce=D(1413),te=D(7336);const ke=["text"],Me=[[["mat-icon"]],"*"],Ie=["mat-icon","*"];function Ne(Ye,Oe){if(1&Ye&&v.nrm(0,"mat-pseudo-checkbox",1),2&Ye){const ee=v.XpG();v.Y8G("disabled",ee.disabled)("state",ee.selected?"checked":"unchecked")}}function ze(Ye,Oe){if(1&Ye&&v.nrm(0,"mat-pseudo-checkbox",3),2&Ye){const ee=v.XpG();v.Y8G("disabled",ee.disabled)}}function Le(Ye,Oe){if(1&Ye&&(v.j41(0,"span",4),v.EFF(1),v.k0s()),2&Ye){const ee=v.XpG();v.R7$(),v.SpI("(",ee.group.label,")")}}const be=new v.nKC("mat-sanity-checks",{providedIn:"root",factory:function Ce(){return!0}});let we=(()=>{class Ye{constructor(ee,Te,ot){this._sanityChecks=Te,this._document=ot,this._hasDoneGlobalChecks=!1,ee._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ee){return!(0,R.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ee])}static{this.\u0275fac=function(Te){return new(Te||Ye)(v.KVO(e.Q_),v.KVO(be,8),v.KVO(ne.q))}}static{this.\u0275mod=v.$C({type:Ye})}static{this.\u0275inj=v.G2t({imports:[S.jI,S.jI]})}}return Ye})();class Lt{constructor(Oe,ee,Te,ot,zt){this._defaultMatcher=Oe,this.ngControl=ee,this._parentFormGroup=Te,this._parentForm=ot,this._stateChanges=zt,this.errorState=!1}updateErrorState(){const Oe=this.errorState,ee=this._parentFormGroup||this._parentForm,Te=this.matcher||this._defaultMatcher,ot=this.ngControl?this.ngControl.control:null,zt=Te?.isErrorState(ot,ee)??!1;zt!==Oe&&(this.errorState=zt,this._stateChanges.next())}}let Jt=(()=>{class Ye{isErrorState(ee,Te){return!!(ee&&ee.invalid&&(ee.touched||Te&&Te.submitted))}static{this.\u0275fac=function(Te){return new(Te||Ye)}}static{this.\u0275prov=v.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}return Ye})();var tn=function(Ye){return Ye[Ye.FADING_IN=0]="FADING_IN",Ye[Ye.VISIBLE=1]="VISIBLE",Ye[Ye.FADING_OUT=2]="FADING_OUT",Ye[Ye.HIDDEN=3]="HIDDEN",Ye}(tn||{});class fn{constructor(Oe,ee,Te,ot=!1){this._renderer=Oe,this.element=ee,this.config=Te,this._animationForciblyDisabledThroughCss=ot,this.state=tn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Pn=(0,R.BQ)({passive:!0,capture:!0});class xi{constructor(){this._events=new Map,this._delegateEventHandler=Oe=>{const ee=(0,R.Fb)(Oe);ee&&this._events.get(Oe.type)?.forEach((Te,ot)=>{(ot===ee||ot.contains(ee))&&Te.forEach(zt=>zt.handleEvent(Oe))})}}addHandler(Oe,ee,Te,ot){const zt=this._events.get(ee);if(zt){const jn=zt.get(Te);jn?jn.add(ot):zt.set(Te,new Set([ot]))}else this._events.set(ee,new Map([[Te,new Set([ot])]])),Oe.runOutsideAngular(()=>{document.addEventListener(ee,this._delegateEventHandler,Pn)})}removeHandler(Oe,ee,Te){const ot=this._events.get(Oe);if(!ot)return;const zt=ot.get(ee);zt&&(zt.delete(Te),0===zt.size&&ot.delete(ee),0===ot.size&&(this._events.delete(Oe),document.removeEventListener(Oe,this._delegateEventHandler,Pn)))}}const li={enterDuration:225,exitDuration:150},ti=(0,R.BQ)({passive:!0,capture:!0}),Si=["mousedown","touchstart"],Xe=["mouseup","mouseleave","touchend","touchcancel"];class z{static{this._eventManager=new xi}constructor(Oe,ee,Te,ot){this._target=Oe,this._ngZone=ee,this._platform=ot,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ot.isBrowser&&(this._containerElement=(0,q.i8)(Te))}fadeInRipple(Oe,ee,Te={}){const ot=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),zt={...li,...Te.animation};Te.centered&&(Oe=ot.left+ot.width/2,ee=ot.top+ot.height/2);const jn=Te.radius||function re(Ye,Oe,ee){const Te=Math.max(Math.abs(Ye-ee.left),Math.abs(Ye-ee.right)),ot=Math.max(Math.abs(Oe-ee.top),Math.abs(Oe-ee.bottom));return Math.sqrt(Te*Te+ot*ot)}(Oe,ee,ot),wr=Oe-ot.left,er=ee-ot.top,Ii=zt.enterDuration,ni=document.createElement("div");ni.classList.add("mat-ripple-element"),ni.style.left=wr-jn+"px",ni.style.top=er-jn+"px",ni.style.height=2*jn+"px",ni.style.width=2*jn+"px",null!=Te.color&&(ni.style.backgroundColor=Te.color),ni.style.transitionDuration=`${Ii}ms`,this._containerElement.appendChild(ni);const kr=window.getComputedStyle(ni),ii=kr.transitionDuration,sr="none"===kr.transitionProperty||"0s"===ii||"0s, 0s"===ii||0===ot.width&&0===ot.height,Ci=new fn(this,ni,Te,sr);ni.style.transform="scale3d(1, 1, 1)",Ci.state=tn.FADING_IN,Te.persistent||(this._mostRecentTransientRipple=Ci);let K=null;return!sr&&(Ii||zt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ie=()=>{K&&(K.fallbackTimer=null),clearTimeout(L),this._finishRippleTransition(Ci)},pe=()=>this._destroyRipple(Ci),L=setTimeout(pe,Ii+100);ni.addEventListener("transitionend",ie),ni.addEventListener("transitioncancel",pe),K={onTransitionEnd:ie,onTransitionCancel:pe,fallbackTimer:L}}),this._activeRipples.set(Ci,K),(sr||!Ii)&&this._finishRippleTransition(Ci),Ci}fadeOutRipple(Oe){if(Oe.state===tn.FADING_OUT||Oe.state===tn.HIDDEN)return;const ee=Oe.element,Te={...li,...Oe.config.animation};ee.style.transitionDuration=`${Te.exitDuration}ms`,ee.style.opacity="0",Oe.state=tn.FADING_OUT,(Oe._animationForciblyDisabledThroughCss||!Te.exitDuration)&&this._finishRippleTransition(Oe)}fadeOutAll(){this._getActiveRipples().forEach(Oe=>Oe.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Oe=>{Oe.config.persistent||Oe.fadeOut()})}setupTriggerEvents(Oe){const ee=(0,q.i8)(Oe);!this._platform.isBrowser||!ee||ee===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ee,Si.forEach(Te=>{z._eventManager.addHandler(this._ngZone,Te,ee,this)}))}handleEvent(Oe){"mousedown"===Oe.type?this._onMousedown(Oe):"touchstart"===Oe.type?this._onTouchStart(Oe):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Xe.forEach(ee=>{this._triggerElement.addEventListener(ee,this,ti)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Oe){Oe.state===tn.FADING_IN?this._startFadeOutTransition(Oe):Oe.state===tn.FADING_OUT&&this._destroyRipple(Oe)}_startFadeOutTransition(Oe){const ee=Oe===this._mostRecentTransientRipple,{persistent:Te}=Oe.config;Oe.state=tn.VISIBLE,!Te&&(!ee||!this._isPointerDown)&&Oe.fadeOut()}_destroyRipple(Oe){const ee=this._activeRipples.get(Oe)??null;this._activeRipples.delete(Oe),this._activeRipples.size||(this._containerRect=null),Oe===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Oe.state=tn.HIDDEN,null!==ee&&(Oe.element.removeEventListener("transitionend",ee.onTransitionEnd),Oe.element.removeEventListener("transitioncancel",ee.onTransitionCancel),null!==ee.fallbackTimer&&clearTimeout(ee.fallbackTimer)),Oe.element.remove()}_onMousedown(Oe){const ee=(0,e._G)(Oe),Te=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ee&&!Te&&(this._isPointerDown=!0,this.fadeInRipple(Oe.clientX,Oe.clientY,this._target.rippleConfig))}_onTouchStart(Oe){if(!this._target.rippleDisabled&&!(0,e.w6)(Oe)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ee=Oe.changedTouches;if(ee)for(let Te=0;Te<ee.length;Te++)this.fadeInRipple(ee[Te].clientX,ee[Te].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Oe=>{!Oe.config.persistent&&(Oe.state===tn.VISIBLE||Oe.config.terminateOnPointerUp&&Oe.state===tn.FADING_IN)&&Oe.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Oe=this._triggerElement;Oe&&(Si.forEach(ee=>z._eventManager.removeHandler(ee,Oe,this)),this._pointerUpEventsRegistered&&(Xe.forEach(ee=>Oe.removeEventListener(ee,this,ti)),this._pointerUpEventsRegistered=!1))}}const Z=new v.nKC("mat-ripple-global-options");let Ue=(()=>{class Ye{get disabled(){return this._disabled}set disabled(ee){ee&&this.fadeOutAllNonPersistent(),this._disabled=ee,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ee){this._trigger=ee,this._setupTriggerEventsIfEnabled()}constructor(ee,Te,ot,zt,jn){this._elementRef=ee,this._animationMode=jn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=zt||{},this._rippleRenderer=new z(this,Te,ee,ot)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ee,Te=0,ot){return"number"==typeof ee?this._rippleRenderer.fadeInRipple(ee,Te,{...this.rippleConfig,...ot}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ee})}static{this.\u0275fac=function(Te){return new(Te||Ye)(v.rXU(v.aKT),v.rXU(v.SKi),v.rXU(R.OD),v.rXU(Z,8),v.rXU(v.bc$,8))}}static{this.\u0275dir=v.FsC({type:Ye,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Te,ot){2&Te&&v.AVh("mat-ripple-unbounded",ot.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return Ye})(),de=(()=>{class Ye{static{this.\u0275fac=function(Te){return new(Te||Ye)}}static{this.\u0275mod=v.$C({type:Ye})}static{this.\u0275inj=v.G2t({imports:[we,we]})}}return Ye})(),Ke=(()=>{class Ye{constructor(ee){this._animationMode=ee,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(Te){return new(Te||Ye)(v.rXU(v.bc$,8))}}static{this.\u0275cmp=v.VBU({type:Ye,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Te,ot){2&Te&&v.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===ot.state)("mat-pseudo-checkbox-checked","checked"===ot.state)("mat-pseudo-checkbox-disabled",ot.disabled)("mat-pseudo-checkbox-minimal","minimal"===ot.appearance)("mat-pseudo-checkbox-full","full"===ot.appearance)("_mat-animation-noopable","NoopAnimations"===ot._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(Te,ot){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return Ye})(),X=(()=>{class Ye{static{this.\u0275fac=function(Te){return new(Te||Ye)}}static{this.\u0275mod=v.$C({type:Ye})}static{this.\u0275inj=v.G2t({imports:[we]})}}return Ye})();const ae=new v.nKC("MAT_OPTION_PARENT_COMPONENT"),he=new v.nKC("MatOptgroup");let qe=0;class vt{constructor(Oe,ee=!1){this.source=Oe,this.isUserInput=ee}}let Wt=(()=>{class Ye{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(ee){this._disabled=ee}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(ee,Te,ot,zt){this._element=ee,this._changeDetectorRef=Te,this._parent=ot,this.group=zt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+qe++,this.onSelectionChange=new v.bkB,this._stateChanges=new ce.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(ee=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),ee&&this._emitSelectionChangeEvent())}deselect(ee=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),ee&&this._emitSelectionChangeEvent())}focus(ee,Te){const ot=this._getHostElement();"function"==typeof ot.focus&&ot.focus(Te)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(ee){(ee.keyCode===te.Fm||ee.keyCode===te.t6)&&!(0,te.rp)(ee)&&(this._selectViaInteraction(),ee.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const ee=this.viewValue;ee!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=ee)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(ee=!1){this.onSelectionChange.emit(new vt(this,ee))}static{this.\u0275fac=function(Te){return new(Te||Ye)(v.rXU(v.aKT),v.rXU(v.gRc),v.rXU(ae,8),v.rXU(he,8))}}static{this.\u0275cmp=v.VBU({type:Ye,selectors:[["mat-option"]],viewQuery:function(Te,ot){if(1&Te&&v.GBs(ke,7),2&Te){let zt;v.mGM(zt=v.lsd())&&(ot._text=zt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Te,ot){1&Te&&v.bIt("click",function(){return ot._selectViaInteraction()})("keydown",function(jn){return ot._handleKeydown(jn)}),2&Te&&(v.Mr5("id",ot.id),v.BMQ("aria-selected",ot.selected)("aria-disabled",ot.disabled.toString()),v.AVh("mdc-list-item--selected",ot.selected)("mat-mdc-option-multiple",ot.multiple)("mat-mdc-option-active",ot.active)("mdc-list-item--disabled",ot.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",v.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:Ie,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Te,ot){1&Te&&(v.NAR(Me),v.DNE(0,Ne,1,2,"mat-pseudo-checkbox",1),v.SdG(1),v.j41(2,"span",2,0),v.SdG(4,1),v.k0s(),v.DNE(5,ze,1,1,"mat-pseudo-checkbox",3)(6,Le,2,1,"span",4),v.nrm(7,"div",5)),2&Te&&(v.vxM(ot.multiple?0:-1),v.R7$(5),v.vxM(ot.multiple||!ot.selected||ot.hideSingleSelectionIndicator?-1:5),v.R7$(),v.vxM(ot.group&&ot.group._inert?6:-1),v.R7$(),v.Y8G("matRippleTrigger",ot._getHostElement())("matRippleDisabled",ot.disabled||ot.disableRipple))},dependencies:[Ke,Ue],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return Ye})();function Ht(Ye,Oe,ee){if(ee.length){let Te=Oe.toArray(),ot=ee.toArray(),zt=0;for(let jn=0;jn<Ye+1;jn++)Te[jn].group&&Te[jn].group===ot[zt]&&zt++;return zt}return 0}function ln(Ye,Oe,ee,Te){return Ye<ee?Ye:Ye+Oe>ee+Te?Math.max(0,Ye-Te+Oe):ee}let or=(()=>{class Ye{static{this.\u0275fac=function(Te){return new(Te||Ye)}}static{this.\u0275mod=v.$C({type:Ye})}static{this.\u0275inj=v.G2t({imports:[de,we,X]})}}return Ye})()},6648:(ht,xe,D)=>{D.d(xe,{H:()=>be});var v=D(8750),e=D(5225),S=D(9974),N=D(4360);function ne(we,Ve=0){return(0,S.N)((pt,jt)=>{pt.subscribe((0,N._)(jt,it=>(0,e.N)(jt,we,()=>jt.next(it),Ve),()=>(0,e.N)(jt,we,()=>jt.complete(),Ve),it=>(0,e.N)(jt,we,()=>jt.error(it),Ve)))})}function R(we,Ve=0){return(0,S.N)((pt,jt)=>{jt.add(we.schedule(()=>pt.subscribe(jt),Ve))})}var te=D(1985),me=D(4761),ke=D(8071);function Ie(we,Ve){if(!we)throw new Error("Iterable cannot be null");return new te.c(pt=>{(0,e.N)(pt,Ve,()=>{const jt=we[Symbol.asyncIterator]();(0,e.N)(pt,Ve,()=>{jt.next().then(it=>{it.done?pt.complete():pt.next(it.value)})},0,!0)})})}var Ne=D(5055),ze=D(9858),Le=D(7441),rt=D(5397),We=D(7953),He=D(591),tt=D(5196);function be(we,Ve){return Ve?function Ce(we,Ve){if(null!=we){if((0,Ne.l)(we))return function q(we,Ve){return(0,v.Tg)(we).pipe(R(Ve),ne(Ve))}(we,Ve);if((0,Le.X)(we))return function le(we,Ve){return new te.c(pt=>{let jt=0;return Ve.schedule(function(){jt===we.length?pt.complete():(pt.next(we[jt++]),pt.closed||this.schedule())})})}(we,Ve);if((0,ze.y)(we))return function ce(we,Ve){return(0,v.Tg)(we).pipe(R(Ve),ne(Ve))}(we,Ve);if((0,We.T)(we))return Ie(we,Ve);if((0,rt.x)(we))return function Me(we,Ve){return new te.c(pt=>{let jt;return(0,e.N)(pt,Ve,()=>{jt=we[me.l](),(0,e.N)(pt,Ve,()=>{let it,At;try{({value:it,done:At}=jt.next())}catch(dn){return void pt.error(dn)}At?pt.complete():pt.next(it)},0,!0)}),()=>(0,ke.T)(jt?.return)&&jt.return()})}(we,Ve);if((0,tt.U)(we))return function _e(we,Ve){return Ie((0,tt.C)(we),Ve)}(we,Ve)}throw(0,He.L)(we)}(we,Ve):(0,v.Tg)(we)}},6697:(ht,xe,D)=>{D.d(xe,{s:()=>N});var v=D(983),e=D(9974),S=D(4360);function N(ne){return ne<=0?()=>v.w:(0,e.N)((R,q)=>{let ce=0;R.subscribe((0,S._)(q,te=>{++ce<=ne&&(q.next(te),ne<=ce&&q.complete())}))})}},6780:(ht,xe,D)=>{D.d(xe,{R:()=>ne});var v=D(8359);class e extends v.yU{constructor(q,ce){super()}schedule(q,ce=0){return this}}const S={setInterval(R,q,...ce){const{delegate:te}=S;return te?.setInterval?te.setInterval(R,q,...ce):setInterval(R,q,...ce)},clearInterval(R){const{delegate:q}=S;return(q?.clearInterval||clearInterval)(R)},delegate:void 0};var N=D(7908);class ne extends e{constructor(q,ce){super(q,ce),this.scheduler=q,this.work=ce,this.pending=!1}schedule(q,ce=0){var te;if(this.closed)return this;this.state=q;const le=this.id,me=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(me,le,ce)),this.pending=!0,this.delay=ce,this.id=null!==(te=this.id)&&void 0!==te?te:this.requestAsyncId(me,this.id,ce),this}requestAsyncId(q,ce,te=0){return S.setInterval(q.flush.bind(q,this),te)}recycleAsyncId(q,ce,te=0){if(null!=te&&this.delay===te&&!1===this.pending)return ce;null!=ce&&S.clearInterval(ce)}execute(q,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const te=this._execute(q,ce);if(te)return te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,ce){let le,te=!1;try{this.work(q)}catch(me){te=!0,le=me||new Error("Scheduled action threw falsy error")}if(te)return this.unsubscribe(),le}unsubscribe(){if(!this.closed){const{id:q,scheduler:ce}=this,{actions:te}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.o)(te,this),null!=q&&(this.id=this.recycleAsyncId(ce,q,null)),this.delay=null,super.unsubscribe()}}}},6860:(ht,xe,D)=>{D.d(xe,{BD:()=>ze,BQ:()=>me,CZ:()=>Ne,Fb:()=>tt,KT:()=>We,MU:()=>ce,OD:()=>N,r5:()=>ke,v8:()=>_e,vc:()=>He});var v=D(1360),e=D(9377);let S;try{S=typeof Intl<"u"&&Intl.v8BreakIterator}catch{S=!1}let R,N=(()=>{class Ce{constructor(we){this._platformId=we,this.isBrowser=this._platformId?(0,e.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Ve){return new(Ve||Ce)(v.KVO(v.Agw))}}static{this.\u0275prov=v.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})();const q=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ce(){if(R)return R;if("object"!=typeof document||!document)return R=new Set(q),R;let Ce=document.createElement("input");return R=new Set(q.filter(be=>(Ce.setAttribute("type",be),Ce.type===be))),R}let te;function me(Ce){return function le(){if(null==te&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>te=!0}))}finally{te=te||!1}return te}()?Ce:!!Ce.capture}var ke=function(Ce){return Ce[Ce.NORMAL=0]="NORMAL",Ce[Ce.NEGATED=1]="NEGATED",Ce[Ce.INVERTED=2]="INVERTED",Ce}(ke||{});let Me,Ie,Le;function Ne(){if(null==Ie){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ie=!1,Ie;if("scrollBehavior"in document.documentElement.style)Ie=!0;else{const Ce=Element.prototype.scrollTo;Ie=!!Ce&&!/\{\s*\[native code\]\s*\}/.test(Ce.toString())}}return Ie}function ze(){if("object"!=typeof document||!document)return ke.NORMAL;if(null==Me){const Ce=document.createElement("div"),be=Ce.style;Ce.dir="rtl",be.width="1px",be.overflow="auto",be.visibility="hidden",be.pointerEvents="none",be.position="absolute";const we=document.createElement("div"),Ve=we.style;Ve.width="2px",Ve.height="1px",Ce.appendChild(we),document.body.appendChild(Ce),Me=ke.NORMAL,0===Ce.scrollLeft&&(Ce.scrollLeft=1,Me=0===Ce.scrollLeft?ke.NEGATED:ke.INVERTED),Ce.remove()}return Me}function We(Ce){if(function rt(){if(null==Le){const Ce=typeof document<"u"?document.head:null;Le=!(!Ce||!Ce.createShadowRoot&&!Ce.attachShadow)}return Le}()){const be=Ce.getRootNode?Ce.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&be instanceof ShadowRoot)return be}return null}function He(){let Ce=typeof document<"u"&&document?document.activeElement:null;for(;Ce&&Ce.shadowRoot;){const be=Ce.shadowRoot.activeElement;if(be===Ce)break;Ce=be}return Ce}function tt(Ce){return Ce.composedPath?Ce.composedPath()[0]:Ce.target}function _e(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(ht,xe,D)=>{D.d(xe,{A8:()=>le,I3:()=>We,VA:()=>me,aI:()=>Ne,jc:()=>tt,lb:()=>Me});var v=D(1360),e=D(9361);class te{attach(be){return this._attachedHost=be,be.attach(this)}detach(){let be=this._attachedHost;null!=be&&(this._attachedHost=null,be.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(be){this._attachedHost=be}}class le extends te{constructor(be,we,Ve,pt,jt){super(),this.component=be,this.viewContainerRef=we,this.injector=Ve,this.componentFactoryResolver=pt,this.projectableNodes=jt}}class me extends te{constructor(be,we,Ve,pt){super(),this.templateRef=be,this.viewContainerRef=we,this.context=Ve,this.injector=pt}get origin(){return this.templateRef.elementRef}attach(be,we=this.context){return this.context=we,super.attach(be)}detach(){return this.context=void 0,super.detach()}}class ke extends te{constructor(be){super(),this.element=be instanceof v.aKT?be.nativeElement:be}}class Me{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(be){return be instanceof le?(this._attachedPortal=be,this.attachComponentPortal(be)):be instanceof me?(this._attachedPortal=be,this.attachTemplatePortal(be)):this.attachDomPortal&&be instanceof ke?(this._attachedPortal=be,this.attachDomPortal(be)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(be){this._disposeFn=be}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ne extends Me{constructor(be,we,Ve,pt,jt){super(),this.outletElement=be,this._componentFactoryResolver=we,this._appRef=Ve,this._defaultInjector=pt,this.attachDomPortal=it=>{const At=it.element,dn=this._document.createComment("dom-portal");At.parentNode.insertBefore(dn,At),this.outletElement.appendChild(At),this._attachedPortal=it,super.setDisposeFn(()=>{dn.parentNode&&dn.parentNode.replaceChild(At,dn)})},this._document=jt}attachComponentPortal(be){const Ve=(be.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(be.component);let pt;return be.viewContainerRef?(pt=be.viewContainerRef.createComponent(Ve,be.viewContainerRef.length,be.injector||be.viewContainerRef.injector,be.projectableNodes||void 0),this.setDisposeFn(()=>pt.destroy())):(pt=Ve.create(be.injector||this._defaultInjector||v.zZn.NULL),this._appRef.attachView(pt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(pt.hostView),pt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(pt)),this._attachedPortal=be,pt}attachTemplatePortal(be){let we=be.viewContainerRef,Ve=we.createEmbeddedView(be.templateRef,be.context,{injector:be.injector});return Ve.rootNodes.forEach(pt=>this.outletElement.appendChild(pt)),Ve.detectChanges(),this.setDisposeFn(()=>{let pt=we.indexOf(Ve);-1!==pt&&we.remove(pt)}),this._attachedPortal=be,Ve}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(be){return be.hostView.rootNodes[0]}}let We=(()=>{class Ce extends Me{constructor(we,Ve,pt){super(),this._componentFactoryResolver=we,this._viewContainerRef=Ve,this._isInitialized=!1,this.attached=new v.bkB,this.attachDomPortal=jt=>{const it=jt.element,At=this._document.createComment("dom-portal");jt.setAttachedHost(this),it.parentNode.insertBefore(At,it),this._getRootNode().appendChild(it),this._attachedPortal=jt,super.setDisposeFn(()=>{At.parentNode&&At.parentNode.replaceChild(it,At)})},this._document=pt}get portal(){return this._attachedPortal}set portal(we){this.hasAttached()&&!we&&!this._isInitialized||(this.hasAttached()&&super.detach(),we&&super.attach(we),this._attachedPortal=we||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(we){we.setAttachedHost(this);const Ve=null!=we.viewContainerRef?we.viewContainerRef:this._viewContainerRef,jt=(we.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(we.component),it=Ve.createComponent(jt,Ve.length,we.injector||Ve.injector,we.projectableNodes||void 0);return Ve!==this._viewContainerRef&&this._getRootNode().appendChild(it.hostView.rootNodes[0]),super.setDisposeFn(()=>it.destroy()),this._attachedPortal=we,this._attachedRef=it,this.attached.emit(it),it}attachTemplatePortal(we){we.setAttachedHost(this);const Ve=this._viewContainerRef.createEmbeddedView(we.templateRef,we.context,{injector:we.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=we,this._attachedRef=Ve,this.attached.emit(Ve),Ve}_getRootNode(){const we=this._viewContainerRef.element.nativeElement;return we.nodeType===we.ELEMENT_NODE?we:we.parentNode}static{this.\u0275fac=function(Ve){return new(Ve||Ce)(v.rXU(v.OM3),v.rXU(v.c1b),v.rXU(e.q))}}static{this.\u0275dir=v.FsC({type:Ce,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[v.Vt3]})}}return Ce})(),tt=(()=>{class Ce{static{this.\u0275fac=function(Ve){return new(Ve||Ce)}}static{this.\u0275mod=v.$C({type:Ce})}static{this.\u0275inj=v.G2t({})}}return Ce})()},6969:(ht,xe,D)=>{D.d(xe,{WB:()=>xi,$Q:()=>Pn,hJ:()=>bn,rR:()=>pt,Sf:()=>hn,z_:()=>ti,yY:()=>Se});var v=D(4155),e=D(6048),S=D(9361),N=D(1360),ne=D(4085),R=D(6860),q=D(5964),ce=D(6977),te=D(9974),le=D(4360),ke=D(8203),Me=D(6939),Ie=D(1413),Ne=D(8359),ze=D(7786),Le=D(7336);const rt=(0,R.CZ)();class We{constructor(z,re){this._viewportRuler=z,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=re}attach(){}enable(){if(this._canBeEnabled()){const z=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=z.style.left||"",this._previousHTMLStyles.top=z.style.top||"",z.style.left=(0,ne.a1)(-this._previousScrollPosition.left),z.style.top=(0,ne.a1)(-this._previousScrollPosition.top),z.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const z=this._document.documentElement,Z=z.style,Ue=this._document.body.style,de=Z.scrollBehavior||"",Ke=Ue.scrollBehavior||"";this._isEnabled=!1,Z.left=this._previousHTMLStyles.left,Z.top=this._previousHTMLStyles.top,z.classList.remove("cdk-global-scrollblock"),rt&&(Z.scrollBehavior=Ue.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),rt&&(Z.scrollBehavior=de,Ue.scrollBehavior=Ke)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const re=this._document.body,Z=this._viewportRuler.getViewportSize();return re.scrollHeight>Z.height||re.scrollWidth>Z.width}}class tt{constructor(z,re,Z,Ue){this._scrollDispatcher=z,this._ngZone=re,this._viewportRuler=Z,this._config=Ue,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(z){this._overlayRef=z}enable(){if(this._scrollSubscription)return;const z=this._scrollDispatcher.scrolled(0).pipe((0,q.p)(re=>!re||!this._overlayRef.overlayElement.contains(re.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=z.subscribe(()=>{const re=this._viewportRuler.getViewportScrollPosition().top;Math.abs(re-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=z.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _e{enable(){}disable(){}attach(){}}function Ce(Xe,z){return z.some(re=>Xe.bottom<re.top||Xe.top>re.bottom||Xe.right<re.left||Xe.left>re.right)}function be(Xe,z){return z.some(re=>Xe.top<re.top||Xe.bottom>re.bottom||Xe.left<re.left||Xe.right>re.right)}class we{constructor(z,re,Z,Ue){this._scrollDispatcher=z,this._viewportRuler=re,this._ngZone=Z,this._config=Ue,this._scrollSubscription=null}attach(z){this._overlayRef=z}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const re=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Z,height:Ue}=this._viewportRuler.getViewportSize();Ce(re,[{width:Z,height:Ue,bottom:Ue,right:Z,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ve=(()=>{class Xe{constructor(re,Z,Ue,de){this._scrollDispatcher=re,this._viewportRuler=Z,this._ngZone=Ue,this.noop=()=>new _e,this.close=Ke=>new tt(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ke),this.block=()=>new We(this._viewportRuler,this._document),this.reposition=Ke=>new we(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ke),this._document=de}static{this.\u0275fac=function(Z){return new(Z||Xe)(N.KVO(v.R),N.KVO(v.Xj),N.KVO(N.SKi),N.KVO(S.q))}}static{this.\u0275prov=N.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}}return Xe})();class pt{constructor(z){if(this.scrollStrategy=new _e,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,z){const re=Object.keys(z);for(const Z of re)void 0!==z[Z]&&(this[Z]=z[Z])}}}class At{constructor(z,re){this.connectionPair=z,this.scrollableViewProperties=re}}let Lt=(()=>{class Xe{constructor(re){this._attachedOverlays=[],this._document=re}ngOnDestroy(){this.detach()}add(re){this.remove(re),this._attachedOverlays.push(re)}remove(re){const Z=this._attachedOverlays.indexOf(re);Z>-1&&this._attachedOverlays.splice(Z,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(Z){return new(Z||Xe)(N.KVO(S.q))}}static{this.\u0275prov=N.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}}return Xe})(),lt=(()=>{class Xe extends Lt{constructor(re,Z){super(re),this._ngZone=Z,this._keydownListener=Ue=>{const de=this._attachedOverlays;for(let Ke=de.length-1;Ke>-1;Ke--)if(de[Ke]._keydownEvents.observers.length>0){const X=de[Ke]._keydownEvents;this._ngZone?this._ngZone.run(()=>X.next(Ue)):X.next(Ue);break}}}add(re){super.add(re),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(Z){return new(Z||Xe)(N.KVO(S.q),N.KVO(N.SKi,8))}}static{this.\u0275prov=N.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}}return Xe})(),Ot=(()=>{class Xe extends Lt{constructor(re,Z,Ue){super(re),this._platform=Z,this._ngZone=Ue,this._cursorStyleIsSet=!1,this._pointerDownListener=de=>{this._pointerDownEventTarget=(0,R.Fb)(de)},this._clickListener=de=>{const Ke=(0,R.Fb)(de),X="click"===de.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ke;this._pointerDownEventTarget=null;const ae=this._attachedOverlays.slice();for(let $=ae.length-1;$>-1;$--){const he=ae[$];if(he._outsidePointerEvents.observers.length<1||!he.hasAttached())continue;if(un(he.overlayElement,Ke)||un(he.overlayElement,X))break;const Re=he._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Re.next(de)):Re.next(de)}}}add(re){if(super.add(re),!this._isAttached){const Z=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Z)):this._addEventListeners(Z),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Z.style.cursor,Z.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const re=this._document.body;re.removeEventListener("pointerdown",this._pointerDownListener,!0),re.removeEventListener("click",this._clickListener,!0),re.removeEventListener("auxclick",this._clickListener,!0),re.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(re.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(re){re.addEventListener("pointerdown",this._pointerDownListener,!0),re.addEventListener("click",this._clickListener,!0),re.addEventListener("auxclick",this._clickListener,!0),re.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(Z){return new(Z||Xe)(N.KVO(S.q),N.KVO(R.OD),N.KVO(N.SKi,8))}}static{this.\u0275prov=N.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}}return Xe})();function un(Xe,z){const re=typeof ShadowRoot<"u"&&ShadowRoot;let Z=z;for(;Z;){if(Z===Xe)return!0;Z=re&&Z instanceof ShadowRoot?Z.host:Z.parentNode}return!1}let hn=(()=>{class Xe{constructor(re,Z){this._platform=Z,this._document=re}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const re="cdk-overlay-container";if(this._platform.isBrowser||(0,R.v8)()){const Ue=this._document.querySelectorAll(`.${re}[platform="server"], .${re}[platform="test"]`);for(let de=0;de<Ue.length;de++)Ue[de].remove()}const Z=this._document.createElement("div");Z.classList.add(re),(0,R.v8)()?Z.setAttribute("platform","test"):this._platform.isBrowser||Z.setAttribute("platform","server"),this._document.body.appendChild(Z),this._containerElement=Z}static{this.\u0275fac=function(Z){return new(Z||Xe)(N.KVO(S.q),N.KVO(R.OD))}}static{this.\u0275prov=N.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}}return Xe})();class Se{constructor(z,re,Z,Ue,de,Ke,X,ae,$,he=!1,Re){this._portalOutlet=z,this._host=re,this._pane=Z,this._config=Ue,this._ngZone=de,this._keyboardDispatcher=Ke,this._document=X,this._location=ae,this._outsideClickDispatcher=$,this._animationsDisabled=he,this._injector=Re,this._backdropElement=null,this._backdropClick=new Ie.B,this._attachments=new Ie.B,this._detachments=new Ie.B,this._locationChanges=Ne.yU.EMPTY,this._backdropClickHandler=qe=>this._backdropClick.next(qe),this._backdropTransitionendHandler=qe=>{this._disposeBackdrop(qe.target)},this._keydownEvents=new Ie.B,this._outsidePointerEvents=new Ie.B,this._renders=new Ie.B,Ue.scrollStrategy&&(this._scrollStrategy=Ue.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ue.positionStrategy,this._afterRenderRef=(0,N.O8t)(()=>(0,N.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(z){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const re=this._portalOutlet.attach(z);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,N.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof re?.onDestroy&&re.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),re}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const z=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),z}dispose(){const z=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,z&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(z){z!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=z,this.hasAttached()&&(z.attach(this),this.updatePosition()))}updateSize(z){this._config={...this._config,...z},this._updateElementSize()}setDirection(z){this._config={...this._config,direction:z},this._updateElementDirection()}addPanelClass(z){this._pane&&this._toggleClasses(this._pane,z,!0)}removePanelClass(z){this._pane&&this._toggleClasses(this._pane,z,!1)}getDirection(){const z=this._config.direction;return z?"string"==typeof z?z:z.value:"ltr"}updateScrollStrategy(z){z!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=z,this.hasAttached()&&(z.attach(this),z.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const z=this._pane.style;z.width=(0,ne.a1)(this._config.width),z.height=(0,ne.a1)(this._config.height),z.minWidth=(0,ne.a1)(this._config.minWidth),z.minHeight=(0,ne.a1)(this._config.minHeight),z.maxWidth=(0,ne.a1)(this._config.maxWidth),z.maxHeight=(0,ne.a1)(this._config.maxHeight)}_togglePointerEvents(z){this._pane.style.pointerEvents=z?"":"none"}_attachBackdrop(){const z="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(z)})}):this._backdropElement.classList.add(z)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const z=this._backdropElement;if(z){if(this._animationsDisabled)return void this._disposeBackdrop(z);z.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{z.addEventListener("transitionend",this._backdropTransitionendHandler)}),z.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(z)},500))}}_toggleClasses(z,re,Z){const Ue=(0,ne.FG)(re||[]).filter(de=>!!de);Ue.length&&(Z?z.classList.add(...Ue):z.classList.remove(...Ue))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const z=this._renders.pipe((0,ce.Q)((0,ze.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),z.unsubscribe())})})}_disposeScrollStrategy(){const z=this._scrollStrategy;z&&(z.disable(),z.detach&&z.detach())}_disposeBackdrop(z){z&&(z.removeEventListener("click",this._backdropClickHandler),z.removeEventListener("transitionend",this._backdropTransitionendHandler),z.remove(),this._backdropElement===z&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Pe="cdk-overlay-connected-position-bounding-box",je=/([A-Za-z%]+)$/;class Be{get positions(){return this._preferredPositions}constructor(z,re,Z,Ue,de){this._viewportRuler=re,this._document=Z,this._platform=Ue,this._overlayContainer=de,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ie.B,this._resizeSubscription=Ne.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(z)}attach(z){this._validatePositions(),z.hostElement.classList.add(Pe),this._overlayRef=z,this._boundingBox=z.hostElement,this._pane=z.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const z=this._originRect,re=this._overlayRect,Z=this._viewportRect,Ue=this._containerRect,de=[];let Ke;for(let X of this._preferredPositions){let ae=this._getOriginPoint(z,Ue,X),$=this._getOverlayPoint(ae,re,X),he=this._getOverlayFit($,re,Z,X);if(he.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(X,ae);this._canFitWithFlexibleDimensions(he,$,Z)?de.push({position:X,origin:ae,overlayRect:re,boundingBoxRect:this._calculateBoundingBoxRect(ae,X)}):(!Ke||Ke.overlayFit.visibleArea<he.visibleArea)&&(Ke={overlayFit:he,overlayPoint:$,originPoint:ae,position:X,overlayRect:re})}if(de.length){let X=null,ae=-1;for(const $ of de){const he=$.boundingBoxRect.width*$.boundingBoxRect.height*($.position.weight||1);he>ae&&(ae=he,X=$)}return this._isPushed=!1,void this._applyPosition(X.position,X.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ke.position,Ke.originPoint);this._applyPosition(Ke.position,Ke.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Pe),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const z=this._lastPosition;if(z){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const re=this._getOriginPoint(this._originRect,this._containerRect,z);this._applyPosition(z,re)}else this.apply()}withScrollableContainers(z){return this._scrollables=z,this}withPositions(z){return this._preferredPositions=z,-1===z.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(z){return this._viewportMargin=z,this}withFlexibleDimensions(z=!0){return this._hasFlexibleDimensions=z,this}withGrowAfterOpen(z=!0){return this._growAfterOpen=z,this}withPush(z=!0){return this._canPush=z,this}withLockedPosition(z=!0){return this._positionLocked=z,this}setOrigin(z){return this._origin=z,this}withDefaultOffsetX(z){return this._offsetX=z,this}withDefaultOffsetY(z){return this._offsetY=z,this}withTransformOriginOn(z){return this._transformOriginSelector=z,this}_getOriginPoint(z,re,Z){let Ue,de;if("center"==Z.originX)Ue=z.left+z.width/2;else{const Ke=this._isRtl()?z.right:z.left,X=this._isRtl()?z.left:z.right;Ue="start"==Z.originX?Ke:X}return re.left<0&&(Ue-=re.left),de="center"==Z.originY?z.top+z.height/2:"top"==Z.originY?z.top:z.bottom,re.top<0&&(de-=re.top),{x:Ue,y:de}}_getOverlayPoint(z,re,Z){let Ue,de;return Ue="center"==Z.overlayX?-re.width/2:"start"===Z.overlayX?this._isRtl()?-re.width:0:this._isRtl()?0:-re.width,de="center"==Z.overlayY?-re.height/2:"top"==Z.overlayY?0:-re.height,{x:z.x+Ue,y:z.y+de}}_getOverlayFit(z,re,Z,Ue){const de=Dt(re);let{x:Ke,y:X}=z,ae=this._getOffset(Ue,"x"),$=this._getOffset(Ue,"y");ae&&(Ke+=ae),$&&(X+=$);let qe=0-X,vt=X+de.height-Z.height,Wt=this._subtractOverflows(de.width,0-Ke,Ke+de.width-Z.width),Ht=this._subtractOverflows(de.height,qe,vt),ln=Wt*Ht;return{visibleArea:ln,isCompletelyWithinViewport:de.width*de.height===ln,fitsInViewportVertically:Ht===de.height,fitsInViewportHorizontally:Wt==de.width}}_canFitWithFlexibleDimensions(z,re,Z){if(this._hasFlexibleDimensions){const Ue=Z.bottom-re.y,de=Z.right-re.x,Ke=et(this._overlayRef.getConfig().minHeight),X=et(this._overlayRef.getConfig().minWidth);return(z.fitsInViewportVertically||null!=Ke&&Ke<=Ue)&&(z.fitsInViewportHorizontally||null!=X&&X<=de)}return!1}_pushOverlayOnScreen(z,re,Z){if(this._previousPushAmount&&this._positionLocked)return{x:z.x+this._previousPushAmount.x,y:z.y+this._previousPushAmount.y};const Ue=Dt(re),de=this._viewportRect,Ke=Math.max(z.x+Ue.width-de.width,0),X=Math.max(z.y+Ue.height-de.height,0),ae=Math.max(de.top-Z.top-z.y,0),$=Math.max(de.left-Z.left-z.x,0);let he=0,Re=0;return he=Ue.width<=de.width?$||-Ke:z.x<this._viewportMargin?de.left-Z.left-z.x:0,Re=Ue.height<=de.height?ae||-X:z.y<this._viewportMargin?de.top-Z.top-z.y:0,this._previousPushAmount={x:he,y:Re},{x:z.x+he,y:z.y+Re}}_applyPosition(z,re){if(this._setTransformOrigin(z),this._setOverlayElementStyles(re,z),this._setBoundingBoxStyles(re,z),z.panelClass&&this._addPanelClasses(z.panelClass),this._positionChanges.observers.length){const Z=this._getScrollVisibility();if(z!==this._lastPosition||!this._lastScrollVisibility||!function Pt(Xe,z){return Xe===z||Xe.isOriginClipped===z.isOriginClipped&&Xe.isOriginOutsideView===z.isOriginOutsideView&&Xe.isOverlayClipped===z.isOverlayClipped&&Xe.isOverlayOutsideView===z.isOverlayOutsideView}(this._lastScrollVisibility,Z)){const Ue=new At(z,Z);this._positionChanges.next(Ue)}this._lastScrollVisibility=Z}this._lastPosition=z,this._isInitialRender=!1}_setTransformOrigin(z){if(!this._transformOriginSelector)return;const re=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Z,Ue=z.overlayY;Z="center"===z.overlayX?"center":this._isRtl()?"start"===z.overlayX?"right":"left":"start"===z.overlayX?"left":"right";for(let de=0;de<re.length;de++)re[de].style.transformOrigin=`${Z} ${Ue}`}_calculateBoundingBoxRect(z,re){const Z=this._viewportRect,Ue=this._isRtl();let de,Ke,X,he,Re,qe;if("top"===re.overlayY)Ke=z.y,de=Z.height-Ke+this._viewportMargin;else if("bottom"===re.overlayY)X=Z.height-z.y+2*this._viewportMargin,de=Z.height-X+this._viewportMargin;else{const vt=Math.min(Z.bottom-z.y+Z.top,z.y),Wt=this._lastBoundingBoxSize.height;de=2*vt,Ke=z.y-vt,de>Wt&&!this._isInitialRender&&!this._growAfterOpen&&(Ke=z.y-Wt/2)}if("end"===re.overlayX&&!Ue||"start"===re.overlayX&&Ue)qe=Z.width-z.x+2*this._viewportMargin,he=z.x-this._viewportMargin;else if("start"===re.overlayX&&!Ue||"end"===re.overlayX&&Ue)Re=z.x,he=Z.right-z.x;else{const vt=Math.min(Z.right-z.x+Z.left,z.x),Wt=this._lastBoundingBoxSize.width;he=2*vt,Re=z.x-vt,he>Wt&&!this._isInitialRender&&!this._growAfterOpen&&(Re=z.x-Wt/2)}return{top:Ke,left:Re,bottom:X,right:qe,width:he,height:de}}_setBoundingBoxStyles(z,re){const Z=this._calculateBoundingBoxRect(z,re);!this._isInitialRender&&!this._growAfterOpen&&(Z.height=Math.min(Z.height,this._lastBoundingBoxSize.height),Z.width=Math.min(Z.width,this._lastBoundingBoxSize.width));const Ue={};if(this._hasExactPosition())Ue.top=Ue.left="0",Ue.bottom=Ue.right=Ue.maxHeight=Ue.maxWidth="",Ue.width=Ue.height="100%";else{const de=this._overlayRef.getConfig().maxHeight,Ke=this._overlayRef.getConfig().maxWidth;Ue.height=(0,ne.a1)(Z.height),Ue.top=(0,ne.a1)(Z.top),Ue.bottom=(0,ne.a1)(Z.bottom),Ue.width=(0,ne.a1)(Z.width),Ue.left=(0,ne.a1)(Z.left),Ue.right=(0,ne.a1)(Z.right),Ue.alignItems="center"===re.overlayX?"center":"end"===re.overlayX?"flex-end":"flex-start",Ue.justifyContent="center"===re.overlayY?"center":"bottom"===re.overlayY?"flex-end":"flex-start",de&&(Ue.maxHeight=(0,ne.a1)(de)),Ke&&(Ue.maxWidth=(0,ne.a1)(Ke))}this._lastBoundingBoxSize=Z,Fe(this._boundingBox.style,Ue)}_resetBoundingBoxStyles(){Fe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(z,re){const Z={},Ue=this._hasExactPosition(),de=this._hasFlexibleDimensions,Ke=this._overlayRef.getConfig();if(Ue){const he=this._viewportRuler.getViewportScrollPosition();Fe(Z,this._getExactOverlayY(re,z,he)),Fe(Z,this._getExactOverlayX(re,z,he))}else Z.position="static";let X="",ae=this._getOffset(re,"x"),$=this._getOffset(re,"y");ae&&(X+=`translateX(${ae}px) `),$&&(X+=`translateY(${$}px)`),Z.transform=X.trim(),Ke.maxHeight&&(Ue?Z.maxHeight=(0,ne.a1)(Ke.maxHeight):de&&(Z.maxHeight="")),Ke.maxWidth&&(Ue?Z.maxWidth=(0,ne.a1)(Ke.maxWidth):de&&(Z.maxWidth="")),Fe(this._pane.style,Z)}_getExactOverlayY(z,re,Z){let Ue={top:"",bottom:""},de=this._getOverlayPoint(re,this._overlayRect,z);return this._isPushed&&(de=this._pushOverlayOnScreen(de,this._overlayRect,Z)),"bottom"===z.overlayY?Ue.bottom=this._document.documentElement.clientHeight-(de.y+this._overlayRect.height)+"px":Ue.top=(0,ne.a1)(de.y),Ue}_getExactOverlayX(z,re,Z){let Ke,Ue={left:"",right:""},de=this._getOverlayPoint(re,this._overlayRect,z);return this._isPushed&&(de=this._pushOverlayOnScreen(de,this._overlayRect,Z)),Ke=this._isRtl()?"end"===z.overlayX?"left":"right":"end"===z.overlayX?"right":"left","right"===Ke?Ue.right=this._document.documentElement.clientWidth-(de.x+this._overlayRect.width)+"px":Ue.left=(0,ne.a1)(de.x),Ue}_getScrollVisibility(){const z=this._getOriginRect(),re=this._pane.getBoundingClientRect(),Z=this._scrollables.map(Ue=>Ue.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:be(z,Z),isOriginOutsideView:Ce(z,Z),isOverlayClipped:be(re,Z),isOverlayOutsideView:Ce(re,Z)}}_subtractOverflows(z,...re){return re.reduce((Z,Ue)=>Z-Math.max(Ue,0),z)}_getNarrowedViewportRect(){const z=this._document.documentElement.clientWidth,re=this._document.documentElement.clientHeight,Z=this._viewportRuler.getViewportScrollPosition();return{top:Z.top+this._viewportMargin,left:Z.left+this._viewportMargin,right:Z.left+z-this._viewportMargin,bottom:Z.top+re-this._viewportMargin,width:z-2*this._viewportMargin,height:re-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(z,re){return"x"===re?null==z.offsetX?this._offsetX:z.offsetX:null==z.offsetY?this._offsetY:z.offsetY}_validatePositions(){}_addPanelClasses(z){this._pane&&(0,ne.FG)(z).forEach(re=>{""!==re&&-1===this._appliedPanelClasses.indexOf(re)&&(this._appliedPanelClasses.push(re),this._pane.classList.add(re))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(z=>{this._pane.classList.remove(z)}),this._appliedPanelClasses=[])}_getOriginRect(){const z=this._origin;if(z instanceof N.aKT)return z.nativeElement.getBoundingClientRect();if(z instanceof Element)return z.getBoundingClientRect();const re=z.width||0,Z=z.height||0;return{top:z.y,bottom:z.y+Z,left:z.x,right:z.x+re,height:Z,width:re}}}function Fe(Xe,z){for(let re in z)z.hasOwnProperty(re)&&(Xe[re]=z[re]);return Xe}function et(Xe){if("number"!=typeof Xe&&null!=Xe){const[z,re]=Xe.split(je);return re&&"px"!==re?null:parseFloat(z)}return Xe||null}function Dt(Xe){return{top:Math.floor(Xe.top),right:Math.floor(Xe.right),bottom:Math.floor(Xe.bottom),left:Math.floor(Xe.left),width:Math.floor(Xe.width),height:Math.floor(Xe.height)}}const Jt="cdk-global-overlay-wrapper";class St{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(z){const re=z.getConfig();this._overlayRef=z,this._width&&!re.width&&z.updateSize({width:this._width}),this._height&&!re.height&&z.updateSize({height:this._height}),z.hostElement.classList.add(Jt),this._isDisposed=!1}top(z=""){return this._bottomOffset="",this._topOffset=z,this._alignItems="flex-start",this}left(z=""){return this._xOffset=z,this._xPosition="left",this}bottom(z=""){return this._topOffset="",this._bottomOffset=z,this._alignItems="flex-end",this}right(z=""){return this._xOffset=z,this._xPosition="right",this}start(z=""){return this._xOffset=z,this._xPosition="start",this}end(z=""){return this._xOffset=z,this._xPosition="end",this}width(z=""){return this._overlayRef?this._overlayRef.updateSize({width:z}):this._width=z,this}height(z=""){return this._overlayRef?this._overlayRef.updateSize({height:z}):this._height=z,this}centerHorizontally(z=""){return this.left(z),this._xPosition="center",this}centerVertically(z=""){return this.top(z),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const z=this._overlayRef.overlayElement.style,re=this._overlayRef.hostElement.style,Z=this._overlayRef.getConfig(),{width:Ue,height:de,maxWidth:Ke,maxHeight:X}=Z,ae=!("100%"!==Ue&&"100vw"!==Ue||Ke&&"100%"!==Ke&&"100vw"!==Ke),$=!("100%"!==de&&"100vh"!==de||X&&"100%"!==X&&"100vh"!==X),he=this._xPosition,Re=this._xOffset,qe="rtl"===this._overlayRef.getConfig().direction;let vt="",Wt="",Ht="";ae?Ht="flex-start":"center"===he?(Ht="center",qe?Wt=Re:vt=Re):qe?"left"===he||"end"===he?(Ht="flex-end",vt=Re):("right"===he||"start"===he)&&(Ht="flex-start",Wt=Re):"left"===he||"start"===he?(Ht="flex-start",vt=Re):("right"===he||"end"===he)&&(Ht="flex-end",Wt=Re),z.position=this._cssPosition,z.marginLeft=ae?"0":vt,z.marginTop=$?"0":this._topOffset,z.marginBottom=this._bottomOffset,z.marginRight=ae?"0":Wt,re.justifyContent=Ht,re.alignItems=$?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const z=this._overlayRef.overlayElement.style,re=this._overlayRef.hostElement,Z=re.style;re.classList.remove(Jt),Z.justifyContent=Z.alignItems=z.marginTop=z.marginBottom=z.marginLeft=z.marginRight=z.position="",this._overlayRef=null,this._isDisposed=!0}}let Vn=(()=>{class Xe{constructor(re,Z,Ue,de){this._viewportRuler=re,this._document=Z,this._platform=Ue,this._overlayContainer=de}global(){return new St}flexibleConnectedTo(re){return new Be(re,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(Z){return new(Z||Xe)(N.KVO(v.Xj),N.KVO(S.q),N.KVO(R.OD),N.KVO(hn))}}static{this.\u0275prov=N.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}}return Xe})(),qt=0,bn=(()=>{class Xe{constructor(re,Z,Ue,de,Ke,X,ae,$,he,Re,qe,vt){this.scrollStrategies=re,this._overlayContainer=Z,this._componentFactoryResolver=Ue,this._positionBuilder=de,this._keyboardDispatcher=Ke,this._injector=X,this._ngZone=ae,this._document=$,this._directionality=he,this._location=Re,this._outsideClickDispatcher=qe,this._animationsModuleType=vt}create(re){const Z=this._createHostElement(),Ue=this._createPaneElement(Z),de=this._createPortalOutlet(Ue),Ke=new pt(re);return Ke.direction=Ke.direction||this._directionality.value,new Se(de,Z,Ue,Ke,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(N.uvJ))}position(){return this._positionBuilder}_createPaneElement(re){const Z=this._document.createElement("div");return Z.id="cdk-overlay-"+qt++,Z.classList.add("cdk-overlay-pane"),re.appendChild(Z),Z}_createHostElement(){const re=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(re),re}_createPortalOutlet(re){return this._appRef||(this._appRef=this._injector.get(N.o8S)),new Me.aI(re,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(Z){return new(Z||Xe)(N.KVO(Ve),N.KVO(hn),N.KVO(N.OM3),N.KVO(Vn),N.KVO(lt),N.KVO(N.zZn),N.KVO(N.SKi),N.KVO(S.q),N.KVO(ke.dS),N.KVO(e.aZ),N.KVO(Ot),N.KVO(N.bc$,8))}}static{this.\u0275prov=N.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}}return Xe})();const tn=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],fn=new N.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const Xe=(0,N.WQX)(bn);return()=>Xe.scrollStrategies.reposition()}});let Pn=(()=>{class Xe{constructor(re){this.elementRef=re}static{this.\u0275fac=function(Z){return new(Z||Xe)(N.rXU(N.aKT))}}static{this.\u0275dir=N.FsC({type:Xe,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}}return Xe})(),xi=(()=>{class Xe{get offsetX(){return this._offsetX}set offsetX(re){this._offsetX=re,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(re){this._offsetY=re,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(re){this._disposeOnNavigation=re}constructor(re,Z,Ue,de,Ke){this._overlay=re,this._dir=Ke,this._backdropSubscription=Ne.yU.EMPTY,this._attachSubscription=Ne.yU.EMPTY,this._detachSubscription=Ne.yU.EMPTY,this._positionSubscription=Ne.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,N.WQX)(N.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new N.bkB,this.positionChange=new N.bkB,this.attach=new N.bkB,this.detach=new N.bkB,this.overlayKeydown=new N.bkB,this.overlayOutsideClick=new N.bkB,this._templatePortal=new Me.VA(Z,Ue),this._scrollStrategyFactory=de,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(re){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),re.origin&&this.open&&this._position.apply()),re.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=tn);const re=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=re.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=re.detachments().subscribe(()=>this.detach.emit()),re.keydownEvents().subscribe(Z=>{this.overlayKeydown.next(Z),Z.keyCode===Le._f&&!this.disableClose&&!(0,Le.rp)(Z)&&(Z.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Z=>{const Ue=this._getOriginElement(),de=(0,R.Fb)(Z);(!Ue||Ue!==de&&!Ue.contains(de))&&this.overlayOutsideClick.next(Z)})}_buildConfig(){const re=this._position=this.positionStrategy||this._createPositionStrategy(),Z=new pt({direction:this._dir,positionStrategy:re,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(Z.width=this.width),(this.height||0===this.height)&&(Z.height=this.height),(this.minWidth||0===this.minWidth)&&(Z.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Z.minHeight=this.minHeight),this.backdropClass&&(Z.backdropClass=this.backdropClass),this.panelClass&&(Z.panelClass=this.panelClass),Z}_updatePositionStrategy(re){const Z=this.positions.map(Ue=>({originX:Ue.originX,originY:Ue.originY,overlayX:Ue.overlayX,overlayY:Ue.overlayY,offsetX:Ue.offsetX||this.offsetX,offsetY:Ue.offsetY||this.offsetY,panelClass:Ue.panelClass||void 0}));return re.setOrigin(this._getOrigin()).withPositions(Z).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const re=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(re),re}_getOrigin(){return this.origin instanceof Pn?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Pn?this.origin.elementRef.nativeElement:this.origin instanceof N.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(re=>{this.backdropClick.emit(re)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function me(Xe,z=!1){return(0,te.N)((re,Z)=>{let Ue=0;re.subscribe((0,le._)(Z,de=>{const Ke=Xe(de,Ue++);(Ke||z)&&Z.next(de),!Ke&&Z.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(re=>{this._ngZone.run(()=>this.positionChange.emit(re)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(Z){return new(Z||Xe)(N.rXU(bn),N.rXU(N.C4Q),N.rXU(N.c1b),N.rXU(fn),N.rXU(ke.dS,8))}}static{this.\u0275dir=N.FsC({type:Xe,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",N.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",N.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",N.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",N.L39],push:[2,"cdkConnectedOverlayPush","push",N.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",N.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[N.OA$]})}}return Xe})();const Mi={provide:fn,deps:[bn],useFactory:function li(Xe){return()=>Xe.scrollStrategies.reposition()}};let ti=(()=>{class Xe{static{this.\u0275fac=function(Z){return new(Z||Xe)}}static{this.\u0275mod=N.$C({type:Xe})}static{this.\u0275inj=N.G2t({providers:[bn,Mi],imports:[ke.jI,Me.jc,v.E9,v.E9]})}}return Xe})()},6977:(ht,xe,D)=>{D.d(xe,{Q:()=>ne});var v=D(9974),e=D(4360),S=D(8750),N=D(5343);function ne(R){return(0,v.N)((q,ce)=>{(0,S.Tg)(R).subscribe((0,e._)(ce,()=>ce.complete(),N.l)),!ce.closed&&q.subscribe(ce)})}},7336:(ht,xe,D)=>{D.d(xe,{A:()=>Pe,A$:()=>ce,FX:()=>R,Fm:()=>ne,Ge:()=>Ue,Kp:()=>Ne,LE:()=>We,UQ:()=>Le,W3:()=>q,Z:()=>Z,_f:()=>me,bn:()=>lt,dB:()=>Ie,eg:()=>En,f2:()=>we,i7:()=>rt,n6:()=>He,rp:()=>Yn,t6:()=>ke,w_:()=>Me,wn:()=>S,yZ:()=>ze});const S=9,ne=13,R=16,q=17,ce=18,me=27,ke=32,Me=33,Ie=34,Ne=35,ze=36,Le=37,rt=38,We=39,He=40,we=48,lt=57,Pe=65,Z=90,Ue=91,En=224;function Yn(Li,...Et){return Et.length?Et.some(Ei=>Li[Ei]):Li.altKey||Li.shiftKey||Li.ctrlKey||Li.metaKey}},7441:(ht,xe,D)=>{D.d(xe,{X:()=>v});const v=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7468:(ht,xe,D)=>{D.d(xe,{p:()=>ce});var v=D(1985),e=D(3073),S=D(8750),N=D(9326),ne=D(4360),R=D(6450),q=D(8496);function ce(...te){const le=(0,N.ms)(te),{args:me,keys:ke}=(0,e.D)(te),Me=new v.c(Ie=>{const{length:Ne}=me;if(!Ne)return void Ie.complete();const ze=new Array(Ne);let Le=Ne,rt=Ne;for(let We=0;We<Ne;We++){let He=!1;(0,S.Tg)(me[We]).subscribe((0,ne._)(Ie,tt=>{He||(He=!0,rt--),ze[We]=tt},()=>Le--,void 0,()=>{(!Le||!He)&&(rt||Ie.next(ke?(0,q.e)(ke,ze):ze),Ie.complete())}))}});return le?Me.pipe((0,R.I)(le)):Me}},7643:(ht,xe,D)=>{D.d(xe,{$R:()=>ot,Qq:()=>xt,Sx:()=>wr,a7:()=>Mi}),D(467);var e=D(1360),S=D(274),N=D(5964),ne=D(6354),R=D(980),q=D(5558),ce=D(7673),te=D(1985),le=D(6648),me=D(9377),ke=D(9361);class Me{}class Ie{}class Ne{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(ie){ie?"string"==typeof ie?this.lazyInit=()=>{this.headers=new Map,ie.split("\n").forEach(pe=>{const L=pe.indexOf(":");if(L>0){const U=pe.slice(0,L),j=pe.slice(L+1).trim();this.addHeaderEntry(U,j)}})}:typeof Headers<"u"&&ie instanceof Headers?(this.headers=new Map,ie.forEach((pe,L)=>{this.addHeaderEntry(L,pe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ie).forEach(([pe,L])=>{this.setHeaderEntries(pe,L)})}:this.headers=new Map}has(ie){return this.init(),this.headers.has(ie.toLowerCase())}get(ie){this.init();const pe=this.headers.get(ie.toLowerCase());return pe&&pe.length>0?pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ie){return this.init(),this.headers.get(ie.toLowerCase())||null}append(ie,pe){return this.clone({name:ie,value:pe,op:"a"})}set(ie,pe){return this.clone({name:ie,value:pe,op:"s"})}delete(ie,pe){return this.clone({name:ie,value:pe,op:"d"})}maybeSetNormalizedName(ie,pe){this.normalizedNames.has(pe)||this.normalizedNames.set(pe,ie)}init(){this.lazyInit&&(this.lazyInit instanceof Ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ie=>this.applyUpdate(ie)),this.lazyUpdate=null))}copyFrom(ie){ie.init(),Array.from(ie.headers.keys()).forEach(pe=>{this.headers.set(pe,ie.headers.get(pe)),this.normalizedNames.set(pe,ie.normalizedNames.get(pe))})}clone(ie){const pe=new Ne;return pe.lazyInit=this.lazyInit&&this.lazyInit instanceof Ne?this.lazyInit:this,pe.lazyUpdate=(this.lazyUpdate||[]).concat([ie]),pe}applyUpdate(ie){const pe=ie.name.toLowerCase();switch(ie.op){case"a":case"s":let L=ie.value;if("string"==typeof L&&(L=[L]),0===L.length)return;this.maybeSetNormalizedName(ie.name,pe);const U=("a"===ie.op?this.headers.get(pe):void 0)||[];U.push(...L),this.headers.set(pe,U);break;case"d":const j=ie.value;if(j){let W=this.headers.get(pe);if(!W)return;W=W.filter(ve=>-1===j.indexOf(ve)),0===W.length?(this.headers.delete(pe),this.normalizedNames.delete(pe)):this.headers.set(pe,W)}else this.headers.delete(pe),this.normalizedNames.delete(pe)}}addHeaderEntry(ie,pe){const L=ie.toLowerCase();this.maybeSetNormalizedName(ie,L),this.headers.has(L)?this.headers.get(L).push(pe):this.headers.set(L,[pe])}setHeaderEntries(ie,pe){const L=(Array.isArray(pe)?pe:[pe]).map(j=>j.toString()),U=ie.toLowerCase();this.headers.set(U,L),this.maybeSetNormalizedName(ie,U)}forEach(ie){this.init(),Array.from(this.normalizedNames.keys()).forEach(pe=>ie(this.normalizedNames.get(pe),this.headers.get(pe)))}}class Le{encodeKey(ie){return tt(ie)}encodeValue(ie){return tt(ie)}decodeKey(ie){return decodeURIComponent(ie)}decodeValue(ie){return decodeURIComponent(ie)}}const We=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tt(K){return encodeURIComponent(K).replace(We,(ie,pe)=>He[pe]??ie)}function _e(K){return`${K}`}class Ce{map;encoder;updates=null;cloneFrom=null;constructor(ie={}){if(this.encoder=ie.encoder||new Le,ie.fromString){if(ie.fromObject)throw new e.wOt(2805,!1);this.map=function rt(K,ie){const pe=new Map;return K.length>0&&K.replace(/^\?/,"").split("&").forEach(U=>{const j=U.indexOf("="),[W,ve]=-1==j?[ie.decodeKey(U),""]:[ie.decodeKey(U.slice(0,j)),ie.decodeValue(U.slice(j+1))],Ze=pe.get(W)||[];Ze.push(ve),pe.set(W,Ze)}),pe}(ie.fromString,this.encoder)}else ie.fromObject?(this.map=new Map,Object.keys(ie.fromObject).forEach(pe=>{const L=ie.fromObject[pe],U=Array.isArray(L)?L.map(_e):[_e(L)];this.map.set(pe,U)})):this.map=null}has(ie){return this.init(),this.map.has(ie)}get(ie){this.init();const pe=this.map.get(ie);return pe?pe[0]:null}getAll(ie){return this.init(),this.map.get(ie)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ie,pe){return this.clone({param:ie,value:pe,op:"a"})}appendAll(ie){const pe=[];return Object.keys(ie).forEach(L=>{const U=ie[L];Array.isArray(U)?U.forEach(j=>{pe.push({param:L,value:j,op:"a"})}):pe.push({param:L,value:U,op:"a"})}),this.clone(pe)}set(ie,pe){return this.clone({param:ie,value:pe,op:"s"})}delete(ie,pe){return this.clone({param:ie,value:pe,op:"d"})}toString(){return this.init(),this.keys().map(ie=>{const pe=this.encoder.encodeKey(ie);return this.map.get(ie).map(L=>pe+"="+this.encoder.encodeValue(L)).join("&")}).filter(ie=>""!==ie).join("&")}clone(ie){const pe=new Ce({encoder:this.encoder});return pe.cloneFrom=this.cloneFrom||this,pe.updates=(this.updates||[]).concat(ie),pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ie=>this.map.set(ie,this.cloneFrom.map.get(ie))),this.updates.forEach(ie=>{switch(ie.op){case"a":case"s":const pe=("a"===ie.op?this.map.get(ie.param):void 0)||[];pe.push(_e(ie.value)),this.map.set(ie.param,pe);break;case"d":if(void 0===ie.value){this.map.delete(ie.param);break}{let L=this.map.get(ie.param)||[];const U=L.indexOf(_e(ie.value));-1!==U&&L.splice(U,1),L.length>0?this.map.set(ie.param,L):this.map.delete(ie.param)}}}),this.cloneFrom=this.updates=null)}}class we{map=new Map;set(ie,pe){return this.map.set(ie,pe),this}get(ie){return this.map.has(ie)||this.map.set(ie,ie.defaultValue()),this.map.get(ie)}delete(ie){return this.map.delete(ie),this}has(ie){return this.map.has(ie)}keys(){return this.map.keys()}}function pt(K){return typeof ArrayBuffer<"u"&&K instanceof ArrayBuffer}function jt(K){return typeof Blob<"u"&&K instanceof Blob}function it(K){return typeof FormData<"u"&&K instanceof FormData}const dn="Content-Type",Lt="X-Request-URL",lt="text/plain",Ot="application/json",un=`${Ot}, ${lt}, */*`;class hn{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(ie,pe,L,U){let j;if(this.url=pe,this.method=ie.toUpperCase(),function Ve(K){switch(K){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||U?(this.body=void 0!==L?L:null,j=U):j=L,j&&(this.reportProgress=!!j.reportProgress,this.withCredentials=!!j.withCredentials,j.responseType&&(this.responseType=j.responseType),j.headers&&(this.headers=j.headers),j.context&&(this.context=j.context),j.params&&(this.params=j.params),this.transferCache=j.transferCache),this.headers??=new Ne,this.context??=new we,this.params){const W=this.params.toString();if(0===W.length)this.urlWithParams=pe;else{const ve=pe.indexOf("?");this.urlWithParams=pe+(-1===ve?"?":ve<pe.length-1?"&":"")+W}}else this.params=new Ce,this.urlWithParams=pe}serializeBody(){return null===this.body?null:"string"==typeof this.body||pt(this.body)||jt(this.body)||it(this.body)||function At(K){return typeof URLSearchParams<"u"&&K instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||it(this.body)?null:jt(this.body)?this.body.type||null:pt(this.body)?null:"string"==typeof this.body?lt:this.body instanceof Ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Ot:null}clone(ie={}){const pe=ie.method||this.method,L=ie.url||this.url,U=ie.responseType||this.responseType,j=ie.transferCache??this.transferCache,W=void 0!==ie.body?ie.body:this.body,ve=ie.withCredentials??this.withCredentials,Ze=ie.reportProgress??this.reportProgress;let wt=ie.headers||this.headers,en=ie.params||this.params;const kn=ie.context??this.context;return void 0!==ie.setHeaders&&(wt=Object.keys(ie.setHeaders).reduce((Cn,Xt)=>Cn.set(Xt,ie.setHeaders[Xt]),wt)),ie.setParams&&(en=Object.keys(ie.setParams).reduce((Cn,Xt)=>Cn.set(Xt,ie.setParams[Xt]),en)),new hn(pe,L,W,{params:en,headers:wt,context:kn,reportProgress:Ze,responseType:U,withCredentials:ve,transferCache:j})}}var Se=function(K){return K[K.Sent=0]="Sent",K[K.UploadProgress=1]="UploadProgress",K[K.ResponseHeader=2]="ResponseHeader",K[K.DownloadProgress=3]="DownloadProgress",K[K.Response=4]="Response",K[K.User=5]="User",K}(Se||{});class Pe{headers;status;statusText;url;ok;type;constructor(ie,pe=200,L="OK"){this.headers=ie.headers||new Ne,this.status=void 0!==ie.status?ie.status:pe,this.statusText=ie.statusText||L,this.url=ie.url||null,this.ok=this.status>=200&&this.status<300}}class je extends Pe{constructor(ie={}){super(ie)}type=Se.ResponseHeader;clone(ie={}){return new je({headers:ie.headers||this.headers,status:void 0!==ie.status?ie.status:this.status,statusText:ie.statusText||this.statusText,url:ie.url||this.url||void 0})}}class Be extends Pe{body;constructor(ie={}){super(ie),this.body=void 0!==ie.body?ie.body:null}type=Se.Response;clone(ie={}){return new Be({body:void 0!==ie.body?ie.body:this.body,headers:ie.headers||this.headers,status:void 0!==ie.status?ie.status:this.status,statusText:ie.statusText||this.statusText,url:ie.url||this.url||void 0})}}class Fe extends Pe{name="HttpErrorResponse";message;error;ok=!1;constructor(ie){super(ie,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ie.url||"(unknown url)"}`:`Http failure response for ${ie.url||"(unknown url)"}: ${ie.status} ${ie.statusText}`,this.error=ie.error||null}}function In(K,ie){return{body:ie,headers:K.headers,context:K.context,observe:K.observe,params:K.params,reportProgress:K.reportProgress,responseType:K.responseType,withCredentials:K.withCredentials,transferCache:K.transferCache}}let xt=(()=>{class K{handler;constructor(pe){this.handler=pe}request(pe,L,U={}){let j;if(pe instanceof hn)j=pe;else{let Ze,wt;Ze=U.headers instanceof Ne?U.headers:new Ne(U.headers),U.params&&(wt=U.params instanceof Ce?U.params:new Ce({fromObject:U.params})),j=new hn(pe,L,void 0!==U.body?U.body:null,{headers:Ze,context:U.context,params:wt,reportProgress:U.reportProgress,responseType:U.responseType||"json",withCredentials:U.withCredentials,transferCache:U.transferCache})}const W=(0,ce.of)(j).pipe((0,S.H)(Ze=>this.handler.handle(Ze)));if(pe instanceof hn||"events"===U.observe)return W;const ve=W.pipe((0,N.p)(Ze=>Ze instanceof Be));switch(U.observe||"body"){case"body":switch(j.responseType){case"arraybuffer":return ve.pipe((0,ne.T)(Ze=>{if(null!==Ze.body&&!(Ze.body instanceof ArrayBuffer))throw new e.wOt(2806,!1);return Ze.body}));case"blob":return ve.pipe((0,ne.T)(Ze=>{if(null!==Ze.body&&!(Ze.body instanceof Blob))throw new e.wOt(2807,!1);return Ze.body}));case"text":return ve.pipe((0,ne.T)(Ze=>{if(null!==Ze.body&&"string"!=typeof Ze.body)throw new e.wOt(2808,!1);return Ze.body}));default:return ve.pipe((0,ne.T)(Ze=>Ze.body))}case"response":return ve;default:throw new e.wOt(2809,!1)}}delete(pe,L={}){return this.request("DELETE",pe,L)}get(pe,L={}){return this.request("GET",pe,L)}head(pe,L={}){return this.request("HEAD",pe,L)}jsonp(pe,L){return this.request("JSONP",pe,{params:(new Ce).append(L,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(pe,L={}){return this.request("OPTIONS",pe,L)}patch(pe,L,U={}){return this.request("PATCH",pe,In(U,L))}post(pe,L,U={}){return this.request("POST",pe,In(U,L))}put(pe,L,U={}){return this.request("PUT",pe,In(U,L))}static \u0275fac=function(L){return new(L||K)(e.KVO(Me))};static \u0275prov=e.jDH({token:K,factory:K.\u0275fac})}return K})();const Vn=new e.nKC("");function Pn(K,ie){return ie(K)}function xi(K,ie){return(pe,L)=>ie.intercept(pe,{handle:U=>K(U,L)})}const Mi=new e.nKC(""),ti=new e.nKC(""),Si=new e.nKC(""),Xe=new e.nKC("",{providedIn:"root",factory:()=>!0});function z(){let K=null;return(ie,pe)=>{null===K&&(K=((0,e.WQX)(Mi,{optional:!0})??[]).reduceRight(xi,Pn));const L=(0,e.WQX)(e.Ua0);if((0,e.WQX)(Xe)){const j=L.add();return K(ie,pe).pipe((0,R.j)(()=>L.remove(j)))}return K(ie,pe)}}let Z=(()=>{class K extends Me{backend;injector;chain=null;pendingTasks=(0,e.WQX)(e.Ua0);contributeToStability=(0,e.WQX)(Xe);constructor(pe,L){super(),this.backend=pe,this.injector=L}handle(pe){if(null===this.chain){const L=Array.from(new Set([...this.injector.get(ti),...this.injector.get(Si,[])]));this.chain=L.reduceRight((U,j)=>function li(K,ie,pe){return(L,U)=>(0,e.N4e)(pe,()=>ie(L,j=>K(j,U)))}(U,j,this.injector),Pn)}if(this.contributeToStability){const L=this.pendingTasks.add();return this.chain(pe,U=>this.backend.handle(U)).pipe((0,R.j)(()=>this.pendingTasks.remove(L)))}return this.chain(pe,L=>this.backend.handle(L))}static \u0275fac=function(L){return new(L||K)(e.KVO(Ie),e.KVO(e.uvJ))};static \u0275prov=e.jDH({token:K,factory:K.\u0275fac})}return K})();const Ht=/^\)\]\}',?\n/,ln=RegExp(`^${Lt}:`,"m");let qn=(()=>{class K{xhrFactory;constructor(pe){this.xhrFactory=pe}handle(pe){if("JSONP"===pe.method)throw new e.wOt(-2800,!1);const L=this.xhrFactory;return(L.\u0275loadImpl?(0,le.H)(L.\u0275loadImpl()):(0,ce.of)(null)).pipe((0,q.n)(()=>new te.c(j=>{const W=L.build();if(W.open(pe.method,pe.urlWithParams),pe.withCredentials&&(W.withCredentials=!0),pe.headers.forEach((On,En)=>W.setRequestHeader(On,En.join(","))),pe.headers.has("Accept")||W.setRequestHeader("Accept",un),!pe.headers.has(dn)){const On=pe.detectContentTypeHeader();null!==On&&W.setRequestHeader(dn,On)}if(pe.responseType){const On=pe.responseType.toLowerCase();W.responseType="json"!==On?On:"text"}const ve=pe.serializeBody();let Ze=null;const wt=()=>{if(null!==Ze)return Ze;const On=W.statusText||"OK",En=new Ne(W.getAllResponseHeaders()),Yn=function or(K){return"responseURL"in K&&K.responseURL?K.responseURL:ln.test(K.getAllResponseHeaders())?K.getResponseHeader(Lt):null}(W)||pe.url;return Ze=new je({headers:En,status:W.status,statusText:On,url:Yn}),Ze},en=()=>{let{headers:On,status:En,statusText:Yn,url:Li}=wt(),Et=null;204!==En&&(Et=typeof W.response>"u"?W.responseText:W.response),0===En&&(En=Et?200:0);let Ei=En>=200&&En<300;if("json"===pe.responseType&&"string"==typeof Et){const mr=Et;Et=Et.replace(Ht,"");try{Et=""!==Et?JSON.parse(Et):null}catch(Zr){Et=mr,Ei&&(Ei=!1,Et={error:Zr,text:Et})}}Ei?(j.next(new Be({body:Et,headers:On,status:En,statusText:Yn,url:Li||void 0})),j.complete()):j.error(new Fe({error:Et,headers:On,status:En,statusText:Yn,url:Li||void 0}))},kn=On=>{const{url:En}=wt(),Yn=new Fe({error:On,status:W.status||0,statusText:W.statusText||"Unknown Error",url:En||void 0});j.error(Yn)};let Cn=!1;const Xt=On=>{Cn||(j.next(wt()),Cn=!0);let En={type:Se.DownloadProgress,loaded:On.loaded};On.lengthComputable&&(En.total=On.total),"text"===pe.responseType&&W.responseText&&(En.partialText=W.responseText),j.next(En)},zn=On=>{let En={type:Se.UploadProgress,loaded:On.loaded};On.lengthComputable&&(En.total=On.total),j.next(En)};return W.addEventListener("load",en),W.addEventListener("error",kn),W.addEventListener("timeout",kn),W.addEventListener("abort",kn),pe.reportProgress&&(W.addEventListener("progress",Xt),null!==ve&&W.upload&&W.upload.addEventListener("progress",zn)),W.send(ve),j.next({type:Se.Sent}),()=>{W.removeEventListener("error",kn),W.removeEventListener("abort",kn),W.removeEventListener("load",en),W.removeEventListener("timeout",kn),pe.reportProgress&&(W.removeEventListener("progress",Xt),null!==ve&&W.upload&&W.upload.removeEventListener("progress",zn)),W.readyState!==W.DONE&&W.abort()}})))}static \u0275fac=function(L){return new(L||K)(e.KVO(me.N0))};static \u0275prov=e.jDH({token:K,factory:K.\u0275fac})}return K})();const fr=new e.nKC(""),sn=new e.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Nn=new e.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zi{}let Qr=(()=>{class K{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(pe,L){this.doc=pe,this.cookieName=L}getToken(){const pe=this.doc.cookie||"";return pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,me.bS)(pe,this.cookieName),this.lastCookieString=pe),this.lastToken}static \u0275fac=function(L){return new(L||K)(e.KVO(ke.q),e.KVO(sn))};static \u0275prov=e.jDH({token:K,factory:K.\u0275fac})}return K})();function Ye(K,ie){const pe=K.url.toLowerCase();if(!(0,e.WQX)(fr)||"GET"===K.method||"HEAD"===K.method||pe.startsWith("http://")||pe.startsWith("https://"))return ie(K);const L=(0,e.WQX)(zi).getToken(),U=(0,e.WQX)(Nn);return null!=L&&!K.headers.has(U)&&(K=K.clone({headers:K.headers.set(U,L)})),ie(K)}var ee=function(K){return K[K.Interceptors=0]="Interceptors",K[K.LegacyInterceptors=1]="LegacyInterceptors",K[K.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",K[K.NoXsrfProtection=3]="NoXsrfProtection",K[K.JsonpSupport=4]="JsonpSupport",K[K.RequestsMadeViaParent=5]="RequestsMadeViaParent",K[K.Fetch=6]="Fetch",K}(ee||{});function ot(...K){const ie=[xt,qn,Z,{provide:Me,useExisting:Z},{provide:Ie,useFactory:()=>(0,e.WQX)(Vn,{optional:!0})??(0,e.WQX)(qn)},{provide:ti,useValue:Ye,multi:!0},{provide:fr,useValue:!0},{provide:zi,useClass:Qr}];for(const pe of K)ie.push(...pe.\u0275providers);return(0,e.EmA)(ie)}const jn=new e.nKC("");function wr(){return function Te(K,ie){return{\u0275kind:K,\u0275providers:ie}}(ee.LegacyInterceptors,[{provide:jn,useFactory:z},{provide:ti,useExisting:jn,multi:!0}])}},7673:(ht,xe,D)=>{D.d(xe,{of:()=>S});var v=D(9326),e=D(6648);function S(...N){const ne=(0,v.lI)(N);return(0,e.H)(N,ne)}},7707:(ht,xe,D)=>{D.d(xe,{Ms:()=>ze,vU:()=>ke});var v=D(8071),e=D(8359),S=D(1026),N=D(5334),ne=D(5343);const R=te("C",void 0,void 0);function te(tt,_e,Ce){return{kind:tt,value:_e,error:Ce}}var le=D(9270),me=D(9786);class ke extends e.yU{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,e.Uv)(_e)&&_e.add(this)):this.destination=He}static create(_e,Ce,be){return new ze(_e,Ce,be)}next(_e){this.isStopped?We(function ce(tt){return te("N",tt,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?We(function q(tt){return te("E",void 0,tt)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?We(R,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function Ie(tt,_e){return Me.call(tt,_e)}class Ne{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(_e)}catch(be){Le(be)}}error(_e){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(_e)}catch(be){Le(be)}else Le(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Ce){Le(Ce)}}}class ze extends ke{constructor(_e,Ce,be){let we;if(super(),(0,v.T)(_e)||!_e)we={next:_e??void 0,error:Ce??void 0,complete:be??void 0};else{let Ve;this&&S.$.useDeprecatedNextContext?(Ve=Object.create(_e),Ve.unsubscribe=()=>this.unsubscribe(),we={next:_e.next&&Ie(_e.next,Ve),error:_e.error&&Ie(_e.error,Ve),complete:_e.complete&&Ie(_e.complete,Ve)}):we=_e}this.destination=new Ne(we)}}function Le(tt){S.$.useDeprecatedSynchronousErrorHandling?(0,me.l)(tt):(0,N.m)(tt)}function We(tt,_e){const{onStoppedNotification:Ce}=S.$;Ce&&le.f.setTimeout(()=>Ce(tt,_e))}const He={closed:!0,next:ne.l,error:function rt(tt){throw tt},complete:ne.l}},7786:(ht,xe,D)=>{D.d(xe,{h:()=>R});var v=D(6365),e=D(8750),S=D(983),N=D(9326),ne=D(6648);function R(...q){const ce=(0,N.lI)(q),te=(0,N.R0)(q,1/0),le=q;return le.length?1===le.length?(0,e.Tg)(le[0]):(0,v.U)(te)((0,ne.H)(le,ce)):S.w}},7908:(ht,xe,D)=>{function v(e,S){if(e){const N=e.indexOf(S);0<=N&&e.splice(N,1)}}D.d(xe,{o:()=>v})},7953:(ht,xe,D)=>{D.d(xe,{T:()=>e});var v=D(8071);function e(S){return Symbol.asyncIterator&&(0,v.T)(S?.[Symbol.asyncIterator])}},8071:(ht,xe,D)=>{function v(e){return"function"==typeof e}D.d(xe,{T:()=>v})},8141:(ht,xe,D)=>{D.d(xe,{M:()=>ne});var v=D(8071),e=D(9974),S=D(4360),N=D(3669);function ne(R,q,ce){const te=(0,v.T)(R)||q||ce?{next:R,error:q,complete:ce}:R;return te?(0,e.N)((le,me)=>{var ke;null===(ke=te.subscribe)||void 0===ke||ke.call(te);let Me=!0;le.subscribe((0,S._)(me,Ie=>{var Ne;null===(Ne=te.next)||void 0===Ne||Ne.call(te,Ie),me.next(Ie)},()=>{var Ie;Me=!1,null===(Ie=te.complete)||void 0===Ie||Ie.call(te),me.complete()},Ie=>{var Ne;Me=!1,null===(Ne=te.error)||void 0===Ne||Ne.call(te,Ie),me.error(Ie)},()=>{var Ie,Ne;Me&&(null===(Ie=te.unsubscribe)||void 0===Ie||Ie.call(te)),null===(Ne=te.finalize)||void 0===Ne||Ne.call(te)}))}):N.D}},8203:(ht,xe,D)=>{D.d(xe,{dS:()=>q,jI:()=>te});var v=D(1360),e=D(9361);const S=new v.nKC("cdk-dir-doc",{providedIn:"root",factory:function N(){return(0,v.WQX)(e.q)}}),ne=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let q=(()=>{class le{constructor(ke){this.value="ltr",this.change=new v.bkB,ke&&(this.value=function R(le){const me=le?.toLowerCase()||"";return"auto"===me&&typeof navigator<"u"&&navigator?.language?ne.test(navigator.language)?"rtl":"ltr":"rtl"===me?"rtl":"ltr"}((ke.body?ke.body.dir:null)||(ke.documentElement?ke.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(Me){return new(Me||le)(v.KVO(S,8))}}static{this.\u0275prov=v.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})(),te=(()=>{class le{static{this.\u0275fac=function(Me){return new(Me||le)}}static{this.\u0275mod=v.$C({type:le})}static{this.\u0275inj=v.G2t({})}}return le})()},8359:(ht,xe,D)=>{D.d(xe,{Kn:()=>R,yU:()=>ne,Uv:()=>q});var v=D(8071);const S=(0,D(1853).L)(te=>function(me){te(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((ke,Me)=>`${Me+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var N=D(7908);class ne{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const Ie of me)Ie.remove(this);else me.remove(this);const{initialTeardown:ke}=this;if((0,v.T)(ke))try{ke()}catch(Ie){le=Ie instanceof S?Ie.errors:[Ie]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const Ie of Me)try{ce(Ie)}catch(Ne){le=le??[],Ne instanceof S?le=[...le,...Ne.errors]:le.push(Ne)}}if(le)throw new S(le)}}add(le){var me;if(le&&le!==this)if(this.closed)ce(le);else{if(le instanceof ne){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(le)}}_hasParent(le){const{_parentage:me}=this;return me===le||Array.isArray(me)&&me.includes(le)}_addParent(le){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(le),me):me?[me,le]:le}_removeParent(le){const{_parentage:me}=this;me===le?this._parentage=null:Array.isArray(me)&&(0,N.o)(me,le)}remove(le){const{_finalizers:me}=this;me&&(0,N.o)(me,le),le instanceof ne&&le._removeParent(this)}}ne.EMPTY=(()=>{const te=new ne;return te.closed=!0,te})();const R=ne.EMPTY;function q(te){return te instanceof ne||te&&"closed"in te&&(0,v.T)(te.remove)&&(0,v.T)(te.add)&&(0,v.T)(te.unsubscribe)}function ce(te){(0,v.T)(te)?te():te.unsubscribe()}},8464:(ht,xe,D)=>{D.d(xe,{Pd:()=>pe,Au:()=>qt,FN:()=>kr,GX:()=>Wt,Q_:()=>ie,Z7:()=>Xe,Ai:()=>jn,px:()=>Se,_G:()=>sn,w6:()=>Hi,Ae:()=>Pe});var v=D(9361),e=D(1360),S=D(6860),N=D(7336),ne=D(1413),R=D(8359),ce=(D(4402),D(7673)),te=D(4412),le=D(8141),me=D(3236),ke=D(9974),Me=D(4360);function Ie(L,U=me.E){return(0,ke.N)((j,W)=>{let ve=null,Ze=null,wt=null;const en=()=>{if(ve){ve.unsubscribe(),ve=null;const Cn=Ze;Ze=null,W.next(Cn)}};function kn(){const Cn=wt+L,Xt=U.now();if(Xt<Cn)return ve=this.schedule(void 0,Cn-Xt),void W.add(ve);en()}j.subscribe((0,Me._)(W,Cn=>{Ze=Cn,wt=U.now(),ve||(ve=U.schedule(kn,L),W.add(ve))},()=>{en(),W.complete()},void 0,()=>{Ze=ve=null}))})}var Ne=D(5964),ze=D(6354),Le=D(6697);function rt(L){return(0,Ne.p)((U,j)=>L<=j)}var We=D(3294),He=D(6977),_e=D(2318),Ce=D(4085),be=D(4572),we=D(8793),Ve=D(1985),pt=D(9172);const it=new Set;let At,dn=(()=>{class L{constructor(j,W){this._platform=j,this._nonce=W,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Lt}matchMedia(j){return(this._platform.WEBKIT||this._platform.BLINK)&&function yt(L,U){if(!it.has(L))try{At||(At=document.createElement("style"),U&&At.setAttribute("nonce",U),At.setAttribute("type","text/css"),document.head.appendChild(At)),At.sheet&&(At.sheet.insertRule(`@media ${L} {body{ }}`,0),it.add(L))}catch(j){console.error(j)}}(j,this._nonce),this._matchMedia(j)}static{this.\u0275fac=function(W){return new(W||L)(e.KVO(S.OD),e.KVO(e.BIS,8))}}static{this.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})();function Lt(L){return{matches:"all"===L||""===L,media:L,addListener:()=>{},removeListener:()=>{}}}let lt=(()=>{class L{constructor(j,W){this._mediaMatcher=j,this._zone=W,this._queries=new Map,this._destroySubject=new ne.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(j){return Ot((0,Ce.FG)(j)).some(ve=>this._registerQuery(ve).mql.matches)}observe(j){const ve=Ot((0,Ce.FG)(j)).map(wt=>this._registerQuery(wt).observable);let Ze=(0,be.z)(ve);return Ze=(0,we.x)(Ze.pipe((0,Le.s)(1)),Ze.pipe(rt(1),Ie(0))),Ze.pipe((0,ze.T)(wt=>{const en={matches:!1,breakpoints:{}};return wt.forEach(({matches:kn,query:Cn})=>{en.matches=en.matches||kn,en.breakpoints[Cn]=kn}),en}))}_registerQuery(j){if(this._queries.has(j))return this._queries.get(j);const W=this._mediaMatcher.matchMedia(j),Ze={observable:new Ve.c(wt=>{const en=kn=>this._zone.run(()=>wt.next(kn));return W.addListener(en),()=>{W.removeListener(en)}}).pipe((0,pt.Z)(W),(0,ze.T)(({matches:wt})=>({query:j,matches:wt})),(0,He.Q)(this._destroySubject)),mql:W};return this._queries.set(j,Ze),Ze}static{this.\u0275fac=function(W){return new(W||L)(e.KVO(dn),e.KVO(e.SKi))}}static{this.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})();function Ot(L){return L.map(U=>U.split(",")).reduce((U,j)=>U.concat(j)).map(U=>U.trim())}const hn=" ";function Se(L,U,j){const W=je(L,U);j=j.trim(),!W.some(ve=>ve.trim()===j)&&(W.push(j),L.setAttribute(U,W.join(hn)))}function Pe(L,U,j){const W=je(L,U);j=j.trim();const ve=W.filter(Ze=>Ze!==j);ve.length?L.setAttribute(U,ve.join(hn)):L.removeAttribute(U)}function je(L,U){return L.getAttribute(U)?.match(/\S+/g)??[]}class St{constructor(U,j){this._letterKeyStream=new ne.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new ne.B,this.selectedItem=this._selectedItem;const W="number"==typeof j?.debounceInterval?j.debounceInterval:200;j?.skipPredicate&&(this._skipPredicateFn=j.skipPredicate),this.setItems(U),this._setupKeyHandler(W)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(U){this._selectedItemIndex=U}setItems(U){this._items=U}handleKey(U){const j=U.keyCode;U.key&&1===U.key.length?this._letterKeyStream.next(U.key.toLocaleUpperCase()):(j>=N.A&&j<=N.Z||j>=N.f2&&j<=N.bn)&&this._letterKeyStream.next(String.fromCharCode(j))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(U){this._letterKeyStream.pipe((0,le.M)(j=>this._pressedLetters.push(j)),Ie(U),(0,Ne.p)(()=>this._pressedLetters.length>0),(0,ze.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(j=>{for(let W=1;W<this._items.length+1;W++){const Ze=this._items[(this._selectedItemIndex+W)%this._items.length];if(!this._skipPredicateFn?.(Ze)&&0===Ze.getLabel?.().toLocaleUpperCase().trim().indexOf(j)){this._selectedItem.next(Ze);break}}this._pressedLetters=[]})}}class Vn{constructor(U,j){this._items=U,this._activeItemIndex=-1,this._activeItem=(0,e.vPA)(null),this._wrap=!1,this._typeaheadSubscription=R.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=W=>W.disabled,this.tabOut=new ne.B,this.change=new ne.B,U instanceof e.rOR?this._itemChangesSubscription=U.changes.subscribe(W=>this._itemsChanged(W.toArray())):(0,e.Hps)(U)&&(this._effectRef=(0,e.QZP)(()=>this._itemsChanged(U()),{injector:j}))}skipPredicate(U){return this._skipPredicateFn=U,this}withWrap(U=!0){return this._wrap=U,this}withVerticalOrientation(U=!0){return this._vertical=U,this}withHorizontalOrientation(U){return this._horizontal=U,this}withAllowedModifierKeys(U){return this._allowedModifierKeys=U,this}withTypeAhead(U=200){this._typeaheadSubscription.unsubscribe();const j=this._getItemsArray();return this._typeahead=new St(j,{debounceInterval:"number"==typeof U?U:void 0,skipPredicate:W=>this._skipPredicateFn(W)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(W=>{this.setActiveItem(W)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(U=!0){return this._homeAndEnd=U,this}withPageUpDown(U=!0,j=10){return this._pageUpAndDown={enabled:U,delta:j},this}setActiveItem(U){const j=this._activeItem();this.updateActiveItem(U),this._activeItem()!==j&&this.change.next(this._activeItemIndex)}onKeydown(U){const j=U.keyCode,ve=["altKey","ctrlKey","metaKey","shiftKey"].every(Ze=>!U[Ze]||this._allowedModifierKeys.indexOf(Ze)>-1);switch(j){case N.wn:return void this.tabOut.next();case N.n6:if(this._vertical&&ve){this.setNextItemActive();break}return;case N.i7:if(this._vertical&&ve){this.setPreviousItemActive();break}return;case N.LE:if(this._horizontal&&ve){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case N.UQ:if(this._horizontal&&ve){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case N.yZ:if(this._homeAndEnd&&ve){this.setFirstItemActive();break}return;case N.Kp:if(this._homeAndEnd&&ve){this.setLastItemActive();break}return;case N.w_:if(this._pageUpAndDown.enabled&&ve){const Ze=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ze>0?Ze:0,1);break}return;case N.dB:if(this._pageUpAndDown.enabled&&ve){const Ze=this._activeItemIndex+this._pageUpAndDown.delta,wt=this._getItemsArray().length;this._setActiveItemByIndex(Ze<wt?Ze:wt-1,-1);break}return;default:return void((ve||(0,N.rp)(U,"shiftKey"))&&this._typeahead?.handleKey(U))}this._typeahead?.reset(),U.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(U){const j=this._getItemsArray(),W="number"==typeof U?U:j.indexOf(U);this._activeItem.set(j[W]??null),this._activeItemIndex=W,this._typeahead?.setCurrentSelectedItemIndex(W)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(U){this._wrap?this._setActiveInWrapMode(U):this._setActiveInDefaultMode(U)}_setActiveInWrapMode(U){const j=this._getItemsArray();for(let W=1;W<=j.length;W++){const ve=(this._activeItemIndex+U*W+j.length)%j.length;if(!this._skipPredicateFn(j[ve]))return void this.setActiveItem(ve)}}_setActiveInDefaultMode(U){this._setActiveItemByIndex(this._activeItemIndex+U,U)}_setActiveItemByIndex(U,j){const W=this._getItemsArray();if(W[U]){for(;this._skipPredicateFn(W[U]);)if(!W[U+=j])return;this.setActiveItem(U)}}_getItemsArray(){return(0,e.Hps)(this._items)?this._items():this._items instanceof e.rOR?this._items.toArray():this._items}_itemsChanged(U){this._typeahead?.setItems(U);const j=this._activeItem();if(j){const W=U.indexOf(j);W>-1&&W!==this._activeItemIndex&&(this._activeItemIndex=W,this._typeahead?.setCurrentSelectedItemIndex(W))}}}class qt extends Vn{setActiveItem(U){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(U),this.activeItem&&this.activeItem.setActiveStyles()}}let Xe=(()=>{class L{constructor(j){this._platform=j}isDisabled(j){return j.hasAttribute("disabled")}isVisible(j){return function re(L){return!!(L.offsetWidth||L.offsetHeight||"function"==typeof L.getClientRects&&L.getClientRects().length)}(j)&&"visible"===getComputedStyle(j).visibility}isTabbable(j){if(!this._platform.isBrowser)return!1;const W=function z(L){try{return L.frameElement}catch{return null}}(function qe(L){return L.ownerDocument&&L.ownerDocument.defaultView||window}(j));if(W&&(-1===$(W)||!this.isVisible(W)))return!1;let ve=j.nodeName.toLowerCase(),Ze=$(j);return j.hasAttribute("contenteditable")?-1!==Ze:!("iframe"===ve||"object"===ve||this._platform.WEBKIT&&this._platform.IOS&&!function he(L){let U=L.nodeName.toLowerCase(),j="input"===U&&L.type;return"text"===j||"password"===j||"select"===U||"textarea"===U}(j))&&("audio"===ve?!!j.hasAttribute("controls")&&-1!==Ze:"video"===ve?-1!==Ze&&(null!==Ze||this._platform.FIREFOX||j.hasAttribute("controls")):j.tabIndex>=0)}isFocusable(j,W){return function Re(L){return!function Ue(L){return function Ke(L){return"input"==L.nodeName.toLowerCase()}(L)&&"hidden"==L.type}(L)&&(function Z(L){let U=L.nodeName.toLowerCase();return"input"===U||"select"===U||"button"===U||"textarea"===U}(L)||function de(L){return function X(L){return"a"==L.nodeName.toLowerCase()}(L)&&L.hasAttribute("href")}(L)||L.hasAttribute("contenteditable")||ae(L))}(j)&&!this.isDisabled(j)&&(W?.ignoreVisibility||this.isVisible(j))}static{this.\u0275fac=function(W){return new(W||L)(e.KVO(S.OD))}}static{this.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})();function ae(L){if(!L.hasAttribute("tabindex")||void 0===L.tabIndex)return!1;let U=L.getAttribute("tabindex");return!(!U||isNaN(parseInt(U,10)))}function $(L){if(!ae(L))return null;const U=parseInt(L.getAttribute("tabindex")||"",10);return isNaN(U)?-1:U}class vt{get enabled(){return this._enabled}set enabled(U){this._enabled=U,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(U,this._startAnchor),this._toggleAnchorTabIndex(U,this._endAnchor))}constructor(U,j,W,ve,Ze=!1,wt){this._element=U,this._checker=j,this._ngZone=W,this._document=ve,this._injector=wt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ze||this.attachAnchors()}destroy(){const U=this._startAnchor,j=this._endAnchor;U&&(U.removeEventListener("focus",this.startAnchorListener),U.remove()),j&&(j.removeEventListener("focus",this.endAnchorListener),j.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(U){return new Promise(j=>{this._executeOnStable(()=>j(this.focusInitialElement(U)))})}focusFirstTabbableElementWhenReady(U){return new Promise(j=>{this._executeOnStable(()=>j(this.focusFirstTabbableElement(U)))})}focusLastTabbableElementWhenReady(U){return new Promise(j=>{this._executeOnStable(()=>j(this.focusLastTabbableElement(U)))})}_getRegionBoundary(U){const j=this._element.querySelectorAll(`[cdk-focus-region-${U}], [cdkFocusRegion${U}], [cdk-focus-${U}]`);return"start"==U?j.length?j[0]:this._getFirstTabbableElement(this._element):j.length?j[j.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(U){const j=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(j){if(!this._checker.isFocusable(j)){const W=this._getFirstTabbableElement(j);return W?.focus(U),!!W}return j.focus(U),!0}return this.focusFirstTabbableElement(U)}focusFirstTabbableElement(U){const j=this._getRegionBoundary("start");return j&&j.focus(U),!!j}focusLastTabbableElement(U){const j=this._getRegionBoundary("end");return j&&j.focus(U),!!j}hasAttached(){return this._hasAttached}_getFirstTabbableElement(U){if(this._checker.isFocusable(U)&&this._checker.isTabbable(U))return U;const j=U.children;for(let W=0;W<j.length;W++){const ve=j[W].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(j[W]):null;if(ve)return ve}return null}_getLastTabbableElement(U){if(this._checker.isFocusable(U)&&this._checker.isTabbable(U))return U;const j=U.children;for(let W=j.length-1;W>=0;W--){const ve=j[W].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(j[W]):null;if(ve)return ve}return null}_createAnchor(){const U=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,U),U.classList.add("cdk-visually-hidden"),U.classList.add("cdk-focus-trap-anchor"),U.setAttribute("aria-hidden","true"),U}_toggleAnchorTabIndex(U,j){U?j.setAttribute("tabindex","0"):j.removeAttribute("tabindex")}toggleAnchors(U){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(U,this._startAnchor),this._toggleAnchorTabIndex(U,this._endAnchor))}_executeOnStable(U){this._injector?(0,e.mal)(U,{injector:this._injector}):setTimeout(U)}}let Wt=(()=>{class L{constructor(j,W,ve){this._checker=j,this._ngZone=W,this._injector=(0,e.WQX)(e.zZn),this._document=ve}create(j,W=!1){return new vt(j,this._checker,this._ngZone,this._document,W,this._injector)}static{this.\u0275fac=function(W){return new(W||L)(e.KVO(Xe),e.KVO(e.SKi),e.KVO(v.q))}}static{this.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})();function sn(L){return 0===L.buttons||0===L.detail}function Hi(L){const U=L.touches&&L.touches[0]||L.changedTouches&&L.changedTouches[0];return!(!U||-1!==U.identifier||null!=U.radiusX&&1!==U.radiusX||null!=U.radiusY&&1!==U.radiusY)}const Nn=new e.nKC("cdk-input-modality-detector-options"),zi={ignoreKeys:[N.A$,N.W3,N.eg,N.Ge,N.FX]},Ye=(0,S.BQ)({passive:!0,capture:!0});let Oe=(()=>{class L{get mostRecentModality(){return this._modality.value}constructor(j,W,ve,Ze){this._platform=j,this._mostRecentTarget=null,this._modality=new te.t(null),this._lastTouchMs=0,this._onKeydown=wt=>{this._options?.ignoreKeys?.some(en=>en===wt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,S.Fb)(wt))},this._onMousedown=wt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sn(wt)?"keyboard":"mouse"),this._mostRecentTarget=(0,S.Fb)(wt))},this._onTouchstart=wt=>{Hi(wt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,S.Fb)(wt))},this._options={...zi,...Ze},this.modalityDetected=this._modality.pipe(rt(1)),this.modalityChanged=this.modalityDetected.pipe((0,We.F)()),j.isBrowser&&W.runOutsideAngular(()=>{ve.addEventListener("keydown",this._onKeydown,Ye),ve.addEventListener("mousedown",this._onMousedown,Ye),ve.addEventListener("touchstart",this._onTouchstart,Ye)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ye),document.removeEventListener("mousedown",this._onMousedown,Ye),document.removeEventListener("touchstart",this._onTouchstart,Ye))}static{this.\u0275fac=function(W){return new(W||L)(e.KVO(S.OD),e.KVO(e.SKi),e.KVO(v.q),e.KVO(Nn,8))}}static{this.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})();const ee=new e.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Te(){return null}}),ot=new e.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let zt=0,jn=(()=>{class L{constructor(j,W,ve,Ze){this._ngZone=W,this._defaultOptions=Ze,this._document=ve,this._liveElement=j||this._createLiveElement()}announce(j,...W){const ve=this._defaultOptions;let Ze,wt;return 1===W.length&&"number"==typeof W[0]?wt=W[0]:[Ze,wt]=W,this.clear(),clearTimeout(this._previousTimeout),Ze||(Ze=ve&&ve.politeness?ve.politeness:"polite"),null==wt&&ve&&(wt=ve.duration),this._liveElement.setAttribute("aria-live",Ze),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(en=>this._currentResolve=en)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=j,"number"==typeof wt&&(this._previousTimeout=setTimeout(()=>this.clear(),wt)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const j="cdk-live-announcer-element",W=this._document.getElementsByClassName(j),ve=this._document.createElement("div");for(let Ze=0;Ze<W.length;Ze++)W[Ze].remove();return ve.classList.add(j),ve.classList.add("cdk-visually-hidden"),ve.setAttribute("aria-atomic","true"),ve.setAttribute("aria-live","polite"),ve.id="cdk-live-announcer-"+zt++,this._document.body.appendChild(ve),ve}_exposeAnnouncerToModals(j){const W=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ve=0;ve<W.length;ve++){const Ze=W[ve],wt=Ze.getAttribute("aria-owns");wt?-1===wt.indexOf(j)&&Ze.setAttribute("aria-owns",wt+" "+j):Ze.setAttribute("aria-owns",j)}}static{this.\u0275fac=function(W){return new(W||L)(e.KVO(ee,8),e.KVO(e.SKi),e.KVO(v.q),e.KVO(ot,8))}}static{this.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})();var er=function(L){return L[L.IMMEDIATE=0]="IMMEDIATE",L[L.EVENTUAL=1]="EVENTUAL",L}(er||{});const Ii=new e.nKC("cdk-focus-monitor-default-options"),ni=(0,S.BQ)({passive:!0,capture:!0});let kr=(()=>{class L{constructor(j,W,ve,Ze,wt){this._ngZone=j,this._platform=W,this._inputModalityDetector=ve,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne.B,this._rootNodeFocusAndBlurListener=en=>{for(let Cn=(0,S.Fb)(en);Cn;Cn=Cn.parentElement)"focus"===en.type?this._onFocus(en,Cn):this._onBlur(en,Cn)},this._document=Ze,this._detectionMode=wt?.detectionMode||er.IMMEDIATE}monitor(j,W=!1){const ve=(0,Ce.i8)(j);if(!this._platform.isBrowser||1!==ve.nodeType)return(0,ce.of)();const Ze=(0,S.KT)(ve)||this._getDocument(),wt=this._elementInfo.get(ve);if(wt)return W&&(wt.checkChildren=!0),wt.subject;const en={checkChildren:W,subject:new ne.B,rootNode:Ze};return this._elementInfo.set(ve,en),this._registerGlobalListeners(en),en.subject}stopMonitoring(j){const W=(0,Ce.i8)(j),ve=this._elementInfo.get(W);ve&&(ve.subject.complete(),this._setClasses(W),this._elementInfo.delete(W),this._removeGlobalListeners(ve))}focusVia(j,W,ve){const Ze=(0,Ce.i8)(j);Ze===this._getDocument().activeElement?this._getClosestElementsInfo(Ze).forEach(([en,kn])=>this._originChanged(en,W,kn)):(this._setOrigin(W),"function"==typeof Ze.focus&&Ze.focus(ve))}ngOnDestroy(){this._elementInfo.forEach((j,W)=>this.stopMonitoring(W))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(j){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(j)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:j&&this._isLastInteractionFromInputLabel(j)?"mouse":"program"}_shouldBeAttributedToTouch(j){return this._detectionMode===er.EVENTUAL||!!j?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(j,W){j.classList.toggle("cdk-focused",!!W),j.classList.toggle("cdk-touch-focused","touch"===W),j.classList.toggle("cdk-keyboard-focused","keyboard"===W),j.classList.toggle("cdk-mouse-focused","mouse"===W),j.classList.toggle("cdk-program-focused","program"===W)}_setOrigin(j,W=!1){this._ngZone.runOutsideAngular(()=>{this._origin=j,this._originFromTouchInteraction="touch"===j&&W,this._detectionMode===er.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(j,W){const ve=this._elementInfo.get(W),Ze=(0,S.Fb)(j);!ve||!ve.checkChildren&&W!==Ze||this._originChanged(W,this._getFocusOrigin(Ze),ve)}_onBlur(j,W){const ve=this._elementInfo.get(W);!ve||ve.checkChildren&&j.relatedTarget instanceof Node&&W.contains(j.relatedTarget)||(this._setClasses(W),this._emitOrigin(ve,null))}_emitOrigin(j,W){j.subject.observers.length&&this._ngZone.run(()=>j.subject.next(W))}_registerGlobalListeners(j){if(!this._platform.isBrowser)return;const W=j.rootNode,ve=this._rootNodeFocusListenerCount.get(W)||0;ve||this._ngZone.runOutsideAngular(()=>{W.addEventListener("focus",this._rootNodeFocusAndBlurListener,ni),W.addEventListener("blur",this._rootNodeFocusAndBlurListener,ni)}),this._rootNodeFocusListenerCount.set(W,ve+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,He.Q)(this._stopInputModalityDetector)).subscribe(Ze=>{this._setOrigin(Ze,!0)}))}_removeGlobalListeners(j){const W=j.rootNode;if(this._rootNodeFocusListenerCount.has(W)){const ve=this._rootNodeFocusListenerCount.get(W);ve>1?this._rootNodeFocusListenerCount.set(W,ve-1):(W.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ni),W.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ni),this._rootNodeFocusListenerCount.delete(W))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(j,W,ve){this._setClasses(j,W),this._emitOrigin(ve,W),this._lastFocusOrigin=W}_getClosestElementsInfo(j){const W=[];return this._elementInfo.forEach((ve,Ze)=>{(Ze===j||ve.checkChildren&&Ze.contains(j))&&W.push([Ze,ve])}),W}_isLastInteractionFromInputLabel(j){const{_mostRecentTarget:W,mostRecentModality:ve}=this._inputModalityDetector;if("mouse"!==ve||!W||W===j||"INPUT"!==j.nodeName&&"TEXTAREA"!==j.nodeName||j.disabled)return!1;const Ze=j.labels;if(Ze)for(let wt=0;wt<Ze.length;wt++)if(Ze[wt].contains(W))return!0;return!1}static{this.\u0275fac=function(W){return new(W||L)(e.KVO(e.SKi),e.KVO(S.OD),e.KVO(Oe),e.KVO(v.q,8),e.KVO(Ii,8))}}static{this.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})();var ii=function(L){return L[L.NONE=0]="NONE",L[L.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",L[L.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",L}(ii||{});const sr="cdk-high-contrast-black-on-white",Ci="cdk-high-contrast-white-on-black",K="cdk-high-contrast-active";let ie=(()=>{class L{constructor(j,W){this._platform=j,this._document=W,this._breakpointSubscription=(0,e.WQX)(lt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ii.NONE;const j=this._document.createElement("div");j.style.backgroundColor="rgb(1,2,3)",j.style.position="absolute",this._document.body.appendChild(j);const W=this._document.defaultView||window,ve=W&&W.getComputedStyle?W.getComputedStyle(j):null,Ze=(ve&&ve.backgroundColor||"").replace(/ /g,"");switch(j.remove(),Ze){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ii.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ii.BLACK_ON_WHITE}return ii.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const j=this._document.body.classList;j.remove(K,sr,Ci),this._hasCheckedHighContrastMode=!0;const W=this.getHighContrastMode();W===ii.BLACK_ON_WHITE?j.add(K,sr):W===ii.WHITE_ON_BLACK&&j.add(K,Ci)}}static{this.\u0275fac=function(W){return new(W||L)(e.KVO(S.OD),e.KVO(v.q))}}static{this.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})(),pe=(()=>{class L{constructor(j){j._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(W){return new(W||L)(e.KVO(ie))}}static{this.\u0275mod=e.$C({type:L})}static{this.\u0275inj=e.G2t({imports:[_e.w5]})}}return L})()},8496:(ht,xe,D)=>{function v(e,S){return e.reduce((N,ne,R)=>(N[ne]=S[R],N),{})}D.d(xe,{e:()=>v})},8750:(ht,xe,D)=>{D.d(xe,{Tg:()=>Me});var v=D(1635),e=D(7441),S=D(9858),N=D(1985),ne=D(5055),R=D(7953),q=D(591),ce=D(5397),te=D(5196),le=D(8071),me=D(5334),ke=D(3494);function Me(tt){if(tt instanceof N.c)return tt;if(null!=tt){if((0,ne.l)(tt))return function Ie(tt){return new N.c(_e=>{const Ce=tt[ke.s]();if((0,le.T)(Ce.subscribe))return Ce.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,e.X)(tt))return function Ne(tt){return new N.c(_e=>{for(let Ce=0;Ce<tt.length&&!_e.closed;Ce++)_e.next(tt[Ce]);_e.complete()})}(tt);if((0,S.y)(tt))return function ze(tt){return new N.c(_e=>{tt.then(Ce=>{_e.closed||(_e.next(Ce),_e.complete())},Ce=>_e.error(Ce)).then(null,me.m)})}(tt);if((0,R.T)(tt))return rt(tt);if((0,ce.x)(tt))return function Le(tt){return new N.c(_e=>{for(const Ce of tt)if(_e.next(Ce),_e.closed)return;_e.complete()})}(tt);if((0,te.U)(tt))return function We(tt){return rt((0,te.C)(tt))}(tt)}throw(0,q.L)(tt)}function rt(tt){return new N.c(_e=>{(function He(tt,_e){var Ce,be,we,Ve;return(0,v.sH)(this,void 0,void 0,function*(){try{for(Ce=(0,v.xN)(tt);!(be=yield Ce.next()).done;)if(_e.next(be.value),_e.closed)return}catch(pt){we={error:pt}}finally{try{be&&!be.done&&(Ve=Ce.return)&&(yield Ve.call(Ce))}finally{if(we)throw we.error}}_e.complete()})})(tt,_e).catch(Ce=>_e.error(Ce))})}},8793:(ht,xe,D)=>{D.d(xe,{x:()=>ne});var v=D(6365),S=D(9326),N=D(6648);function ne(...R){return function e(){return(0,v.U)(1)}()((0,N.H)(R,(0,S.lI)(R)))}},8810:(ht,xe,D)=>{D.d(xe,{$:()=>S});var v=D(1985),e=D(8071);function S(N,ne){const R=(0,e.T)(N)?N:()=>N,q=ce=>ce.error(R());return new v.c(ne?ce=>ne.schedule(q,0,ce):q)}},9030:(ht,xe,D)=>{D.d(xe,{v:()=>S});var v=D(1985),e=D(8750);function S(N){return new v.c(ne=>{(0,e.Tg)(N()).subscribe(ne)})}},9172:(ht,xe,D)=>{D.d(xe,{Z:()=>N});var v=D(8793),e=D(9326),S=D(9974);function N(...ne){const R=(0,e.lI)(ne);return(0,S.N)((q,ce)=>{(R?(0,v.x)(ne,q,R):(0,v.x)(ne,q)).subscribe(ce)})}},9270:(ht,xe,D)=>{D.d(xe,{f:()=>v});const v={setTimeout(e,S,...N){const{delegate:ne}=v;return ne?.setTimeout?ne.setTimeout(e,S,...N):setTimeout(e,S,...N)},clearTimeout(e){const{delegate:S}=v;return(S?.clearTimeout||clearTimeout)(e)},delegate:void 0}},9326:(ht,xe,D)=>{D.d(xe,{R0:()=>R,lI:()=>ne,ms:()=>N});var v=D(8071),e=D(9470);function S(q){return q[q.length-1]}function N(q){return(0,v.T)(S(q))?q.pop():void 0}function ne(q){return(0,e.m)(S(q))?q.pop():void 0}function R(q,ce){return"number"==typeof S(q)?q.pop():ce}},9350:(ht,xe,D)=>{D.d(xe,{G:()=>e});const e=(0,D(1853).L)(S=>function(){S(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(ht,xe,D)=>{D.d(xe,{q:()=>e});const e=new(D(1360).nKC)("")},9377:(ht,xe,D)=>{function v(q,ce){ce=encodeURIComponent(ce);for(const te of q.split(";")){const le=te.indexOf("="),[me,ke]=-1==le?[te,""]:[te.slice(0,le),te.slice(le+1)];if(me.trim()===ce)return decodeURIComponent(ke)}return null}D.d(xe,{N0:()=>R,UE:()=>N,Vy:()=>ne,Zn:()=>e,bS:()=>v});const e="browser",S="server";function N(q){return q===e}function ne(q){return q===S}class R{}},9417:(ht,xe,D)=>{D.d(xe,{BC:()=>fn,JD:()=>vo,MJ:()=>mo,Q0:()=>Wn,R_:()=>Fn,VZ:()=>Xi,X1:()=>Ta,YN:()=>ra,YS:()=>Lo,cV:()=>Or,cb:()=>Pn,gE:()=>jn,j4:()=>Wi,k0:()=>tt,l_:()=>eo,me:()=>Ne,ok:()=>so,qT:()=>ft,v8:()=>_o,vO:()=>Vn,vS:()=>ue,wz:()=>bo,xH:()=>yo,y7:()=>jo});var v=D(1360),e=D(6048),S=D(6648),N=D(7468),ne=D(1413),R=D(6354);let q=(()=>{class I{_renderer;_elementRef;onChange=E=>{};onTouched=()=>{};constructor(E,B){this._renderer=E,this._elementRef=B}setProperty(E,B){this._renderer.setProperty(this._elementRef.nativeElement,E,B)}registerOnTouched(E){this.onTouched=E}registerOnChange(E){this.onChange=E}setDisabledState(E){this.setProperty("disabled",E)}static \u0275fac=function(B){return new(B||I)(v.rXU(v.sFG),v.rXU(v.aKT))};static \u0275dir=v.FsC({type:I})}return I})(),ce=(()=>{class I extends q{static \u0275fac=(()=>{let E;return function(fe){return(E||(E=v.xGo(I)))(fe||I)}})();static \u0275dir=v.FsC({type:I,features:[v.Vt3]})}return I})();const te=new v.nKC(""),ke={provide:te,useExisting:(0,v.Rfq)(()=>Ne),multi:!0},Ie=new v.nKC("");let Ne=(()=>{class I extends q{_compositionMode;_composing=!1;constructor(E,B,fe){super(E,B),this._compositionMode=fe,null==this._compositionMode&&(this._compositionMode=!function Me(){const I=(0,e.rb)()?(0,e.rb)().getUserAgent():"";return/android (\d+)/.test(I.toLowerCase())}())}writeValue(E){this.setProperty("value",E??"")}_handleInput(E){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(E)}_compositionStart(){this._composing=!0}_compositionEnd(E){this._composing=!1,this._compositionMode&&this.onChange(E)}static \u0275fac=function(B){return new(B||I)(v.rXU(v.sFG),v.rXU(v.aKT),v.rXU(Ie,8))};static \u0275dir=v.FsC({type:I,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(B,fe){1&B&&v.bIt("input",function(pn){return fe._handleInput(pn.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(pn){return fe._compositionEnd(pn.target.value)})},standalone:!1,features:[v.Jv_([ke]),v.Vt3]})}return I})();function ze(I){return null==I||0===Le(I)}function Le(I){return null==I?null:Array.isArray(I)||"string"==typeof I?I.length:I instanceof Set?I.size:null}const rt=new v.nKC(""),We=new v.nKC(""),He=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tt{static min(T){return _e(T)}static max(T){return function Ce(I){return T=>{if(null==T.value||null==I)return null;const E=parseFloat(T.value);return!isNaN(E)&&E>I?{max:{max:I,actual:T.value}}:null}}(T)}static required(T){return be(T)}static requiredTrue(T){return function we(I){return!0===I.value?null:{required:!0}}(T)}static email(T){return function Ve(I){return ze(I.value)||He.test(I.value)?null:{email:!0}}(T)}static minLength(T){return function pt(I){return T=>{const E=T.value?.length??Le(T.value);return null===E||0===E?null:E<I?{minlength:{requiredLength:I,actualLength:E}}:null}}(T)}static maxLength(T){return function jt(I){return T=>{const E=T.value?.length??Le(T.value);return null!==E&&E>I?{maxlength:{requiredLength:I,actualLength:E}}:null}}(T)}static pattern(T){return it(T)}static nullValidator(T){return null}static compose(T){return hn(T)}static composeAsync(T){return Pe(T)}}function _e(I){return T=>{if(null==T.value||null==I)return null;const E=parseFloat(T.value);return!isNaN(E)&&E<I?{min:{min:I,actual:T.value}}:null}}function be(I){return ze(I.value)?{required:!0}:null}function it(I){if(!I)return At;let T,E;return"string"==typeof I?(E="","^"!==I.charAt(0)&&(E+="^"),E+=I,"$"!==I.charAt(I.length-1)&&(E+="$"),T=new RegExp(E)):(E=I.toString(),T=I),B=>{if(ze(B.value))return null;const fe=B.value;return T.test(fe)?null:{pattern:{requiredPattern:E,actualValue:fe}}}}function At(I){return null}function dn(I){return null!=I}function yt(I){return(0,v.jNT)(I)?(0,S.H)(I):I}function Lt(I){let T={};return I.forEach(E=>{T=null!=E?{...T,...E}:T}),0===Object.keys(T).length?null:T}function lt(I,T){return T.map(E=>E(I))}function un(I){return I.map(T=>function Ot(I){return!I.validate}(T)?T:E=>T.validate(E))}function hn(I){if(!I)return null;const T=I.filter(dn);return 0==T.length?null:function(E){return Lt(lt(E,T))}}function Se(I){return null!=I?hn(un(I)):null}function Pe(I){if(!I)return null;const T=I.filter(dn);return 0==T.length?null:function(E){const B=lt(E,T).map(yt);return(0,N.p)(B).pipe((0,R.T)(Lt))}}function je(I){return null!=I?Pe(un(I)):null}function Be(I,T){return null===I?[T]:Array.isArray(I)?[...I,T]:[I,T]}function Fe(I){return I._rawValidators}function et(I){return I._rawAsyncValidators}function Dt(I){return I?Array.isArray(I)?I:[I]:[]}function Pt(I,T){return Array.isArray(I)?I.includes(T):I===T}function In(I,T){const E=Dt(T);return Dt(I).forEach(fe=>{Pt(E,fe)||E.push(fe)}),E}function xt(I,T){return Dt(T).filter(E=>!Pt(I,E))}class Jt{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(T){this._rawValidators=T||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(T){this._rawAsyncValidators=T||[],this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(T){this._onDestroyCallbacks.push(T)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(T=>T()),this._onDestroyCallbacks=[]}reset(T=void 0){this.control&&this.control.reset(T)}hasError(T,E){return!!this.control&&this.control.hasError(T,E)}getError(T,E){return this.control?this.control.getError(T,E):null}}class St extends Jt{name;get formDirective(){return null}get path(){return null}}class Vn extends Jt{_parent=null;name=null;valueAccessor=null}class qt{_cd;constructor(T){this._cd=T}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let fn=(()=>{class I extends qt{constructor(E){super(E)}static \u0275fac=function(B){return new(B||I)(v.rXU(Vn,2))};static \u0275dir=v.FsC({type:I,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(B,fe){2&B&&v.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)},standalone:!1,features:[v.Vt3]})}return I})(),Pn=(()=>{class I extends qt{constructor(E){super(E)}static \u0275fac=function(B){return new(B||I)(v.rXU(St,10))};static \u0275dir=v.FsC({type:I,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(B,fe){2&B&&v.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)("ng-submitted",fe.isSubmitted)},standalone:!1,features:[v.Vt3]})}return I})();const vt="VALID",Wt="INVALID",Ht="PENDING",ln="DISABLED";class or{}class qn extends or{value;source;constructor(T,E){super(),this.value=T,this.source=E}}class fr extends or{pristine;source;constructor(T,E){super(),this.pristine=T,this.source=E}}class Yr extends or{touched;source;constructor(T,E){super(),this.touched=T,this.source=E}}class sn extends or{status;source;constructor(T,E){super(),this.status=T,this.source=E}}class Hi extends or{source;constructor(T){super(),this.source=T}}class Nn extends or{source;constructor(T){super(),this.source=T}}function zi(I){return(ee(I)?I.validators:I)||null}function Ye(I,T){return(ee(T)?T.asyncValidators:I)||null}function ee(I){return null!=I&&!Array.isArray(I)&&"object"==typeof I}function Te(I,T,E){const B=I.controls;if(!(T?Object.keys(B):B).length)throw new v.wOt(1e3,"");if(!B[E])throw new v.wOt(1001,"")}function ot(I,T,E){I._forEachChild((B,fe)=>{if(void 0===E[fe])throw new v.wOt(1002,"")})}class zt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(T,E){this._assignValidators(T),this._assignAsyncValidators(E)}get validator(){return this._composedValidatorFn}set validator(T){this._rawValidators=this._composedValidatorFn=T}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(T){this._rawAsyncValidators=this._composedAsyncValidatorFn=T}get parent(){return this._parent}get status(){return(0,v.O8t)(this.statusReactive)}set status(T){(0,v.O8t)(()=>this.statusReactive.set(T))}_status=(0,v.EWP)(()=>this.statusReactive());statusReactive=(0,v.vPA)(void 0);get valid(){return this.status===vt}get invalid(){return this.status===Wt}get pending(){return this.status==Ht}get disabled(){return this.status===ln}get enabled(){return this.status!==ln}errors;get pristine(){return(0,v.O8t)(this.pristineReactive)}set pristine(T){(0,v.O8t)(()=>this.pristineReactive.set(T))}_pristine=(0,v.EWP)(()=>this.pristineReactive());pristineReactive=(0,v.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,v.O8t)(this.touchedReactive)}set touched(T){(0,v.O8t)(()=>this.touchedReactive.set(T))}_touched=(0,v.EWP)(()=>this.touchedReactive());touchedReactive=(0,v.vPA)(!1);get untouched(){return!this.touched}_events=new ne.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(T){this._assignValidators(T)}setAsyncValidators(T){this._assignAsyncValidators(T)}addValidators(T){this.setValidators(In(T,this._rawValidators))}addAsyncValidators(T){this.setAsyncValidators(In(T,this._rawAsyncValidators))}removeValidators(T){this.setValidators(xt(T,this._rawValidators))}removeAsyncValidators(T){this.setAsyncValidators(xt(T,this._rawAsyncValidators))}hasValidator(T){return Pt(this._rawValidators,T)}hasAsyncValidator(T){return Pt(this._rawAsyncValidators,T)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(T={}){const E=!1===this.touched;this.touched=!0;const B=T.sourceControl??this;this._parent&&!T.onlySelf&&this._parent.markAsTouched({...T,sourceControl:B}),E&&!1!==T.emitEvent&&this._events.next(new Yr(!0,B))}markAllAsTouched(T={}){this.markAsTouched({onlySelf:!0,emitEvent:T.emitEvent,sourceControl:this}),this._forEachChild(E=>E.markAllAsTouched(T))}markAsUntouched(T={}){const E=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const B=T.sourceControl??this;this._forEachChild(fe=>{fe.markAsUntouched({onlySelf:!0,emitEvent:T.emitEvent,sourceControl:B})}),this._parent&&!T.onlySelf&&this._parent._updateTouched(T,B),E&&!1!==T.emitEvent&&this._events.next(new Yr(!1,B))}markAsDirty(T={}){const E=!0===this.pristine;this.pristine=!1;const B=T.sourceControl??this;this._parent&&!T.onlySelf&&this._parent.markAsDirty({...T,sourceControl:B}),E&&!1!==T.emitEvent&&this._events.next(new fr(!1,B))}markAsPristine(T={}){const E=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const B=T.sourceControl??this;this._forEachChild(fe=>{fe.markAsPristine({onlySelf:!0,emitEvent:T.emitEvent})}),this._parent&&!T.onlySelf&&this._parent._updatePristine(T,B),E&&!1!==T.emitEvent&&this._events.next(new fr(!0,B))}markAsPending(T={}){this.status=Ht;const E=T.sourceControl??this;!1!==T.emitEvent&&(this._events.next(new sn(this.status,E)),this.statusChanges.emit(this.status)),this._parent&&!T.onlySelf&&this._parent.markAsPending({...T,sourceControl:E})}disable(T={}){const E=this._parentMarkedDirty(T.onlySelf);this.status=ln,this.errors=null,this._forEachChild(fe=>{fe.disable({...T,onlySelf:!0})}),this._updateValue();const B=T.sourceControl??this;!1!==T.emitEvent&&(this._events.next(new qn(this.value,B)),this._events.next(new sn(this.status,B)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...T,skipPristineCheck:E},this),this._onDisabledChange.forEach(fe=>fe(!0))}enable(T={}){const E=this._parentMarkedDirty(T.onlySelf);this.status=vt,this._forEachChild(B=>{B.enable({...T,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent}),this._updateAncestors({...T,skipPristineCheck:E},this),this._onDisabledChange.forEach(B=>B(!1))}_updateAncestors(T,E){this._parent&&!T.onlySelf&&(this._parent.updateValueAndValidity(T),T.skipPristineCheck||this._parent._updatePristine({},E),this._parent._updateTouched({},E))}setParent(T){this._parent=T}getRawValue(){return this.value}updateValueAndValidity(T={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const B=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vt||this.status===Ht)&&this._runAsyncValidator(B,T.emitEvent)}const E=T.sourceControl??this;!1!==T.emitEvent&&(this._events.next(new qn(this.value,E)),this._events.next(new sn(this.status,E)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!T.onlySelf&&this._parent.updateValueAndValidity({...T,sourceControl:E})}_updateTreeValidity(T={emitEvent:!0}){this._forEachChild(E=>E._updateTreeValidity(T)),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ln:vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(T,E){if(this.asyncValidator){this.status=Ht,this._hasOwnPendingAsyncValidator={emitEvent:!1!==E};const B=yt(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(fe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(fe,{emitEvent:E,shouldHaveEmitted:T})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const T=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,T}return!1}setErrors(T,E={}){this.errors=T,this._updateControlsErrors(!1!==E.emitEvent,this,E.shouldHaveEmitted)}get(T){let E=T;return null==E||(Array.isArray(E)||(E=E.split(".")),0===E.length)?null:E.reduce((B,fe)=>B&&B._find(fe),this)}getError(T,E){const B=E?this.get(E):this;return B&&B.errors?B.errors[T]:null}hasError(T,E){return!!this.getError(T,E)}get root(){let T=this;for(;T._parent;)T=T._parent;return T}_updateControlsErrors(T,E,B){this.status=this._calculateStatus(),T&&this.statusChanges.emit(this.status),(T||B)&&this._events.next(new sn(this.status,E)),this._parent&&this._parent._updateControlsErrors(T,E,B)}_initObservables(){this.valueChanges=new v.bkB,this.statusChanges=new v.bkB}_calculateStatus(){return this._allControlsDisabled()?ln:this.errors?Wt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ht)?Ht:this._anyControlsHaveStatus(Wt)?Wt:vt}_anyControlsHaveStatus(T){return this._anyControls(E=>E.status===T)}_anyControlsDirty(){return this._anyControls(T=>T.dirty)}_anyControlsTouched(){return this._anyControls(T=>T.touched)}_updatePristine(T,E){const B=!this._anyControlsDirty(),fe=this.pristine!==B;this.pristine=B,this._parent&&!T.onlySelf&&this._parent._updatePristine(T,E),fe&&this._events.next(new fr(this.pristine,E))}_updateTouched(T={},E){this.touched=this._anyControlsTouched(),this._events.next(new Yr(this.touched,E)),this._parent&&!T.onlySelf&&this._parent._updateTouched(T,E)}_onDisabledChange=[];_registerOnCollectionChange(T){this._onCollectionChange=T}_setUpdateStrategy(T){ee(T)&&null!=T.updateOn&&(this._updateOn=T.updateOn)}_parentMarkedDirty(T){return!T&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(T){return null}_assignValidators(T){this._rawValidators=Array.isArray(T)?T.slice():T,this._composedValidatorFn=function Qr(I){return Array.isArray(I)?Se(I):I||null}(this._rawValidators)}_assignAsyncValidators(T){this._rawAsyncValidators=Array.isArray(T)?T.slice():T,this._composedAsyncValidatorFn=function Oe(I){return Array.isArray(I)?je(I):I||null}(this._rawAsyncValidators)}}class jn extends zt{constructor(T,E,B){super(zi(E),Ye(B,E)),this.controls=T,this._initObservables(),this._setUpdateStrategy(E),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(T,E){return this.controls[T]?this.controls[T]:(this.controls[T]=E,E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange),E)}addControl(T,E,B={}){this.registerControl(T,E),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}removeControl(T,E={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),delete this.controls[T],this.updateValueAndValidity({emitEvent:E.emitEvent}),this._onCollectionChange()}setControl(T,E,B={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),delete this.controls[T],E&&this.registerControl(T,E),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}contains(T){return this.controls.hasOwnProperty(T)&&this.controls[T].enabled}setValue(T,E={}){ot(this,0,T),Object.keys(T).forEach(B=>{Te(this,!0,B),this.controls[B].setValue(T[B],{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E)}patchValue(T,E={}){null!=T&&(Object.keys(T).forEach(B=>{const fe=this.controls[B];fe&&fe.patchValue(T[B],{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E))}reset(T={},E={}){this._forEachChild((B,fe)=>{B.reset(T?T[fe]:null,{onlySelf:!0,emitEvent:E.emitEvent})}),this._updatePristine(E,this),this._updateTouched(E,this),this.updateValueAndValidity(E)}getRawValue(){return this._reduceChildren({},(T,E,B)=>(T[B]=E.getRawValue(),T))}_syncPendingControls(){let T=this._reduceChildren(!1,(E,B)=>!!B._syncPendingControls()||E);return T&&this.updateValueAndValidity({onlySelf:!0}),T}_forEachChild(T){Object.keys(this.controls).forEach(E=>{const B=this.controls[E];B&&T(B,E)})}_setUpControls(){this._forEachChild(T=>{T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(T){for(const[E,B]of Object.entries(this.controls))if(this.contains(E)&&T(B))return!0;return!1}_reduceValue(){return this._reduceChildren({},(E,B,fe)=>((B.enabled||this.disabled)&&(E[fe]=B.value),E))}_reduceChildren(T,E){let B=T;return this._forEachChild((fe,Ft)=>{B=E(B,fe,Ft)}),B}_allControlsDisabled(){for(const T of Object.keys(this.controls))if(this.controls[T].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(T){return this.controls.hasOwnProperty(T)?this.controls[T]:null}}class ni extends jn{}const Pi=new v.nKC("",{providedIn:"root",factory:()=>ii}),ii="always";function sr(I,T){return[...T.path,I]}function Ci(I,T,E=ii){L(I,T),T.valueAccessor.writeValue(I.value),(I.disabled||"always"===E)&&T.valueAccessor.setDisabledState?.(I.disabled),function j(I,T){T.valueAccessor.registerOnChange(E=>{I._pendingValue=E,I._pendingChange=!0,I._pendingDirty=!0,"change"===I.updateOn&&ve(I,T)})}(I,T),function Ze(I,T){const E=(B,fe)=>{T.valueAccessor.writeValue(B),fe&&T.viewToModelUpdate(B)};I.registerOnChange(E),T._registerOnDestroy(()=>{I._unregisterOnChange(E)})}(I,T),function W(I,T){T.valueAccessor.registerOnTouched(()=>{I._pendingTouched=!0,"blur"===I.updateOn&&I._pendingChange&&ve(I,T),"submit"!==I.updateOn&&I.markAsTouched()})}(I,T),function pe(I,T){if(T.valueAccessor.setDisabledState){const E=B=>{T.valueAccessor.setDisabledState(B)};I.registerOnDisabledChange(E),T._registerOnDestroy(()=>{I._unregisterOnDisabledChange(E)})}}(I,T)}function K(I,T,E=!0){const B=()=>{};T.valueAccessor&&(T.valueAccessor.registerOnChange(B),T.valueAccessor.registerOnTouched(B)),U(I,T),I&&(T._invokeOnDestroyCallbacks(),I._registerOnCollectionChange(()=>{}))}function ie(I,T){I.forEach(E=>{E.registerOnValidatorChange&&E.registerOnValidatorChange(T)})}function L(I,T){const E=Fe(I);null!==T.validator?I.setValidators(Be(E,T.validator)):"function"==typeof E&&I.setValidators([E]);const B=et(I);null!==T.asyncValidator?I.setAsyncValidators(Be(B,T.asyncValidator)):"function"==typeof B&&I.setAsyncValidators([B]);const fe=()=>I.updateValueAndValidity();ie(T._rawValidators,fe),ie(T._rawAsyncValidators,fe)}function U(I,T){let E=!1;if(null!==I){if(null!==T.validator){const fe=Fe(I);if(Array.isArray(fe)&&fe.length>0){const Ft=fe.filter(pn=>pn!==T.validator);Ft.length!==fe.length&&(E=!0,I.setValidators(Ft))}}if(null!==T.asyncValidator){const fe=et(I);if(Array.isArray(fe)&&fe.length>0){const Ft=fe.filter(pn=>pn!==T.asyncValidator);Ft.length!==fe.length&&(E=!0,I.setAsyncValidators(Ft))}}}const B=()=>{};return ie(T._rawValidators,B),ie(T._rawAsyncValidators,B),E}function ve(I,T){I._pendingDirty&&I.markAsDirty(),I.setValue(I._pendingValue,{emitModelToViewChange:!1}),T.viewToModelUpdate(I._pendingValue),I._pendingChange=!1}function wt(I,T){L(I,T)}function En(I,T){if(!I.hasOwnProperty("model"))return!1;const E=I.model;return!!E.isFirstChange()||!Object.is(T,E.currentValue)}function Li(I,T){I._syncPendingControls(),T.forEach(E=>{const B=E.control;"submit"===B.updateOn&&B._pendingChange&&(E.viewToModelUpdate(B._pendingValue),B._pendingChange=!1)})}function Et(I,T){if(!T)return null;let E,B,fe;return Array.isArray(T),T.forEach(Ft=>{Ft.constructor===Ne?E=Ft:function Yn(I){return Object.getPrototypeOf(I.constructor)===ce}(Ft)?B=Ft:fe=Ft}),fe||B||E||null}const Zr={provide:St,useExisting:(0,v.Rfq)(()=>Or)},tr=Promise.resolve();let Or=(()=>{class I extends St{callSetDisabledState;get submitted(){return(0,v.O8t)(this.submittedReactive)}_submitted=(0,v.EWP)(()=>this.submittedReactive());submittedReactive=(0,v.vPA)(!1);_directives=new Set;form;ngSubmit=new v.bkB;options;constructor(E,B,fe){super(),this.callSetDisabledState=fe,this.form=new jn({},Se(E),je(B))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(E){tr.then(()=>{const B=this._findContainer(E.path);E.control=B.registerControl(E.name,E.control),Ci(E.control,E,this.callSetDisabledState),E.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(E)})}getControl(E){return this.form.get(E.path)}removeControl(E){tr.then(()=>{const B=this._findContainer(E.path);B&&B.removeControl(E.name),this._directives.delete(E)})}addFormGroup(E){tr.then(()=>{const B=this._findContainer(E.path),fe=new jn({});wt(fe,E),B.registerControl(E.name,fe),fe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(E){tr.then(()=>{const B=this._findContainer(E.path);B&&B.removeControl(E.name)})}getFormGroup(E){return this.form.get(E.path)}updateModel(E,B){tr.then(()=>{this.form.get(E.path).setValue(B)})}setValue(E){this.control.setValue(E)}onSubmit(E){return this.submittedReactive.set(!0),Li(this.form,this._directives),this.ngSubmit.emit(E),this.form._events.next(new Hi(this.control)),"dialog"===E?.target?.method}onReset(){this.resetForm()}resetForm(E=void 0){this.form.reset(E),this.submittedReactive.set(!1),this.form._events.next(new Nn(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(E){return E.pop(),E.length?this.form.get(E):this.form}static \u0275fac=function(B){return new(B||I)(v.rXU(rt,10),v.rXU(We,10),v.rXU(Pi,8))};static \u0275dir=v.FsC({type:I,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(B,fe){1&B&&v.bIt("submit",function(pn){return fe.onSubmit(pn)})("reset",function(){return fe.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[v.Jv_([Zr]),v.Vt3]})}return I})();function Tr(I,T){const E=I.indexOf(T);E>-1&&I.splice(E,1)}function ks(I){return"object"==typeof I&&null!==I&&2===Object.keys(I).length&&"value"in I&&"disabled"in I}const mo=class extends zt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(T=null,E,B){super(zi(E),Ye(B,E)),this._applyFormState(T),this._setUpdateStrategy(E),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ee(E)&&(E.nonNullable||E.initialValueIsDefault)&&(this.defaultValue=ks(T)?T.value:T)}setValue(T,E={}){this.value=this._pendingValue=T,this._onChange.length&&!1!==E.emitModelToViewChange&&this._onChange.forEach(B=>B(this.value,!1!==E.emitViewToModelChange)),this.updateValueAndValidity(E)}patchValue(T,E={}){this.setValue(T,E)}reset(T=this.defaultValue,E={}){this._applyFormState(T),this.markAsPristine(E),this.markAsUntouched(E),this.setValue(this.value,E),this._pendingChange=!1}_updateValue(){}_anyControls(T){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(T){this._onChange.push(T)}_unregisterOnChange(T){Tr(this._onChange,T)}registerOnDisabledChange(T){this._onDisabledChange.push(T)}_unregisterOnDisabledChange(T){Tr(this._onDisabledChange,T)}_forEachChild(T){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(T){ks(T)?(this.value=this._pendingValue=T.value,T.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=T}};let Bi=(()=>{class I extends St{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return sr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let E;return function(fe){return(E||(E=v.xGo(I)))(fe||I)}})();static \u0275dir=v.FsC({type:I,standalone:!1,features:[v.Vt3]})}return I})();const A={provide:Vn,useExisting:(0,v.Rfq)(()=>ue)},G=Promise.resolve();let ue=(()=>{class I extends Vn{_changeDetectorRef;callSetDisabledState;control=new mo;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new v.bkB;constructor(E,B,fe,Ft,pn,qi){super(),this._changeDetectorRef=pn,this.callSetDisabledState=qi,this._parent=E,this._setValidators(B),this._setAsyncValidators(fe),this.valueAccessor=Et(0,Ft)}ngOnChanges(E){if(this._checkForErrors(),!this._registered||"name"in E){if(this._registered&&(this._checkName(),this.formDirective)){const B=E.name.previousValue;this.formDirective.removeControl({name:B,path:this._getPath(B)})}this._setUpControl()}"isDisabled"in E&&this._updateDisabled(E),En(E,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(E){this.viewModel=E,this.update.emit(E)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ci(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(E){G.then(()=>{this.control.setValue(E,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(E){const B=E.isDisabled.currentValue,fe=0!==B&&(0,v.L39)(B);G.then(()=>{fe&&!this.control.disabled?this.control.disable():!fe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(E){return this._parent?sr(E,this._parent):[E]}static \u0275fac=function(B){return new(B||I)(v.rXU(St,9),v.rXU(rt,10),v.rXU(We,10),v.rXU(te,10),v.rXU(v.gRc,8),v.rXU(Pi,8))};static \u0275dir=v.FsC({type:I,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[v.Jv_([A]),v.Vt3,v.OA$]})}return I})(),ft=(()=>{class I{static \u0275fac=function(B){return new(B||I)};static \u0275dir=v.FsC({type:I,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return I})();const It={provide:te,useExisting:(0,v.Rfq)(()=>Wn),multi:!0};let Wn=(()=>{class I extends ce{writeValue(E){this.setProperty("value",E??"")}registerOnChange(E){this.onChange=B=>{E(""==B?null:parseFloat(B))}}static \u0275fac=(()=>{let E;return function(fe){return(E||(E=v.xGo(I)))(fe||I)}})();static \u0275dir=v.FsC({type:I,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(B,fe){1&B&&v.bIt("input",function(pn){return fe.onChange(pn.target.value)})("blur",function(){return fe.onTouched()})},standalone:!1,features:[v.Jv_([It]),v.Vt3]})}return I})();const Ln=new v.nKC(""),nr={provide:Vn,useExisting:(0,v.Rfq)(()=>eo)};let eo=(()=>{class I extends Vn{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(E){}model;update=new v.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(E,B,fe,Ft,pn){super(),this._ngModelWarningConfig=Ft,this.callSetDisabledState=pn,this._setValidators(E),this._setAsyncValidators(B),this.valueAccessor=Et(0,fe)}ngOnChanges(E){if(this._isControlChanged(E)){const B=E.form.previousValue;B&&K(B,this,!1),Ci(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}En(E,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&K(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(E){this.viewModel=E,this.update.emit(E)}_isControlChanged(E){return E.hasOwnProperty("form")}static \u0275fac=function(B){return new(B||I)(v.rXU(rt,10),v.rXU(We,10),v.rXU(te,10),v.rXU(Ln,8),v.rXU(Pi,8))};static \u0275dir=v.FsC({type:I,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[v.Jv_([nr]),v.Vt3,v.OA$]})}return I})();const go={provide:St,useExisting:(0,v.Rfq)(()=>Wi)};let Wi=(()=>{class I extends St{callSetDisabledState;get submitted(){return(0,v.O8t)(this._submittedReactive)}set submitted(E){this._submittedReactive.set(E)}_submitted=(0,v.EWP)(()=>this._submittedReactive());_submittedReactive=(0,v.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new v.bkB;constructor(E,B,fe){super(),this.callSetDisabledState=fe,this._setValidators(E),this._setAsyncValidators(B)}ngOnChanges(E){E.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(U(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(E){const B=this.form.get(E.path);return Ci(B,E,this.callSetDisabledState),B.updateValueAndValidity({emitEvent:!1}),this.directives.push(E),B}getControl(E){return this.form.get(E.path)}removeControl(E){K(E.control||null,E,!1),function Ei(I,T){const E=I.indexOf(T);E>-1&&I.splice(E,1)}(this.directives,E)}addFormGroup(E){this._setUpFormContainer(E)}removeFormGroup(E){this._cleanUpFormContainer(E)}getFormGroup(E){return this.form.get(E.path)}addFormArray(E){this._setUpFormContainer(E)}removeFormArray(E){this._cleanUpFormContainer(E)}getFormArray(E){return this.form.get(E.path)}updateModel(E,B){this.form.get(E.path).setValue(B)}onSubmit(E){return this._submittedReactive.set(!0),Li(this.form,this.directives),this.ngSubmit.emit(E),this.form._events.next(new Hi(this.control)),"dialog"===E?.target?.method}onReset(){this.resetForm()}resetForm(E=void 0){this.form.reset(E),this._submittedReactive.set(!1),this.form._events.next(new Nn(this.form))}_updateDomValue(){this.directives.forEach(E=>{const B=E.control,fe=this.form.get(E.path);B!==fe&&(K(B||null,E),(I=>I instanceof mo)(fe)&&(Ci(fe,E,this.callSetDisabledState),E.control=fe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(E){const B=this.form.get(E.path);wt(B,E),B.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(E){if(this.form){const B=this.form.get(E.path);B&&function en(I,T){return U(I,T)}(B,E)&&B.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){L(this.form,this),this._oldForm&&U(this._oldForm,this)}static \u0275fac=function(B){return new(B||I)(v.rXU(rt,10),v.rXU(We,10),v.rXU(Pi,8))};static \u0275dir=v.FsC({type:I,selectors:[["","formGroup",""]],hostBindings:function(B,fe){1&B&&v.bIt("submit",function(pn){return fe.onSubmit(pn)})("reset",function(){return fe.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[v.Jv_([go]),v.Vt3,v.OA$]})}return I})();const Dr={provide:St,useExisting:(0,v.Rfq)(()=>xr)};let xr=(()=>{class I extends Bi{name=null;constructor(E,B,fe){super(),this._parent=E,this._setValidators(B),this._setAsyncValidators(fe)}_checkParentType(){Ts(this._parent)}static \u0275fac=function(B){return new(B||I)(v.rXU(St,13),v.rXU(rt,10),v.rXU(We,10))};static \u0275dir=v.FsC({type:I,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[v.Jv_([Dr]),v.Vt3]})}return I})();const No={provide:St,useExisting:(0,v.Rfq)(()=>_o)};let _o=(()=>{class I extends St{_parent;name=null;constructor(E,B,fe){super(),this._parent=E,this._setValidators(B),this._setAsyncValidators(fe)}ngOnInit(){Ts(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return sr(null==this.name?this.name:this.name.toString(),this._parent)}static \u0275fac=function(B){return new(B||I)(v.rXU(St,13),v.rXU(rt,10),v.rXU(We,10))};static \u0275dir=v.FsC({type:I,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[v.Jv_([No]),v.Vt3]})}return I})();function Ts(I){return!(I instanceof xr||I instanceof Wi||I instanceof _o)}const Ps={provide:Vn,useExisting:(0,v.Rfq)(()=>vo)};let vo=(()=>{class I extends Vn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(E){}model;update=new v.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(E,B,fe,Ft,pn){super(),this._ngModelWarningConfig=pn,this._parent=E,this._setValidators(B),this._setAsyncValidators(fe),this.valueAccessor=Et(0,Ft)}ngOnChanges(E){this._added||this._setUpControl(),En(E,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(E){this.viewModel=E,this.update.emit(E)}get path(){return sr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(B){return new(B||I)(v.rXU(St,13),v.rXU(rt,10),v.rXU(We,10),v.rXU(te,10),v.rXU(Ln,8))};static \u0275dir=v.FsC({type:I,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[v.Jv_([Ps]),v.Vt3,v.OA$]})}return I})();const vi={provide:te,useExisting:(0,v.Rfq)(()=>bo),multi:!0};function ta(I,T){return null==I?`${T}`:(T&&"object"==typeof T&&(T="Object"),`${I}: ${T}`.slice(0,50))}let bo=(()=>{class I extends ce{value;_optionMap=new Map;_idCounter=0;set compareWith(E){this._compareWith=E}_compareWith=Object.is;writeValue(E){this.value=E;const fe=ta(this._getOptionId(E),E);this.setProperty("value",fe)}registerOnChange(E){this.onChange=B=>{this.value=this._getOptionValue(B),E(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(E){for(const B of this._optionMap.keys())if(this._compareWith(this._optionMap.get(B),E))return B;return null}_getOptionValue(E){const B=function Tt(I){return I.split(":")[0]}(E);return this._optionMap.has(B)?this._optionMap.get(B):E}static \u0275fac=(()=>{let E;return function(fe){return(E||(E=v.xGo(I)))(fe||I)}})();static \u0275dir=v.FsC({type:I,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(B,fe){1&B&&v.bIt("change",function(pn){return fe.onChange(pn.target.value)})("blur",function(){return fe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[v.Jv_([vi]),v.Vt3]})}return I})(),yo=(()=>{class I{_element;_renderer;_select;id;constructor(E,B,fe){this._element=E,this._renderer=B,this._select=fe,this._select&&(this.id=this._select._registerOption())}set ngValue(E){null!=this._select&&(this._select._optionMap.set(this.id,E),this._setElementValue(ta(this.id,E)),this._select.writeValue(this._select.value))}set value(E){this._setElementValue(E),this._select&&this._select.writeValue(this._select.value)}_setElementValue(E){this._renderer.setProperty(this._element.nativeElement,"value",E)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(B){return new(B||I)(v.rXU(v.aKT),v.rXU(v.sFG),v.rXU(bo,9))};static \u0275dir=v.FsC({type:I,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return I})();const rs={provide:te,useExisting:(0,v.Rfq)(()=>ia),multi:!0};function Rs(I,T){return null==I?`${T}`:("string"==typeof T&&(T=`'${T}'`),T&&"object"==typeof T&&(T="Object"),`${I}: ${T}`.slice(0,50))}let ia=(()=>{class I extends ce{value;_optionMap=new Map;_idCounter=0;set compareWith(E){this._compareWith=E}_compareWith=Object.is;writeValue(E){let B;if(this.value=E,Array.isArray(E)){const fe=E.map(Ft=>this._getOptionId(Ft));B=(Ft,pn)=>{Ft._setSelected(fe.indexOf(pn.toString())>-1)}}else B=(fe,Ft)=>{fe._setSelected(!1)};this._optionMap.forEach(B)}registerOnChange(E){this.onChange=B=>{const fe=[],Ft=B.selectedOptions;if(void 0!==Ft){const pn=Ft;for(let qi=0;qi<pn.length;qi++){const Eo=this._getOptionValue(pn[qi].value);fe.push(Eo)}}else{const pn=B.options;for(let qi=0;qi<pn.length;qi++){const js=pn[qi];if(js.selected){const Eo=this._getOptionValue(js.value);fe.push(Eo)}}}this.value=fe,E(fe)}}_registerOption(E){const B=(this._idCounter++).toString();return this._optionMap.set(B,E),B}_getOptionId(E){for(const B of this._optionMap.keys())if(this._compareWith(this._optionMap.get(B)._value,E))return B;return null}_getOptionValue(E){const B=function na(I){return I.split(":")[0]}(E);return this._optionMap.has(B)?this._optionMap.get(B)._value:E}static \u0275fac=(()=>{let E;return function(fe){return(E||(E=v.xGo(I)))(fe||I)}})();static \u0275dir=v.FsC({type:I,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(B,fe){1&B&&v.bIt("change",function(pn){return fe.onChange(pn.target)})("blur",function(){return fe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[v.Jv_([rs]),v.Vt3]})}return I})(),jo=(()=>{class I{_element;_renderer;_select;id;_value;constructor(E,B,fe){this._element=E,this._renderer=B,this._select=fe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(E){null!=this._select&&(this._value=E,this._setElementValue(Rs(this.id,E)),this._select.writeValue(this._select.value))}set value(E){this._select?(this._value=E,this._setElementValue(Rs(this.id,E)),this._select.writeValue(this._select.value)):this._setElementValue(E)}_setElementValue(E){this._renderer.setProperty(this._element.nativeElement,"value",E)}_setSelected(E){this._renderer.setProperty(this._element.nativeElement,"selected",E)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(B){return new(B||I)(v.rXU(v.aKT),v.rXU(v.sFG),v.rXU(ia,9))};static \u0275dir=v.FsC({type:I,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return I})();let pr=(()=>{class I{_validator=At;_onChange;_enabled;ngOnChanges(E){if(this.inputName in E){const B=this.normalizeInput(E[this.inputName].currentValue);this._enabled=this.enabled(B),this._validator=this._enabled?this.createValidator(B):At,this._onChange&&this._onChange()}}validate(E){return this._validator(E)}registerOnValidatorChange(E){this._onChange=E}enabled(E){return null!=E}static \u0275fac=function(B){return new(B||I)};static \u0275dir=v.FsC({type:I,features:[v.OA$]})}return I})();const ka={provide:rt,useExisting:(0,v.Rfq)(()=>Xi),multi:!0};let Xi=(()=>{class I extends pr{min;inputName="min";normalizeInput=E=>function xl(I){return"number"==typeof I?I:parseFloat(I)}(E);createValidator=E=>_e(E);static \u0275fac=(()=>{let E;return function(fe){return(E||(E=v.xGo(I)))(fe||I)}})();static \u0275dir=v.FsC({type:I,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(B,fe){2&B&&v.BMQ("min",fe._enabled?fe.min:null)},inputs:{min:"min"},standalone:!1,features:[v.Jv_([ka]),v.Vt3]})}return I})();const Co={provide:rt,useExisting:(0,v.Rfq)(()=>Lo),multi:!0};let Lo=(()=>{class I extends pr{required;inputName="required";normalizeInput=v.L39;createValidator=E=>be;enabled(E){return E}static \u0275fac=(()=>{let E;return function(fe){return(E||(E=v.xGo(I)))(fe||I)}})();static \u0275dir=v.FsC({type:I,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(B,fe){2&B&&v.BMQ("required",fe._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[v.Jv_([Co]),v.Vt3]})}return I})();const Fr={provide:rt,useExisting:(0,v.Rfq)(()=>Fn),multi:!0};let Fn=(()=>{class I extends pr{pattern;inputName="pattern";normalizeInput=E=>E;createValidator=E=>it(E);static \u0275fac=(()=>{let E;return function(fe){return(E||(E=v.xGo(I)))(fe||I)}})();static \u0275dir=v.FsC({type:I,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(B,fe){2&B&&v.BMQ("pattern",fe._enabled?fe.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[v.Jv_([Fr]),v.Vt3]})}return I})(),ls=(()=>{class I{static \u0275fac=function(B){return new(B||I)};static \u0275mod=v.$C({type:I});static \u0275inj=v.G2t({})}return I})();class lr extends zt{constructor(T,E,B){super(zi(E),Ye(B,E)),this.controls=T,this._initObservables(),this._setUpdateStrategy(E),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(T){return this.controls[this._adjustIndex(T)]}push(T,E={}){this.controls.push(T),this._registerControl(T),this.updateValueAndValidity({emitEvent:E.emitEvent}),this._onCollectionChange()}insert(T,E,B={}){this.controls.splice(T,0,E),this._registerControl(E),this.updateValueAndValidity({emitEvent:B.emitEvent})}removeAt(T,E={}){let B=this._adjustIndex(T);B<0&&(B=0),this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),this.controls.splice(B,1),this.updateValueAndValidity({emitEvent:E.emitEvent})}setControl(T,E,B={}){let fe=this._adjustIndex(T);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),E&&(this.controls.splice(fe,0,E),this._registerControl(E)),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(T,E={}){ot(this,0,T),T.forEach((B,fe)=>{Te(this,!1,fe),this.at(fe).setValue(B,{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E)}patchValue(T,E={}){null!=T&&(T.forEach((B,fe)=>{this.at(fe)&&this.at(fe).patchValue(B,{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E))}reset(T=[],E={}){this._forEachChild((B,fe)=>{B.reset(T[fe],{onlySelf:!0,emitEvent:E.emitEvent})}),this._updatePristine(E,this),this._updateTouched(E,this),this.updateValueAndValidity(E)}getRawValue(){return this.controls.map(T=>T.getRawValue())}clear(T={}){this.controls.length<1||(this._forEachChild(E=>E._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:T.emitEvent}))}_adjustIndex(T){return T<0?T+this.length:T}_syncPendingControls(){let T=this.controls.reduce((E,B)=>!!B._syncPendingControls()||E,!1);return T&&this.updateValueAndValidity({onlySelf:!0}),T}_forEachChild(T){this.controls.forEach((E,B)=>{T(E,B)})}_updateValue(){this.value=this.controls.filter(T=>T.enabled||this.disabled).map(T=>T.value)}_anyControls(T){return this.controls.some(E=>E.enabled&&T(E))}_setUpControls(){this._forEachChild(T=>this._registerControl(T))}_allControlsDisabled(){for(const T of this.controls)if(T.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(T){T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange)}_find(T){return this.at(T)??null}}function cr(I){return!!I&&(void 0!==I.asyncValidators||void 0!==I.validators||void 0!==I.updateOn)}let so=(()=>{class I{useNonNullable=!1;get nonNullable(){const E=new I;return E.useNonNullable=!0,E}group(E,B=null){const fe=this._reduceControls(E);let Ft={};return cr(B)?Ft=B:null!==B&&(Ft.validators=B.validator,Ft.asyncValidators=B.asyncValidator),new jn(fe,Ft)}record(E,B=null){const fe=this._reduceControls(E);return new ni(fe,B)}control(E,B,fe){let Ft={};return this.useNonNullable?(cr(B)?Ft=B:(Ft.validators=B,Ft.asyncValidators=fe),new mo(E,{...Ft,nonNullable:!0})):new mo(E,B,fe)}array(E,B,fe){const Ft=E.map(pn=>this._createControl(pn));return new lr(Ft,B,fe)}_reduceControls(E){const B={};return Object.keys(E).forEach(fe=>{B[fe]=this._createControl(E[fe])}),B}_createControl(E){return E instanceof mo||E instanceof zt?E:Array.isArray(E)?this.control(E[0],E.length>1?E[1]:null,E.length>2?E[2]:null):this.control(E)}static \u0275fac=function(B){return new(B||I)};static \u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),ra=(()=>{class I{static withConfig(E){return{ngModule:I,providers:[{provide:Pi,useValue:E.callSetDisabledState??ii}]}}static \u0275fac=function(B){return new(B||I)};static \u0275mod=v.$C({type:I});static \u0275inj=v.G2t({imports:[ls]})}return I})(),Ta=(()=>{class I{static withConfig(E){return{ngModule:I,providers:[{provide:Ln,useValue:E.warnOnNgModelWithFormControl??"always"},{provide:Pi,useValue:E.callSetDisabledState??ii}]}}static \u0275fac=function(B){return new(B||I)};static \u0275mod=v.$C({type:I});static \u0275inj=v.G2t({imports:[ls]})}return I})()},9437:(ht,xe,D)=>{D.d(xe,{W:()=>N});var v=D(8750),e=D(4360),S=D(9974);function N(ne){return(0,S.N)((R,q)=>{let le,ce=null,te=!1;ce=R.subscribe((0,e._)(q,void 0,void 0,me=>{le=(0,v.Tg)(ne(me,N(ne)(R))),ce?(ce.unsubscribe(),ce=null,le.subscribe(q)):te=!0})),te&&(ce.unsubscribe(),ce=null,le.subscribe(q))})}},9470:(ht,xe,D)=>{D.d(xe,{m:()=>e});var v=D(8071);function e(S){return S&&(0,v.T)(S.schedule)}},9687:(ht,xe,D)=>{D.d(xe,{q:()=>S});var v=D(6129);class e{constructor(ne,R=e.now){this.schedulerActionCtor=ne,this.now=R}schedule(ne,R=0,q){return new this.schedulerActionCtor(this,ne).schedule(q,R)}}e.now=v.U.now;class S extends e{constructor(ne,R=e.now){super(ne,R),this.actions=[],this._active=!1}flush(ne){const{actions:R}=this;if(this._active)return void R.push(ne);let q;this._active=!0;do{if(q=ne.execute(ne.state,ne.delay))break}while(ne=R.shift());if(this._active=!1,q){for(;ne=R.shift();)ne.unsubscribe();throw q}}}},9786:(ht,xe,D)=>{D.d(xe,{Y:()=>S,l:()=>N});var v=D(1026);let e=null;function S(ne){if(v.$.useDeprecatedSynchronousErrorHandling){const R=!e;if(R&&(e={errorThrown:!1,error:null}),ne(),R){const{errorThrown:q,error:ce}=e;if(e=null,q)throw ce}}else ne()}function N(ne){v.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=ne)}},9847:(ht,xe,D)=>{D.d(xe,{_:()=>ke});var v=D(2881),e=D(1360),S=D(5106),N=D(3022),ne=D(3965);const R=Me=>({"titre--dark":Me});function q(Me,Ie){if(1&Me&&(e.j41(0,"h2",33)(1,"a",34),e.EFF(2,"Les Probl\xe8mes du Professeur Mojette"),e.k0s()()),2&Me){const Ne=e.XpG();e.Y8G("ngClass",e.eq3(1,R,Ne.shouldUseDarkTitle))}}function ce(Me,Ie){if(1&Me&&(e.j41(0,"h2",35)(1,"a",34),e.EFF(2,"PPMOJ"),e.k0s()()),2&Me){const Ne=e.XpG();e.Y8G("ngClass",e.eq3(1,R,Ne.shouldUseDarkTitle))}}function te(Me,Ie){if(1&Me){const Ne=e.RV6();e.j41(0,"div",36)(1,"button",37),e.bIt("click",function(){e.eBV(Ne);const Le=e.XpG();return e.Njj(Le.dialogCallback())}),e.j41(2,"div",38),e.nrm(3,"i",39),e.j41(4,"span"),e.EFF(5,"Connexion"),e.k0s()()()()}}function le(Me,Ie){if(1&Me&&(e.j41(0,"a",55)(1,"span",6),e.EFF(2,"shopping_cart"),e.k0s(),e.j41(3,"span",56),e.EFF(4),e.k0s()()),2&Me){const Ne=e.XpG(2);e.R7$(4),e.SpI(" ",Ne.getCartNumber()," ")}}function me(Me,Ie){if(1&Me){const Ne=e.RV6();e.j41(0,"div",40),e.DNE(1,le,5,1,"a",41),e.j41(2,"a",42)(3,"span",6),e.EFF(4,"poker_chip"),e.k0s(),e.j41(5,"span",43),e.EFF(6),e.k0s()(),e.j41(7,"a",44),e.nrm(8,"img",45),e.j41(9,"span",43),e.EFF(10),e.k0s()(),e.j41(11,"button",46)(12,"div",38),e.nrm(13,"i",39),e.j41(14,"span"),e.EFF(15),e.k0s()()(),e.j41(16,"ul",47)(17,"li",48),e.bIt("click",function(){e.eBV(Ne);const Le=e.XpG();return e.Njj(Le.goToProfilePage())})("keypress",function(){e.eBV(Ne);const Le=e.XpG();return e.Njj(Le.goToProfilePage())}),e.nrm(18,"i",49),e.j41(19,"span"),e.EFF(20,"Mon compte"),e.k0s()(),e.j41(21,"li",50),e.nrm(22,"img",45),e.j41(23,"span",51),e.EFF(24),e.k0s()(),e.j41(25,"li",52)(26,"span",6),e.EFF(27,"poker_chip"),e.k0s(),e.j41(28,"span",51),e.EFF(29),e.k0s()(),e.j41(30,"li",53),e.bIt("click",function(){e.eBV(Ne);const Le=e.XpG();return e.Njj(Le.logout())})("keypress",function(){e.eBV(Ne);const Le=e.XpG();return e.Njj(Le.logout())}),e.nrm(31,"i",54),e.j41(32,"span"),e.EFF(33,"Se d\xe9connecter"),e.k0s()()()()}if(2&Me){const Ne=e.XpG();e.R7$(),e.Y8G("ngIf",!Ne.isCartEmpty()),e.R7$(5),e.JRh(Ne.tokenCoins||0),e.R7$(4),e.JRh(Ne.mojettes||0),e.R7$(5),e.JRh(Ne.username),e.R7$(9),e.SpI("",Ne.mojettes||0," Mojs"),e.R7$(5),e.SpI("",Ne.tokenCoins||0," Jetons")}}let ke=(()=>{class Me{dialogCallback(){this.openDialog.emit()}constructor(Ne,ze,Le){this.router=Ne,this.authService=ze,this.cartService=Le,this.openDialog=new e.bkB,this.mojettes=0,this.tokenCoins=0,this.alertDismissed=!1,this.lightBackgroundRoutes=new Set(["histoire","boutique","cart","formation"]),this.currentRouteSegment="",this.shouldUseDarkTitle=!1,this.setAlertDismissed=()=>{localStorage.setItem("alertDismissed","true")},this.isConnected=()=>Object.prototype.hasOwnProperty.call(localStorage,"currentUser"),this.isCartEmpty=()=>this.cartService.isCartEmpty(),this.getCartNumber=()=>this.cartService.getAmountItems(),this.refreshUserData=()=>{const rt=localStorage.getItem("currentUser");if(!rt)return;const We=JSON.parse(rt||"");this.username=We.username,this.tokenCoins=We.token_coin,this.mojettes=We.mojettes},this.isHomePage=()=>["","formations"].includes(this.currentRouteSegment),this.goToProfilePage=()=>this.router.navigate(["/account"]),this.mojetteSubscription=this.authService.getUpdateMojette().subscribe(rt=>{this.mojettes=rt}),this.tokenCoinSubscription=this.authService.getUpdateTokenCoin().subscribe(rt=>{this.tokenCoins=rt}),this.userInfoSubscription=this.authService.getUpdateInfo().subscribe(rt=>{null!=rt&&(this.username=rt.username,this.mojettes=rt.mojettes)}),this.updateRouteContext(this.router.url),this.routerSubscription=this.router.events.subscribe(rt=>{rt instanceof S.wF&&this.updateRouteContext(rt.urlAfterRedirects)})}ngOnInit(){this.refreshUserData(),this.alertDismissed=JSON.parse(localStorage.getItem("alertDismissed")||"{}")||!1}ngAfterViewInit(){this.refreshUserData()}ngOnDestroy(){this.mojetteSubscription.unsubscribe(),this.tokenCoinSubscription.unsubscribe(),this.userInfoSubscription.unsubscribe(),this.routerSubscription.unsubscribe()}logout(){this.authService.logout()}updateRouteContext(Ne){const[ze]=Ne.split("?"),Le=ze.split("/").filter(Boolean).shift();this.currentRouteSegment=Le||"",this.shouldUseDarkTitle=this.lightBackgroundRoutes.has(this.currentRouteSegment)}static{this.\u0275fac=function(ze){return new(ze||Me)(e.rXU(S.Ix),e.rXU(N.u),e.rXU(ne.m))}}static{this.\u0275cmp=e.VBU({type:Me,selectors:[["app-navbar"]],hostAttrs:[1,"navbar-component"],outputs:{openDialog:"openDialog"},decls:68,vars:4,consts:[["role","alert",1,"alert","alert-primary","alert-dismissible","position-relative"],["data-bs-theme","dark",1,"navbar","container-fluid","d-flex","align-items-center"],[1,"position-absolute","flex"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar","aria-label","Toggle navigation",1,"btn","btn-navbar"],[1,"material-symbols-outlined","navbar-icon"],["href","/calendrier",1,"btn","btn-navbar","navbar-icon"],[1,"material-symbols-outlined"],["class","titre d-none d-lg-block zilla-slab",3,"ngClass",4,"ngIf"],["class","titre d-none d-md-block d-lg-none zilla-slab",3,"ngClass",4,"ngIf"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar","aria-label","Toggle navigation",1,"offcanvas","offcanvas-start"],[1,"offcanvas-header"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"offcanvas-section"],["href","/",1,"nav-link","header","zilla-slab"],[1,"navbar-nav","justify-content-end","flex-grow-1","px-3"],[1,"nav-item"],["href","/vef","aria-disabled","false",1,"nav-link"],["href","/mojette","aria-disabled","false",1,"nav-link"],["href","/carredudeney","aria-disabled","false",1,"nav-link"],["href","/nivat","aria-disabled","false",1,"nav-link"],["href","/enigme-semaine",1,"nav-link","header","zilla-slab"],["href","/work-in-progress","aria-disabled","false",1,"nav-link"],["href","/wall-of-fame","aria-disabled","false",1,"nav-link"],["href","/formations",1,"nav-link","header","zilla-slab"],["href","/histoire","aria-disabled","true",1,"nav-link"],["href","/formations/PROBLEME","aria-disabled","true",1,"nav-link"],["href","/boutique",1,"nav-link","header","zilla-slab"],["href","/conditions-generales-de-vente","aria-disabled","true",1,"nav-link"],["href","/mentions-legales","aria-disabled","false",1,"nav-link"],["href","/remerciements","aria-disabled","false",1,"nav-link"],["class","connect-btn",4,"ngIf"],["class","navbar-button-container d-flex flex-row position-absolute",4,"ngIf"],[1,"titre","d-none","d-lg-block","zilla-slab",3,"ngClass"],["href","#"],[1,"titre","d-none","d-md-block","d-lg-none","zilla-slab",3,"ngClass"],[1,"connect-btn"],[1,"btn","btn-sm","btn-text","btn-outline","d-flex","login-button","position-absolute",3,"click"],[1,"ItemsButtonLogin","d-flex","flex-row","align-items-center"],[1,"fa","fa-user"],[1,"navbar-button-container","d-flex","flex-row","position-absolute"],["class","btn navbar-icon position-relative","href","/cart",4,"ngIf"],["href","/boutique",1,"token-span-container","d-flex","flex-row","text-center","navbar-icon"],[1,"nb-mojette"],["href","/boutique",1,"mojette-span-container","d-flex","flex-row","text-center","navbar-icon"],["src","../../../assets/beans.svg","alt","Mojette SVG",1,"svg-img"],["data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","btn-text","btn-outline","d-flex","account-button"],[1,"dropdown-menu"],["tabindex","0",1,"account-management","clickable",3,"click","keypress"],[1,"bi","bi-person-fill-gear"],[1,"account-info","mojettes","d-block","d-lg-none"],[1,"nb-mojette","no-scrollbar"],[1,"account-info","token","d-flex","align-items-center","d-lg-none"],["tabindex","0",1,"account-logout","clickable",3,"click","keypress"],[1,"bi","bi-box-arrow-right"],["href","/cart",1,"btn","navbar-icon","position-relative"],[1,"position-absolute","translate-middle","badge","rounded-pill","bg-danger",2,"top","10%","left","80%"]],template:function(ze,Le){1&ze&&(e.j41(0,"div",0),e.EFF(1," Les mails de confirmation d'inscription peuvent arriver dans les spams. Pensez \xe0 v\xe9rifier !\n"),e.k0s(),e.j41(2,"nav",1)(3,"div",2)(4,"button",3)(5,"span",4),e.EFF(6,"menu"),e.k0s()(),e.j41(7,"a",5)(8,"span",6),e.EFF(9,"calendar_month"),e.k0s()()(),e.DNE(10,q,3,3,"h2",7)(11,ce,3,3,"h2",8),e.j41(12,"div",9)(13,"div",10),e.nrm(14,"button",11),e.k0s(),e.j41(15,"div",12)(16,"div",13)(17,"a",14),e.EFF(18,"Accueil"),e.k0s(),e.j41(19,"ul",15)(20,"li",16)(21,"a",17),e.EFF(22,"Vadrouille en France"),e.k0s()(),e.j41(23,"li",16)(24,"a",18),e.EFF(25,"Jeu Mojette"),e.k0s()(),e.j41(26,"li",16)(27,"a",19),e.EFF(28,"Les Carr\xe9s de Dudeney"),e.k0s()(),e.j41(29,"li",16)(30,"a",20),e.EFF(31,"Jeu Maurice Nivat"),e.k0s()()()(),e.j41(32,"div",13)(33,"a",21),e.EFF(34,"Enigme de la semaine"),e.k0s(),e.j41(35,"ul",15)(36,"li",16)(37,"a",22),e.EFF(38,"D\xe9coder l'\xe9nigme de la semaine"),e.k0s()(),e.j41(39,"li",16)(40,"a",23),e.EFF(41,"Wall Of Fame"),e.k0s()()()(),e.j41(42,"div",13)(43,"a",24),e.EFF(44,"Espace Formations"),e.k0s(),e.j41(45,"ul",15)(46,"li",16)(47,"a",25),e.EFF(48,"Histoire des math\xe9matiques"),e.k0s()(),e.j41(49,"li",16)(50,"a",26),e.EFF(51,'Formations "R\xe9solution de probl\xe8mes"'),e.k0s()()()(),e.j41(52,"div",13)(53,"a",27),e.EFF(54,"Boutique"),e.k0s()(),e.j41(55,"div",13)(56,"ul",15)(57,"li",16)(58,"a",28),e.EFF(59," Conditions g\xe9n\xe9rales de vente "),e.k0s()(),e.j41(60,"li",16)(61,"a",29),e.EFF(62,"Mentions L\xe9gales"),e.k0s()(),e.j41(63,"li",16)(64,"a",30),e.EFF(65,"Remerciements"),e.k0s()()()()()(),e.DNE(66,te,6,0,"div",31)(67,me,34,6,"div",32),e.k0s()),2&ze&&(e.R7$(10),e.Y8G("ngIf",!Le.isHomePage()),e.R7$(),e.Y8G("ngIf",!Le.isHomePage()),e.R7$(55),e.Y8G("ngIf",!Le.isConnected()),e.R7$(),e.Y8G("ngIf",Le.isConnected()))},dependencies:[v.bT,v.YU],styles:['.navbar[_ngcontent-%COMP%]{background-color:transparent!important;padding:0!important;color:var(--text-color)!important;min-height:54px;z-index:2}.navbar[_ngcontent-%COMP%] > button.navbar-toggler[_ngcontent-%COMP%]{position:relative;border:0;height:70%;aspect-ratio:1/1;padding:0;display:flex;justify-content:center;align-items:center;margin:auto 0;border-radius:8px!important;left:1em;color:var(--text-color)}.navbar[_ngcontent-%COMP%] > button.navbar-toggler[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:100%}.navbar[_ngcontent-%COMP%] > button.navbar-toggler[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--text-color) 10%,transparent 90%)}.navbar[_ngcontent-%COMP%] > button.navbar-toggler[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:1.2em;color:var(--text-color)!important}.navbar[_ngcontent-%COMP%] > .dropstart[_ngcontent-%COMP%]{right:1em}#offcanvasNavbar[_ngcontent-%COMP%]{background-color:color-mix(in srgb,black 70%,transparent 30%);width:340px;backdrop-filter:blur(10px);border-right:color-mix(in srgb,black 80%,transparent 20%);padding:1em 0}#offcanvasNavbar[_ngcontent-%COMP%] > .offcanvas-header[_ngcontent-%COMP%]{position:absolute;justify-content:flex-end;padding:2em 5%;font-size:1em;z-index:2;right:1em}#offcanvasNavbar[_ngcontent-%COMP%] > .offcanvas-body[_ngcontent-%COMP%]{padding:0}#offcanvasNavbar[_ngcontent-%COMP%] > .offcanvas-body[_ngcontent-%COMP%] > .offcanvas-section[_ngcontent-%COMP%]{padding:1em}#offcanvasNavbar[_ngcontent-%COMP%] > .offcanvas-body[_ngcontent-%COMP%] > .offcanvas-section[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{font-size:1.6em;margin:.5em 0}#offcanvasNavbar[_ngcontent-%COMP%] > .offcanvas-body[_ngcontent-%COMP%] > .offcanvas-section[_ngcontent-%COMP%]:not(:last-child){position:relative}#offcanvasNavbar[_ngcontent-%COMP%] > .offcanvas-body[_ngcontent-%COMP%] > .offcanvas-section[_ngcontent-%COMP%]:not(:last-child):after{content:"";display:block;width:60%;position:absolute;bottom:0;left:1em;height:1px;background-color:color-mix(in srgb,#0A0F0D 60%,white 40%)}#offcanvasNavbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}#offcanvasNavbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent-color)!important}h2.titre[_ngcontent-%COMP%]{margin:0 auto;padding:3px}h2.titre[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#f5efed!important;text-decoration:none}h2.titre.titre--dark[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000!important}@media (max-width: 991px){h2.titre[_ngcontent-%COMP%]{margin-left:3.5em}}.navbar-button-container[_ngcontent-%COMP%]{right:1em}.login-button[_ngcontent-%COMP%]{top:.5em;right:1em}.account-button[_ngcontent-%COMP%]{margin:0;z-index:10;max-width:168px;color:var(--secondary-color);border:1px solid var(--secondary-color)!important}@media (max-width: 768px){.account-button[_ngcontent-%COMP%]{border:0!important;width:fit-content;max-width:168px}.account-button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-right:0}.account-button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1.1em;margin-right:.25em}}.login-button[_ngcontent-%COMP%], .account-button[_ngcontent-%COMP%]{background:transparent!important}.login-button[_ngcontent-%COMP%]:hover, .account-button[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--secondary-color) 10%,transparent 90%)!important}.ItemsButtonLogin[_ngcontent-%COMP%]{height:100%;align-items:center!important;flex:1;justify-content:space-between;max-width:138px}.ItemsButtonLogin[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{padding:0 .5em 0 0;font-size:1.15em}@media (max-width: 768px){.ItemsButtonLogin[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{padding:2px}}.ItemsButtonLogin[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.dropstart[_ngcontent-%COMP%]{z-index:2;width:168px}@media (max-width: 768px){.dropstart[_ngcontent-%COMP%]{width:130px}}.dropdown-menu[_ngcontent-%COMP%]{position:absolute!important;background:transparent!important;backdrop-filter:blur(15px);border:1px solid var(--secondary-color);color:var(--secondary-color);border-radius:20px;box-shadow:var(--box-shadow);padding:0;display:flex;flex-direction:column;top:-100px;right:0;width:168px;max-width:168px;min-width:unset;opacity:0;transition:all .2s ease-out;z-index:9;overflow:hidden}.dropdown-menu.show[_ngcontent-%COMP%]{opacity:1;top:37px!important;margin-left:auto!important}.dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:1em;margin:auto}.dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:.75em 1em;margin:0;font-size:.9em;background:transparent}.dropdown-menu[_ngcontent-%COMP%] > li.clickable[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--secondary-color) 10%,transparent 90%);cursor:pointer}.dropdown-menu[_ngcontent-%COMP%] > li.account-info.token[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{font-size:16px;margin:0}.dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--secondary-color)}.dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:0 0 0 .5em;overflow:auto;text-wrap:nowrap}.dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16px}.navbar-icon[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-color)}.mojette-span-container[_ngcontent-%COMP%], .token-span-container[_ngcontent-%COMP%]{flex-direction:row;vertical-align:center;text-align:center;align-items:center;margin-right:4px;justify-content:space-between;height:36px;max-width:120px;padding:0 .5em;z-index:11}.mojette-span-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%], .token-span-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16px}.mojette-span-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .token-span-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding-left:.5em}.mojette-span-container[_ngcontent-%COMP%] > .material-symbols-outlined[_ngcontent-%COMP%], .token-span-container[_ngcontent-%COMP%] > .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px}.dark-theme[_ngcontent-%COMP%]   .mojette-span-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{filter:invert(100)}']})}}return Me})()},9858:(ht,xe,D)=>{D.d(xe,{y:()=>e});var v=D(8071);function e(S){return(0,v.T)(S?.then)}},9901:(ht,xe,D)=>{D.d(xe,{U:()=>S});var v=D(9974),e=D(4360);function S(N){return(0,v.N)((ne,R)=>{let q=!1;ne.subscribe((0,e._)(R,ce=>{q=!0,R.next(ce)},()=>{q||R.next(N),R.complete()}))})}},9974:(ht,xe,D)=>{D.d(xe,{N:()=>S,S:()=>e});var v=D(8071);function e(N){return(0,v.T)(N?.lift)}function S(N){return ne=>{if(e(ne))return ne.lift(function(R){try{return N(R,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}}},ht=>{ht(ht.s=2610)}]);